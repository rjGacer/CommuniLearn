(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function o(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(d){if(d.ep)return;d.ep=!0;const m=o(d);fetch(d.href,m)}})();function Xh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ao={exports:{}},Ce={};var ah;function iv(){if(ah)return Ce;ah=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.iterator;function le(E){return E===null||typeof E!="object"?null:(E=V&&E[V]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function U(E,z,L){this.props=E,this.context=z,this.refs=S,this.updater=L||D}U.prototype.isReactComponent={},U.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},U.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function B(){}B.prototype=U.prototype;function k(E,z,L){this.props=E,this.context=z,this.refs=S,this.updater=L||D}var K=k.prototype=new B;K.constructor=k,w(K,U.prototype),K.isPureReactComponent=!0;var A=Array.isArray;function O(){}var g={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function H(E,z,L){var Q=L.ref;return{$$typeof:i,type:E,key:z,ref:Q!==void 0?Q:null,props:L}}function ee(E,z){return H(E.type,z,E.props)}function R(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function X(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(L){return z[L]})}var $=/\/+/g;function _(E,z){return typeof E=="object"&&E!==null&&E.key!=null?X(""+E.key):z.toString(36)}function de(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(O,O):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function T(E,z,L,Q,Y){var Z=typeof E;(Z==="undefined"||Z==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(Z){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case i:case r:ce=!0;break;case j:return ce=E._init,T(ce(E._payload),z,L,Q,Y)}}if(ce)return Y=Y(E),ce=Q===""?"."+_(E,0):Q,A(Y)?(L="",ce!=null&&(L=ce.replace($,"$&/")+"/"),T(Y,z,L,"",function(xe){return xe})):Y!=null&&(R(Y)&&(Y=ee(Y,L+(Y.key==null||E&&E.key===Y.key?"":(""+Y.key).replace($,"$&/")+"/")+ce)),z.push(Y)),1;ce=0;var ge=Q===""?".":Q+":";if(A(E))for(var he=0;he<E.length;he++)Q=E[he],Z=ge+_(Q,he),ce+=T(Q,z,L,Z,Y);else if(he=le(E),typeof he=="function")for(E=he.call(E),he=0;!(Q=E.next()).done;)Q=Q.value,Z=ge+_(Q,he++),ce+=T(Q,z,L,Z,Y);else if(Z==="object"){if(typeof E.then=="function")return T(de(E),z,L,Q,Y);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ce}function J(E,z,L){if(E==null)return E;var Q=[],Y=0;return T(E,Q,"","",function(Z){return z.call(L,Z,Y++)}),Q}function G(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(L){(E._status===0||E._status===-1)&&(E._status=1,E._result=L)},function(L){(E._status===0||E._status===-1)&&(E._status=2,E._result=L)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var se=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},me={map:J,forEach:function(E,z,L){J(E,function(){z.apply(this,arguments)},L)},count:function(E){var z=0;return J(E,function(){z++}),z},toArray:function(E){return J(E,function(z){return z})||[]},only:function(E){if(!R(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ce.Activity=C,Ce.Children=me,Ce.Component=U,Ce.Fragment=o,Ce.Profiler=d,Ce.PureComponent=k,Ce.StrictMode=u,Ce.Suspense=b,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return g.H.useMemoCache(E)}},Ce.cache=function(E){return function(){return E.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(E,z,L){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Q=w({},E.props),Y=E.key;if(z!=null)for(Z in z.key!==void 0&&(Y=""+z.key),z)!N.call(z,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&z.ref===void 0||(Q[Z]=z[Z]);var Z=arguments.length-2;if(Z===1)Q.children=L;else if(1<Z){for(var ce=Array(Z),ge=0;ge<Z;ge++)ce[ge]=arguments[ge+2];Q.children=ce}return H(E.type,Y,Q)},Ce.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:m,_context:E},E},Ce.createElement=function(E,z,L){var Q,Y={},Z=null;if(z!=null)for(Q in z.key!==void 0&&(Z=""+z.key),z)N.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(Y[Q]=z[Q]);var ce=arguments.length-2;if(ce===1)Y.children=L;else if(1<ce){for(var ge=Array(ce),he=0;he<ce;he++)ge[he]=arguments[he+2];Y.children=ge}if(E&&E.defaultProps)for(Q in ce=E.defaultProps,ce)Y[Q]===void 0&&(Y[Q]=ce[Q]);return H(E,Z,Y)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(E){return{$$typeof:y,render:E}},Ce.isValidElement=R,Ce.lazy=function(E){return{$$typeof:j,_payload:{_status:-1,_result:E},_init:G}},Ce.memo=function(E,z){return{$$typeof:p,type:E,compare:z===void 0?null:z}},Ce.startTransition=function(E){var z=g.T,L={};g.T=L;try{var Q=E(),Y=g.S;Y!==null&&Y(L,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(O,se)}catch(Z){se(Z)}finally{z!==null&&L.types!==null&&(z.types=L.types),g.T=z}},Ce.unstable_useCacheRefresh=function(){return g.H.useCacheRefresh()},Ce.use=function(E){return g.H.use(E)},Ce.useActionState=function(E,z,L){return g.H.useActionState(E,z,L)},Ce.useCallback=function(E,z){return g.H.useCallback(E,z)},Ce.useContext=function(E){return g.H.useContext(E)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(E,z){return g.H.useDeferredValue(E,z)},Ce.useEffect=function(E,z){return g.H.useEffect(E,z)},Ce.useEffectEvent=function(E){return g.H.useEffectEvent(E)},Ce.useId=function(){return g.H.useId()},Ce.useImperativeHandle=function(E,z,L){return g.H.useImperativeHandle(E,z,L)},Ce.useInsertionEffect=function(E,z){return g.H.useInsertionEffect(E,z)},Ce.useLayoutEffect=function(E,z){return g.H.useLayoutEffect(E,z)},Ce.useMemo=function(E,z){return g.H.useMemo(E,z)},Ce.useOptimistic=function(E,z){return g.H.useOptimistic(E,z)},Ce.useReducer=function(E,z,L){return g.H.useReducer(E,z,L)},Ce.useRef=function(E){return g.H.useRef(E)},Ce.useState=function(E){return g.H.useState(E)},Ce.useSyncExternalStore=function(E,z,L){return g.H.useSyncExternalStore(E,z,L)},Ce.useTransition=function(){return g.H.useTransition()},Ce.version="19.2.0",Ce}var lh;function Jo(){return lh||(lh=1,Ao.exports=iv()),Ao.exports}var x=Jo();const da=Xh(x);var Eo={exports:{}},vi={},zo={exports:{}},Co={};var ih;function sv(){return ih||(ih=1,(function(i){function r(T,J){var G=T.length;T.push(J);e:for(;0<G;){var se=G-1>>>1,me=T[se];if(0<d(me,J))T[se]=J,T[G]=me,G=se;else break e}}function o(T){return T.length===0?null:T[0]}function u(T){if(T.length===0)return null;var J=T[0],G=T.pop();if(G!==J){T[0]=G;e:for(var se=0,me=T.length,E=me>>>1;se<E;){var z=2*(se+1)-1,L=T[z],Q=z+1,Y=T[Q];if(0>d(L,G))Q<me&&0>d(Y,L)?(T[se]=Y,T[Q]=G,se=Q):(T[se]=L,T[z]=G,se=z);else if(Q<me&&0>d(Y,G))T[se]=Y,T[Q]=G,se=Q;else break e}}return J}function d(T,J){var G=T.sortIndex-J.sortIndex;return G!==0?G:T.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var h=Date,y=h.now();i.unstable_now=function(){return h.now()-y}}var b=[],p=[],j=1,C=null,V=3,le=!1,D=!1,w=!1,S=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function K(T){for(var J=o(p);J!==null;){if(J.callback===null)u(p);else if(J.startTime<=T)u(p),J.sortIndex=J.expirationTime,r(b,J);else break;J=o(p)}}function A(T){if(w=!1,K(T),!D)if(o(b)!==null)D=!0,O||(O=!0,X());else{var J=o(p);J!==null&&de(A,J.startTime-T)}}var O=!1,g=-1,N=5,H=-1;function ee(){return S?!0:!(i.unstable_now()-H<N)}function R(){if(S=!1,O){var T=i.unstable_now();H=T;var J=!0;try{e:{D=!1,w&&(w=!1,B(g),g=-1),le=!0;var G=V;try{t:{for(K(T),C=o(b);C!==null&&!(C.expirationTime>T&&ee());){var se=C.callback;if(typeof se=="function"){C.callback=null,V=C.priorityLevel;var me=se(C.expirationTime<=T);if(T=i.unstable_now(),typeof me=="function"){C.callback=me,K(T),J=!0;break t}C===o(b)&&u(b),K(T)}else u(b);C=o(b)}if(C!==null)J=!0;else{var E=o(p);E!==null&&de(A,E.startTime-T),J=!1}}break e}finally{C=null,V=G,le=!1}J=void 0}}finally{J?X():O=!1}}}var X;if(typeof k=="function")X=function(){k(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,_=$.port2;$.port1.onmessage=R,X=function(){_.postMessage(null)}}else X=function(){U(R,0)};function de(T,J){g=U(function(){T(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(T){T.callback=null},i.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_next=function(T){switch(V){case 1:case 2:case 3:var J=3;break;default:J=V}var G=V;V=J;try{return T()}finally{V=G}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(T,J){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var G=V;V=T;try{return J()}finally{V=G}},i.unstable_scheduleCallback=function(T,J,G){var se=i.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,T){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=G+me,T={id:j++,callback:J,priorityLevel:T,startTime:G,expirationTime:me,sortIndex:-1},G>se?(T.sortIndex=G,r(p,T),o(b)===null&&T===o(p)&&(w?(B(g),g=-1):w=!0,de(A,G-se))):(T.sortIndex=me,r(b,T),D||le||(D=!0,O||(O=!0,X()))),T},i.unstable_shouldYield=ee,i.unstable_wrapCallback=function(T){var J=V;return function(){var G=V;V=J;try{return T.apply(this,arguments)}finally{V=G}}}})(Co)),Co}var sh;function rv(){return sh||(sh=1,zo.exports=sv()),zo.exports}var To={exports:{}},wt={};var rh;function cv(){if(rh)return wt;rh=1;var i=Jo();function r(b){var p="https://react.dev/errors/"+b;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)p+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+b+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(b,p,j){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:C==null?null:""+C,children:b,containerInfo:p,implementation:j}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,p){if(b==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,wt.createPortal=function(b,p){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return m(b,p,null,j)},wt.flushSync=function(b){var p=h.T,j=u.p;try{if(h.T=null,u.p=2,b)return b()}finally{h.T=p,u.p=j,u.d.f()}},wt.preconnect=function(b,p){typeof b=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,u.d.C(b,p))},wt.prefetchDNS=function(b){typeof b=="string"&&u.d.D(b)},wt.preinit=function(b,p){if(typeof b=="string"&&p&&typeof p.as=="string"){var j=p.as,C=y(j,p.crossOrigin),V=typeof p.integrity=="string"?p.integrity:void 0,le=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;j==="style"?u.d.S(b,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:le}):j==="script"&&u.d.X(b,{crossOrigin:C,integrity:V,fetchPriority:le,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wt.preinitModule=function(b,p){if(typeof b=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var j=y(p.as,p.crossOrigin);u.d.M(b,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&u.d.M(b)},wt.preload=function(b,p){if(typeof b=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var j=p.as,C=y(j,p.crossOrigin);u.d.L(b,j,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wt.preloadModule=function(b,p){if(typeof b=="string")if(p){var j=y(p.as,p.crossOrigin);u.d.m(b,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else u.d.m(b)},wt.requestFormReset=function(b){u.d.r(b)},wt.unstable_batchedUpdates=function(b,p){return b(p)},wt.useFormState=function(b,p,j){return h.H.useFormState(b,p,j)},wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},wt.version="19.2.0",wt}var ch;function ov(){if(ch)return To.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),To.exports=cv(),To.exports}var oh;function uv(){if(oh)return vi;oh=1;var i=rv(),r=Jo(),o=ov();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(m(e)!==e)throw Error(u(188))}function p(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return b(s),e;if(c===a)return b(s),t;c=c.sibling}throw Error(u(188))}if(n.return!==a.return)n=s,a=c;else{for(var f=!1,v=s.child;v;){if(v===n){f=!0,n=s,a=c;break}if(v===a){f=!0,a=s,n=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===n){f=!0,n=c,a=s;break}if(v===a){f=!0,a=c,n=s;break}v=v.sibling}if(!f)throw Error(u(189))}}if(n.alternate!==a)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,V=Symbol.for("react.element"),le=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),k=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var $=Symbol.for("react.client.reference");function _(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case U:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList";case H:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case k:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g:return t=e.displayName||null,t!==null?t:_(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return _(e(t))}catch{}}return null}var de=Array.isArray,T=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},se=[],me=-1;function E(e){return{current:e}}function z(e){0>me||(e.current=se[me],se[me]=null,me--)}function L(e,t){me++,se[me]=e.current,e.current=t}var Q=E(null),Y=E(null),Z=E(null),ce=E(null);function ge(e,t){switch(L(Z,t),L(Y,e),L(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Em(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Em(t),e=zm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(Q),L(Q,e)}function he(){z(Q),z(Y),z(Z)}function xe(e){e.memoizedState!==null&&L(ce,e);var t=Q.current,n=zm(t,e.type);t!==n&&(L(Y,e),L(Q,n))}function Ue(e){Y.current===e&&(z(Q),z(Y)),ce.current===e&&(z(ce),hi._currentValue=G)}var Be,Jt;function Et(e){if(Be===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Be=t&&t[1]||"",Jt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+e+Jt}var Ct=!1;function fe(e,t){if(!e||Ct)return"";Ct=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var P=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){P=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){P=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&P&&typeof ae.stack=="string")return[ae.stack,P.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),f=c[0],v=c[1];if(f&&v){var M=f.split(`
`),I=v.split(`
`);for(s=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;s<I.length&&!I[s].includes("DetermineComponentFrameRoot");)s++;if(a===M.length||s===I.length)for(a=M.length-1,s=I.length-1;1<=a&&0<=s&&M[a]!==I[s];)s--;for(;1<=a&&0<=s;a--,s--)if(M[a]!==I[s]){if(a!==1||s!==1)do if(a--,s--,0>s||M[a]!==I[s]){var ie=`
`+M[a].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=a&&0<=s);break}}}finally{Ct=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Et(n):""}function ze(e,t){switch(e.tag){case 26:case 27:case 5:return Et(e.type);case 16:return Et("Lazy");case 13:return e.child!==t&&t!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return fe(e.type,!1);case 11:return fe(e.type.render,!1);case 1:return fe(e.type,!0);case 31:return Et("Activity");default:return""}}function Ee(e){try{var t="",n=null;do t+=ze(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ne=Object.prototype.hasOwnProperty,we=i.unstable_scheduleCallback,Se=i.unstable_cancelCallback,Ne=i.unstable_shouldYield,oe=i.unstable_requestPaint,pe=i.unstable_now,je=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,Ge=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,qt=i.unstable_LowPriority,St=i.unstable_IdlePriority,fa=i.log,_a=i.unstable_setDisableYieldValue,Hn=null,mt=null;function rn(e){if(typeof fa=="function"&&_a(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Hn,e)}catch{}}var Ht=Math.clz32?Math.clz32:Gp,$p=Math.log,Vp=Math.LN2;function Gp(e){return e>>>=0,e===0?32:31-($p(e)/Vp|0)|0}var Di=256,Oi=262144,Ri=4194304;function ma(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mi(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~c,a!==0?s=ma(a):(f&=v,f!==0?s=ma(f):n||(n=v&~e,n!==0&&(s=ma(n))))):(v=a&~c,v!==0?s=ma(v):f!==0?s=ma(f):n||(n=a&~e,n!==0&&(s=ma(n)))),s===0?0:t!==0&&t!==s&&(t&c)===0&&(c=s&-s,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:s}function zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ri;return Ri<<=1,(Ri&62914560)===0&&(Ri=4194304),e}function fr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fp(e,t,n,a,s,c){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,M=e.expirationTimes,I=e.hiddenUpdates;for(n=f&~n;0<n;){var ie=31-Ht(n),ue=1<<ie;v[ie]=0,M[ie]=-1;var P=I[ie];if(P!==null)for(I[ie]=null,ie=0;ie<P.length;ie++){var ae=P[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}a!==0&&ru(e,a,0),c!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function ru(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ht(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function cu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ht(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function ou(e,t){var n=t&-t;return n=(n&42)!==0?1:mr(n),(n&(e.suspendedLanes|t))!==0?0:n}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Km(e.type))}function du(e,t){var n=J.p;try{return J.p=e,t()}finally{J.p=n}}var Qn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Qn,Tt="__reactProps$"+Qn,ka="__reactContainer$"+Qn,pr="__reactEvents$"+Qn,Jp="__reactListeners$"+Qn,Zp="__reactHandles$"+Qn,fu="__reactResources$"+Qn,Tl="__reactMarker$"+Qn;function gr(e){delete e[gt],delete e[Tt],delete e[pr],delete e[Jp],delete e[Zp]}function La(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ka]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_m(e);e!==null;){if(n=e[gt])return n;e=_m(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){if(e=e[gt]||e[ka]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Dl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Ba(e){var t=e[fu];return t||(t=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[Tl]=!0}var mu=new Set,hu={};function ha(e,t){qa(e,t),qa(e+"Capture",t)}function qa(e,t){for(hu[e]=t,e=0;e<t.length;e++)mu.add(t[e])}var Kp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},gu={};function Wp(e){return ne.call(gu,e)?!0:ne.call(pu,e)?!1:Kp.test(e)?gu[e]=!0:(pu[e]=!0,!1)}function _i(e,t,n){if(Wp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ki(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ip(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(f){n=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yr(e){if(!e._valueTracker){var t=yu(e)?"checked":"value";e._valueTracker=Ip(e,t,""+e[t])}}function vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=yu(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pp=/[\n"\\]/g;function Kt(e){return e.replace(Pp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vr(e,t,n,a,s,c,f,v){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?xr(e,f,Zt(t)):n!=null?xr(e,f,Zt(n)):a!=null&&e.removeAttribute("value"),s==null&&c!=null&&(e.defaultChecked=!!c),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Zt(v):e.removeAttribute("name")}function xu(e,t,n,a,s,c,f,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){yr(e);return}n=n!=null?""+Zt(n):"",t=t!=null?""+Zt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),yr(e)}function xr(e,t,n){t==="number"&&Li(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ha(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bu(e,t,n){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Zt(n):""}function ju(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(u(92));if(de(a)){if(1<a.length)throw Error(u(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Zt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),yr(e)}function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||eg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wu(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&Su(e,s,a)}else for(var c in t)t.hasOwnProperty(c)&&Su(e,c,t[c])}function br(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(e){return ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var jr=null;function Sr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ya=null,$a=null;function Nu(e){var t=Ua(e);if(t&&(e=t.stateNode)){var n=e[Tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Tt]||null;if(!s)throw Error(u(90));vr(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&vu(a)}break e;case"textarea":bu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ha(e,!!n.multiple,t,!1)}}}var wr=!1;function Au(e,t,n){if(wr)return e(t,n);wr=!0;try{var a=e(t);return a}finally{if(wr=!1,(Ya!==null||$a!==null)&&(Ns(),Ya&&(t=Ya,e=$a,$a=Ya=null,Nu(t),e)))for(t=0;t<e.length;t++)Nu(e[t])}}function Ol(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Tt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Sn)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Nr=!1}var Yn=null,Ar=null,Bi=null;function Eu(){if(Bi)return Bi;var e,t=Ar,n=t.length,a,s="value"in Yn?Yn.value:Yn.textContent,c=s.length;for(e=0;e<n&&t[e]===s[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===s[c-a];a++);return Bi=s.slice(e,1<a?1-a:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function zu(){return!1}function Dt(e){function t(n,a,s,c,f){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Hi:zu,this.isPropagationStopped=zu,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Dt(pa),Ml=C({},pa,{view:0,detail:0}),ag=Dt(Ml),Er,zr,_l,Yi=C({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_l&&(_l&&e.type==="mousemove"?(Er=e.screenX-_l.screenX,zr=e.screenY-_l.screenY):zr=Er=0,_l=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:zr}}),Cu=Dt(Yi),lg=C({},Yi,{dataTransfer:0}),ig=Dt(lg),sg=C({},Ml,{relatedTarget:0}),Cr=Dt(sg),rg=C({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),cg=Dt(rg),og=C({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=Dt(og),dg=C({},pa,{data:0}),Tu=Dt(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function Tr(){return pg}var gg=C({},Ml,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=Dt(gg),vg=C({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=Dt(vg),xg=C({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),bg=Dt(xg),jg=C({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=Dt(jg),wg=C({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ng=Dt(wg),Ag=C({},pa,{newState:0,oldState:0}),Eg=Dt(Ag),zg=[9,13,27,32],Dr=Sn&&"CompositionEvent"in window,kl=null;Sn&&"documentMode"in document&&(kl=document.documentMode);var Cg=Sn&&"TextEvent"in window&&!kl,Ou=Sn&&(!Dr||kl&&8<kl&&11>=kl),Ru=" ",Mu=!1;function _u(e,t){switch(e){case"keyup":return zg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Va=!1;function Tg(e,t){switch(e){case"compositionend":return ku(t);case"keypress":return t.which!==32?null:(Mu=!0,Ru);case"textInput":return e=t.data,e===Ru&&Mu?null:e;default:return null}}function Dg(e,t){if(Va)return e==="compositionend"||!Dr&&_u(e,t)?(e=Eu(),Bi=Ar=Yn=null,Va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ou&&t.locale!=="ko"?null:t.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Og[e.type]:t==="textarea"}function Uu(e,t,n,a){Ya?$a?$a.push(a):$a=[a]:Ya=a,t=Os(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ll=null,Ul=null;function Rg(e){bm(e,0)}function $i(e){var t=Dl(e);if(vu(t))return e}function Bu(e,t){if(e==="change")return t}var qu=!1;if(Sn){var Or;if(Sn){var Rr="oninput"in document;if(!Rr){var Hu=document.createElement("div");Hu.setAttribute("oninput","return;"),Rr=typeof Hu.oninput=="function"}Or=Rr}else Or=!1;qu=Or&&(!document.documentMode||9<document.documentMode)}function Qu(){Ll&&(Ll.detachEvent("onpropertychange",Yu),Ul=Ll=null)}function Yu(e){if(e.propertyName==="value"&&$i(Ul)){var t=[];Uu(t,Ul,e,Sr(e)),Au(Rg,t)}}function Mg(e,t,n){e==="focusin"?(Qu(),Ll=t,Ul=n,Ll.attachEvent("onpropertychange",Yu)):e==="focusout"&&Qu()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(Ul)}function kg(e,t){if(e==="click")return $i(t)}function Lg(e,t){if(e==="input"||e==="change")return $i(t)}function Ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Ug;function Bl(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!ne.call(t,s)||!Qt(e[s],t[s]))return!1}return!0}function $u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vu(e,t){var n=$u(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$u(n)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Li(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Li(e.document)}return t}function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bg=Sn&&"documentMode"in document&&11>=document.documentMode,Ga=null,_r=null,ql=null,kr=!1;function Fu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kr||Ga==null||Ga!==Li(a)||(a=Ga,"selectionStart"in a&&Mr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ql&&Bl(ql,a)||(ql=a,a=Os(_r,"onSelect"),0<a.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ga)))}function ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xa={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Lr={},Ju={};Sn&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ya(e){if(Lr[e])return Lr[e];if(!Xa[e])return e;var t=Xa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ju)return Lr[e]=t[n];return e}var Zu=ya("animationend"),Ku=ya("animationiteration"),Wu=ya("animationstart"),qg=ya("transitionrun"),Hg=ya("transitionstart"),Qg=ya("transitioncancel"),Iu=ya("transitionend"),Pu=new Map,Ur="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ur.push("scrollEnd");function cn(e,t){Pu.set(e,t),ha(t,[e])}var Vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Fa=0,Br=0;function Gi(){for(var e=Fa,t=Br=Fa=0;t<e;){var n=Wt[t];Wt[t++]=null;var a=Wt[t];Wt[t++]=null;var s=Wt[t];Wt[t++]=null;var c=Wt[t];if(Wt[t++]=null,a!==null&&s!==null){var f=a.pending;f===null?s.next=s:(s.next=f.next,f.next=s),a.pending=s}c!==0&&ed(n,s,c)}}function Xi(e,t,n,a){Wt[Fa++]=e,Wt[Fa++]=t,Wt[Fa++]=n,Wt[Fa++]=a,Br|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function qr(e,t,n,a){return Xi(e,t,n,a),Fi(e)}function va(e,t){return Xi(e,null,null,t),Fi(e)}function ed(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var s=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(s=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,s&&t!==null&&(s=31-Ht(n),e=c.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=n|536870912),c):null}function Fi(e){if(50<ri)throw ri=0,Jc=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ja={};function Yg(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,a){return new Yg(e,t,n,a)}function Hr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wn(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function td(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ji(e,t,n,a,s,c){var f=0;if(a=e,typeof e=="function")Hr(e)&&(f=1);else if(typeof e=="string")f=Fy(e,n,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case H:return e=Yt(31,n,t,s),e.elementType=H,e.lanes=c,e;case w:return xa(n.children,s,c,t);case S:f=8,s|=24;break;case U:return e=Yt(12,n,t,s|2),e.elementType=U,e.lanes=c,e;case A:return e=Yt(13,n,t,s),e.elementType=A,e.lanes=c,e;case O:return e=Yt(19,n,t,s),e.elementType=O,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:f=10;break e;case B:f=9;break e;case K:f=11;break e;case g:f=14;break e;case N:f=16,a=null;break e}f=29,n=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Yt(f,n,t,s),t.elementType=e,t.type=a,t.lanes=c,t}function xa(e,t,n,a){return e=Yt(7,e,a,t),e.lanes=n,e}function Qr(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function nd(e){var t=Yt(18,null,null,0);return t.stateNode=e,t}function Yr(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ad=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var n=ad.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ee(t)},ad.set(e,t),t)}return{value:e,source:t,stack:Ee(t)}}var Za=[],Ka=0,Zi=null,Hl=0,Pt=[],en=0,$n=null,hn=1,pn="";function Nn(e,t){Za[Ka++]=Hl,Za[Ka++]=Zi,Zi=e,Hl=t}function ld(e,t,n){Pt[en++]=hn,Pt[en++]=pn,Pt[en++]=$n,$n=e;var a=hn;e=pn;var s=32-Ht(a)-1;a&=~(1<<s),n+=1;var c=32-Ht(t)+s;if(30<c){var f=s-s%5;c=(a&(1<<f)-1).toString(32),a>>=f,s-=f,hn=1<<32-Ht(t)+s|n<<s|a,pn=c+e}else hn=1<<c|n<<s|a,pn=e}function $r(e){e.return!==null&&(Nn(e,1),ld(e,1,0))}function Vr(e){for(;e===Zi;)Zi=Za[--Ka],Za[Ka]=null,Hl=Za[--Ka],Za[Ka]=null;for(;e===$n;)$n=Pt[--en],Pt[en]=null,pn=Pt[--en],Pt[en]=null,hn=Pt[--en],Pt[en]=null}function id(e,t){Pt[en++]=hn,Pt[en++]=pn,Pt[en++]=$n,hn=t.id,pn=t.overflow,$n=e}var yt=null,Ie=null,Le=!1,Vn=null,tn=!1,Gr=Error(u(519));function Gn(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(It(t,e)),Gr}function sd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[gt]=e,t[Tt]=a,n){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(n=0;n<oi.length;n++)Me(oi[n],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),xu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),ju(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Nm(t.textContent,n)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=jn),t=!0):t=!1,t||Gn(e,!0)}function rd(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:yt=yt.return}}function Wa(e){if(e!==yt)return!1;if(!Le)return rd(e),Le=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||oo(e.type,e.memoizedProps)),n=!n),n&&Ie&&Gn(e),rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ie=Mm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ie=Mm(e)}else t===27?(t=Ie,ia(e.type)?(e=po,po=null,Ie=e):Ie=t):Ie=yt?an(e.stateNode.nextSibling):null;return!0}function ba(){Ie=yt=null,Le=!1}function Xr(){var e=Vn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Vn=null),e}function Ql(e){Vn===null?Vn=[e]:Vn.push(e)}var Fr=E(null),ja=null,An=null;function Xn(e,t,n){L(Fr,t._currentValue),t._currentValue=n}function En(e){e._currentValue=Fr.current,z(Fr)}function Jr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t,n,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var c=s.dependencies;if(c!==null){var f=s.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=s;for(var M=0;M<t.length;M++)if(v.context===t[M]){c.lanes|=n,v=c.alternate,v!==null&&(v.lanes|=n),Jr(c.return,n,e),a||(f=null);break e}c=v.next}}else if(s.tag===18){if(f=s.return,f===null)throw Error(u(341));f.lanes|=n,c=f.alternate,c!==null&&(c.lanes|=n),Jr(f,n,e),f=null}else f=s.child;if(f!==null)f.return=s;else for(f=s;f!==null;){if(f===e){f=null;break}if(s=f.sibling,s!==null){s.return=f.return,f=s;break}f=f.return}s=f}}function Ia(e,t,n,a){e=null;for(var s=t,c=!1;s!==null;){if(!c){if((s.flags&524288)!==0)c=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var f=s.alternate;if(f===null)throw Error(u(387));if(f=f.memoizedProps,f!==null){var v=s.type;Qt(s.pendingProps.value,f.value)||(e!==null?e.push(v):e=[v])}}else if(s===ce.current){if(f=s.alternate,f===null)throw Error(u(387));f.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(hi):e=[hi])}s=s.return}e!==null&&Zr(t,e,n,a),t.flags|=262144}function Ki(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){ja=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return cd(ja,e)}function Wi(e,t){return ja===null&&Sa(e),cd(e,t)}function cd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},An===null){if(e===null)throw Error(u(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return n}var $g=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Vg=i.unstable_scheduleCallback,Gg=i.unstable_NormalPriority,rt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kr(){return{controller:new $g,data:new Map,refCount:0}}function Yl(e){e.refCount--,e.refCount===0&&Vg(Gg,function(){e.controller.abort()})}var $l=null,Wr=0,Pa=0,el=null;function Xg(e,t){if($l===null){var n=$l=[];Wr=0,Pa=eo(),el={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Wr++,t.then(od,od),t}function od(){if(--Wr===0&&$l!==null){el!==null&&(el.status="fulfilled");var e=$l;$l=null,Pa=0,el=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fg(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),a}var ud=T.S;T.S=function(e,t){Jf=pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xg(e,t),ud!==null&&ud(e,t)};var wa=E(null);function Ir(){var e=wa.current;return e!==null?e:Ze.pooledCache}function Ii(e,t){t===null?L(wa,wa.current):L(wa,t.pool)}function dd(){var e=Ir();return e===null?null:{parent:rt._currentValue,pool:e}}var tl=Error(u(460)),Pr=Error(u(474)),Pi=Error(u(542)),es={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function md(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(jn,jn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e;default:if(typeof t.status=="string")t.then(jn,jn);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pd(e),e}throw Aa=t,tl}}function Na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Aa=n,tl):n}}var Aa=null;function hd(){if(Aa===null)throw Error(u(459));var e=Aa;return Aa=null,e}function pd(e){if(e===tl||e===Pi)throw Error(u(483))}var nl=null,Vl=0;function ts(e){var t=Vl;return Vl+=1,nl===null&&(nl=[]),md(nl,e,t)}function Gl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ns(e,t){throw t.$$typeof===V?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gd(e){function t(F,q){if(e){var W=F.deletions;W===null?(F.deletions=[q],F.flags|=16):W.push(q)}}function n(F,q){if(!e)return null;for(;q!==null;)t(F,q),q=q.sibling;return null}function a(F){for(var q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function s(F,q){return F=wn(F,q),F.index=0,F.sibling=null,F}function c(F,q,W){return F.index=W,e?(W=F.alternate,W!==null?(W=W.index,W<q?(F.flags|=67108866,q):W):(F.flags|=67108866,q)):(F.flags|=1048576,q)}function f(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function v(F,q,W,re){return q===null||q.tag!==6?(q=Qr(W,F.mode,re),q.return=F,q):(q=s(q,W),q.return=F,q)}function M(F,q,W,re){var be=W.type;return be===w?ie(F,q,W.props.children,re,W.key):q!==null&&(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===N&&Na(be)===q.type)?(q=s(q,W.props),Gl(q,W),q.return=F,q):(q=Ji(W.type,W.key,W.props,null,F.mode,re),Gl(q,W),q.return=F,q)}function I(F,q,W,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Yr(W,F.mode,re),q.return=F,q):(q=s(q,W.children||[]),q.return=F,q)}function ie(F,q,W,re,be){return q===null||q.tag!==7?(q=xa(W,F.mode,re,be),q.return=F,q):(q=s(q,W),q.return=F,q)}function ue(F,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Qr(""+q,F.mode,W),q.return=F,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case le:return W=Ji(q.type,q.key,q.props,null,F.mode,W),Gl(W,q),W.return=F,W;case D:return q=Yr(q,F.mode,W),q.return=F,q;case N:return q=Na(q),ue(F,q,W)}if(de(q)||X(q))return q=xa(q,F.mode,W,null),q.return=F,q;if(typeof q.then=="function")return ue(F,ts(q),W);if(q.$$typeof===k)return ue(F,Wi(F,q),W);ns(F,q)}return null}function P(F,q,W,re){var be=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return be!==null?null:v(F,q,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case le:return W.key===be?M(F,q,W,re):null;case D:return W.key===be?I(F,q,W,re):null;case N:return W=Na(W),P(F,q,W,re)}if(de(W)||X(W))return be!==null?null:ie(F,q,W,re,null);if(typeof W.then=="function")return P(F,q,ts(W),re);if(W.$$typeof===k)return P(F,q,Wi(F,W),re);ns(F,W)}return null}function ae(F,q,W,re,be){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(W)||null,v(q,F,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case le:return F=F.get(re.key===null?W:re.key)||null,M(q,F,re,be);case D:return F=F.get(re.key===null?W:re.key)||null,I(q,F,re,be);case N:return re=Na(re),ae(F,q,W,re,be)}if(de(re)||X(re))return F=F.get(W)||null,ie(q,F,re,be,null);if(typeof re.then=="function")return ae(F,q,W,ts(re),be);if(re.$$typeof===k)return ae(F,q,W,Wi(q,re),be);ns(q,re)}return null}function ye(F,q,W,re){for(var be=null,qe=null,ve=q,Oe=q=0,ke=null;ve!==null&&Oe<W.length;Oe++){ve.index>Oe?(ke=ve,ve=null):ke=ve.sibling;var He=P(F,ve,W[Oe],re);if(He===null){ve===null&&(ve=ke);break}e&&ve&&He.alternate===null&&t(F,ve),q=c(He,q,Oe),qe===null?be=He:qe.sibling=He,qe=He,ve=ke}if(Oe===W.length)return n(F,ve),Le&&Nn(F,Oe),be;if(ve===null){for(;Oe<W.length;Oe++)ve=ue(F,W[Oe],re),ve!==null&&(q=c(ve,q,Oe),qe===null?be=ve:qe.sibling=ve,qe=ve);return Le&&Nn(F,Oe),be}for(ve=a(ve);Oe<W.length;Oe++)ke=ae(ve,F,Oe,W[Oe],re),ke!==null&&(e&&ke.alternate!==null&&ve.delete(ke.key===null?Oe:ke.key),q=c(ke,q,Oe),qe===null?be=ke:qe.sibling=ke,qe=ke);return e&&ve.forEach(function(ua){return t(F,ua)}),Le&&Nn(F,Oe),be}function Ae(F,q,W,re){if(W==null)throw Error(u(151));for(var be=null,qe=null,ve=q,Oe=q=0,ke=null,He=W.next();ve!==null&&!He.done;Oe++,He=W.next()){ve.index>Oe?(ke=ve,ve=null):ke=ve.sibling;var ua=P(F,ve,He.value,re);if(ua===null){ve===null&&(ve=ke);break}e&&ve&&ua.alternate===null&&t(F,ve),q=c(ua,q,Oe),qe===null?be=ua:qe.sibling=ua,qe=ua,ve=ke}if(He.done)return n(F,ve),Le&&Nn(F,Oe),be;if(ve===null){for(;!He.done;Oe++,He=W.next())He=ue(F,He.value,re),He!==null&&(q=c(He,q,Oe),qe===null?be=He:qe.sibling=He,qe=He);return Le&&Nn(F,Oe),be}for(ve=a(ve);!He.done;Oe++,He=W.next())He=ae(ve,F,Oe,He.value,re),He!==null&&(e&&He.alternate!==null&&ve.delete(He.key===null?Oe:He.key),q=c(He,q,Oe),qe===null?be=He:qe.sibling=He,qe=He);return e&&ve.forEach(function(lv){return t(F,lv)}),Le&&Nn(F,Oe),be}function Je(F,q,W,re){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case le:e:{for(var be=W.key;q!==null;){if(q.key===be){if(be=W.type,be===w){if(q.tag===7){n(F,q.sibling),re=s(q,W.props.children),re.return=F,F=re;break e}}else if(q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===N&&Na(be)===q.type){n(F,q.sibling),re=s(q,W.props),Gl(re,W),re.return=F,F=re;break e}n(F,q);break}else t(F,q);q=q.sibling}W.type===w?(re=xa(W.props.children,F.mode,re,W.key),re.return=F,F=re):(re=Ji(W.type,W.key,W.props,null,F.mode,re),Gl(re,W),re.return=F,F=re)}return f(F);case D:e:{for(be=W.key;q!==null;){if(q.key===be)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){n(F,q.sibling),re=s(q,W.children||[]),re.return=F,F=re;break e}else{n(F,q);break}else t(F,q);q=q.sibling}re=Yr(W,F.mode,re),re.return=F,F=re}return f(F);case N:return W=Na(W),Je(F,q,W,re)}if(de(W))return ye(F,q,W,re);if(X(W)){if(be=X(W),typeof be!="function")throw Error(u(150));return W=be.call(W),Ae(F,q,W,re)}if(typeof W.then=="function")return Je(F,q,ts(W),re);if(W.$$typeof===k)return Je(F,q,Wi(F,W),re);ns(F,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(n(F,q.sibling),re=s(q,W),re.return=F,F=re):(n(F,q),re=Qr(W,F.mode,re),re.return=F,F=re),f(F)):n(F,q)}return function(F,q,W,re){try{Vl=0;var be=Je(F,q,W,re);return nl=null,be}catch(ve){if(ve===tl||ve===Pi)throw ve;var qe=Yt(29,ve,null,F.mode);return qe.lanes=re,qe.return=F,qe}finally{}}}var Ea=gd(!0),yd=gd(!1),Fn=!1;function ec(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Qe&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Fi(e),ed(e,null,n),t}return Xi(e,a,t,n),Fi(e)}function Xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,cu(e,n)}}function nc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?s=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?s=c=t:c=c.next=t}else s=c=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ac=!1;function Fl(){if(ac){var e=el;if(e!==null)throw e}}function Jl(e,t,n,a){ac=!1;var s=e.updateQueue;Fn=!1;var c=s.firstBaseUpdate,f=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var M=v,I=M.next;M.next=null,f===null?c=I:f.next=I,f=M;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,v=ie.lastBaseUpdate,v!==f&&(v===null?ie.firstBaseUpdate=I:v.next=I,ie.lastBaseUpdate=M))}if(c!==null){var ue=s.baseState;f=0,ie=I=M=null,v=c;do{var P=v.lane&-536870913,ae=P!==v.lane;if(ae?(_e&P)===P:(a&P)===P){P!==0&&P===Pa&&(ac=!0),ie!==null&&(ie=ie.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ye=e,Ae=v;P=t;var Je=n;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){ue=ye.call(Je,ue,P);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,P=typeof ye=="function"?ye.call(Je,ue,P):ye,P==null)break e;ue=C({},ue,P);break e;case 2:Fn=!0}}P=v.callback,P!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=s.callbacks,ae===null?s.callbacks=[P]:ae.push(P))}else ae={lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ie===null?(I=ie=ae,M=ue):ie=ie.next=ae,f|=P;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;ae=v,v=ae.next,ae.next=null,s.lastBaseUpdate=ae,s.shared.pending=null}}while(!0);ie===null&&(M=ue),s.baseState=M,s.firstBaseUpdate=I,s.lastBaseUpdate=ie,c===null&&(s.shared.lanes=0),ea|=f,e.lanes=f,e.memoizedState=ue}}function vd(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function xd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)vd(n[e],t)}var al=E(null),as=E(0);function bd(e,t){e=kn,L(as,e),L(al,t),kn=e|t.baseLanes}function lc(){L(as,kn),L(al,al.current)}function ic(){kn=as.current,z(al),z(as)}var $t=E(null),nn=null;function Kn(e){var t=e.alternate;L(it,it.current&1),L($t,e),nn===null&&(t===null||al.current!==null||t.memoizedState!==null)&&(nn=e)}function sc(e){L(it,it.current),L($t,e),nn===null&&(nn=e)}function jd(e){e.tag===22?(L(it,it.current),L($t,e),nn===null&&(nn=e)):Wn()}function Wn(){L(it,it.current),L($t,$t.current)}function Vt(e){z($t),nn===e&&(nn=null),z(it)}var it=E(0);function ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||mo(n)||ho(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zn=0,Te=null,Xe=null,ct=null,is=!1,ll=!1,za=!1,ss=0,Zl=0,il=null,Jg=0;function at(){throw Error(u(321))}function rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function cc(e,t,n,a,s,c){return zn=c,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?lf:wc,za=!1,c=n(a,s),za=!1,ll&&(c=wd(t,n,a,s)),Sd(e),c}function Sd(e){T.H=Il;var t=Xe!==null&&Xe.next!==null;if(zn=0,ct=Xe=Te=null,is=!1,Zl=0,il=null,t)throw Error(u(300));e===null||ot||(e=e.dependencies,e!==null&&Ki(e)&&(ot=!0))}function wd(e,t,n,a){Te=e;var s=0;do{if(ll&&(il=null),Zl=0,ll=!1,25<=s)throw Error(u(301));if(s+=1,ct=Xe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}T.H=sf,c=t(n,a)}while(ll);return c}function Zg(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?Kl(t):t,e=e.useState()[0],(Xe!==null?Xe.memoizedState:null)!==e&&(Te.flags|=1024),t}function oc(){var e=ss!==0;return ss=0,e}function uc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dc(e){if(is){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}is=!1}zn=0,ct=Xe=Te=null,ll=!1,Zl=ss=0,il=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Te.memoizedState=ct=e:ct=ct.next=e,ct}function st(){if(Xe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=ct===null?Te.memoizedState:ct.next;if(t!==null)ct=t,Xe=e;else{if(e===null)throw Te.alternate===null?Error(u(467)):Error(u(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ct===null?Te.memoizedState=ct=e:ct=ct.next=e}return ct}function rs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var t=Zl;return Zl+=1,il===null&&(il=[]),e=md(il,e,t),t=Te,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?lf:wc),e}function cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===k)return vt(e)}throw Error(u(438,String(e)))}function fc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Te.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=rs(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ee;return t.index++,n}function Cn(e,t){return typeof t=="function"?t(e):t}function os(e){var t=st();return mc(t,Xe,e)}function mc(e,t,n){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=n;var s=e.baseQueue,c=a.pending;if(c!==null){if(s!==null){var f=s.next;s.next=c.next,c.next=f}t.baseQueue=s=c,a.pending=null}if(c=e.baseState,s===null)e.memoizedState=c;else{t=s.next;var v=f=null,M=null,I=t,ie=!1;do{var ue=I.lane&-536870913;if(ue!==I.lane?(_e&ue)===ue:(zn&ue)===ue){var P=I.revertLane;if(P===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),ue===Pa&&(ie=!0);else if((zn&P)===P){I=I.next,P===Pa&&(ie=!0);continue}else ue={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},M===null?(v=M=ue,f=c):M=M.next=ue,Te.lanes|=P,ea|=P;ue=I.action,za&&n(c,ue),c=I.hasEagerState?I.eagerState:n(c,ue)}else P={lane:ue,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},M===null?(v=M=P,f=c):M=M.next=P,Te.lanes|=ue,ea|=ue;I=I.next}while(I!==null&&I!==t);if(M===null?f=c:M.next=v,!Qt(c,e.memoizedState)&&(ot=!0,ie&&(n=el,n!==null)))throw n;e.memoizedState=c,e.baseState=f,e.baseQueue=M,a.lastRenderedState=c}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hc(e){var t=st(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,c=t.memoizedState;if(s!==null){n.pending=null;var f=s=s.next;do c=e(c,f.action),f=f.next;while(f!==s);Qt(c,t.memoizedState)||(ot=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function Nd(e,t,n){var a=Te,s=st(),c=Le;if(c){if(n===void 0)throw Error(u(407));n=n()}else n=t();var f=!Qt((Xe||s).memoizedState,n);if(f&&(s.memoizedState=n,ot=!0),s=s.queue,yc(zd.bind(null,a,s,e),[e]),s.getSnapshot!==t||f||ct!==null&&ct.memoizedState.tag&1){if(a.flags|=2048,sl(9,{destroy:void 0},Ed.bind(null,a,s,n,t),null),Ze===null)throw Error(u(349));c||(zn&127)!==0||Ad(a,t,n)}return n}function Ad(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=rs(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ed(e,t,n,a){t.value=n,t.getSnapshot=a,Cd(t)&&Td(e)}function zd(e,t,n){return n(function(){Cd(t)&&Td(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function Td(e){var t=va(e,2);t!==null&&kt(t,e,2)}function pc(e){var t=zt();if(typeof e=="function"){var n=e;if(e=n(),za){rn(!0);try{n()}finally{rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},t}function Dd(e,t,n,a){return e.baseState=n,mc(e,Xe,typeof a=="function"?a:Cn)}function Kg(e,t,n,a,s){if(fs(e))throw Error(u(485));if(e=t.action,e!==null){var c={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};T.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,Od(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Od(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var c=T.T,f={};T.T=f;try{var v=n(s,a),M=T.S;M!==null&&M(f,v),Rd(e,t,v)}catch(I){gc(e,t,I)}finally{c!==null&&f.types!==null&&(c.types=f.types),T.T=c}}else try{c=n(s,a),Rd(e,t,c)}catch(I){gc(e,t,I)}}function Rd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Md(e,t,a)},function(a){return gc(e,t,a)}):Md(e,t,n)}function Md(e,t,n){t.status="fulfilled",t.value=n,_d(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Od(e,n)))}function gc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,_d(t),t=t.next;while(t!==a)}e.action=null}function _d(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kd(e,t){return t}function Ld(e,t){if(Le){var n=Ze.formState;if(n!==null){e:{var a=Te;if(Le){if(Ie){t:{for(var s=Ie,c=tn;s.nodeType!==8;){if(!c){s=null;break t}if(s=an(s.nextSibling),s===null){s=null;break t}}c=s.data,s=c==="F!"||c==="F"?s:null}if(s){Ie=an(s.nextSibling),a=s.data==="F!";break e}}Gn(a)}a=!1}a&&(t=n[0])}}return n=zt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kd,lastRenderedState:t},n.queue=a,n=tf.bind(null,Te,a),a.dispatch=n,a=pc(!1),c=Sc.bind(null,Te,!1,a.queue),a=zt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,n=Kg.bind(null,Te,s,c,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Ud(e){var t=st();return Bd(t,Xe,e)}function Bd(e,t,n){if(t=mc(e,t,kd)[0],e=os(Cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Kl(t)}catch(f){throw f===tl?Pi:f}else a=t;t=st();var s=t.queue,c=s.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,sl(9,{destroy:void 0},Wg.bind(null,s,n),null)),[a,c,e]}function Wg(e,t){e.action=t}function qd(e){var t=st(),n=Xe;if(n!==null)return Bd(t,n,e);st(),t=t.memoizedState,n=st();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function sl(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Te.updateQueue,t===null&&(t=rs(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Hd(){return st().memoizedState}function us(e,t,n,a){var s=zt();Te.flags|=e,s.memoizedState=sl(1|t,{destroy:void 0},n,a===void 0?null:a)}function ds(e,t,n,a){var s=st();a=a===void 0?null:a;var c=s.memoizedState.inst;Xe!==null&&a!==null&&rc(a,Xe.memoizedState.deps)?s.memoizedState=sl(t,c,n,a):(Te.flags|=e,s.memoizedState=sl(1|t,c,n,a))}function Qd(e,t){us(8390656,8,e,t)}function yc(e,t){ds(2048,8,e,t)}function Ig(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=rs(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Yd(e){var t=st().memoizedState;return Ig({ref:t,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function $d(e,t){return ds(4,2,e,t)}function Vd(e,t){return ds(4,4,e,t)}function Gd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xd(e,t,n){n=n!=null?n.concat([e]):null,ds(4,4,Gd.bind(null,t,e),n)}function vc(){}function Fd(e,t){var n=st();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&rc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Jd(e,t){var n=st();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&rc(t,a[1]))return a[0];if(a=e(),za){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[a,t],a}function xc(e,t,n){return n===void 0||(zn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Kf(),Te.lanes|=e,ea|=e,n)}function Zd(e,t,n,a){return Qt(n,t)?n:al.current!==null?(e=xc(e,n,a),Qt(e,t)||(ot=!0),e):(zn&42)===0||(zn&1073741824)!==0&&(_e&261930)===0?(ot=!0,e.memoizedState=n):(e=Kf(),Te.lanes|=e,ea|=e,t)}function Kd(e,t,n,a,s){var c=J.p;J.p=c!==0&&8>c?c:8;var f=T.T,v={};T.T=v,Sc(e,!1,t,n);try{var M=s(),I=T.S;if(I!==null&&I(v,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ie=Fg(M,a);Wl(e,t,ie,Ft(e))}else Wl(e,t,a,Ft(e))}catch(ue){Wl(e,t,{then:function(){},status:"rejected",reason:ue},Ft())}finally{J.p=c,f!==null&&v.types!==null&&(f.types=v.types),T.T=f}}function Pg(){}function bc(e,t,n,a){if(e.tag!==5)throw Error(u(476));var s=Wd(e).queue;Kd(e,s,t,G,n===null?Pg:function(){return Id(e),n(a)})}function Wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:G},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Id(e){var t=Wd(e);t.next===null&&(t=e.alternate.memoizedState),Wl(e,t.next.queue,{},Ft())}function jc(){return vt(hi)}function Pd(){return st().memoizedState}function ef(){return st().memoizedState}function ey(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ft();e=Jn(n);var a=Zn(t,e,n);a!==null&&(kt(a,t,n),Xl(a,t,n)),t={cache:Kr()},e.payload=t;return}t=t.return}}function ty(e,t,n){var a=Ft();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fs(e)?nf(t,n):(n=qr(e,t,n,a),n!==null&&(kt(n,e,a),af(n,t,a)))}function tf(e,t,n){var a=Ft();Wl(e,t,n,a)}function Wl(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fs(e))nf(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,n);if(s.hasEagerState=!0,s.eagerState=v,Qt(v,f))return Xi(e,t,s,0),Ze===null&&Gi(),!1}catch{}finally{}if(n=qr(e,t,s,a),n!==null)return kt(n,e,a),af(n,t,a),!0}return!1}function Sc(e,t,n,a){if(a={lane:2,revertLane:eo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fs(e)){if(t)throw Error(u(479))}else t=qr(e,n,a,2),t!==null&&kt(t,e,2)}function fs(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function nf(e,t){ll=is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function af(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,cu(e,n)}}var Il={readContext:vt,use:cs,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Il.useEffectEvent=at;var lf={readContext:vt,use:cs,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Qd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,us(4194308,4,Gd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){us(4,2,e,t)},useMemo:function(e,t){var n=zt();t=t===void 0?null:t;var a=e();if(za){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zt();if(n!==void 0){var s=n(t);if(za){rn(!0);try{n(t)}finally{rn(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=ty.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=pc(e);var t=e.queue,n=tf.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vc,useDeferredValue:function(e,t){var n=zt();return xc(n,e,t)},useTransition:function(){var e=pc(!1);return e=Kd.bind(null,Te,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Te,s=zt();if(Le){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Ze===null)throw Error(u(349));(_e&127)!==0||Ad(a,t,n)}s.memoizedState=n;var c={value:n,getSnapshot:t};return s.queue=c,Qd(zd.bind(null,a,c,e),[e]),a.flags|=2048,sl(9,{destroy:void 0},Ed.bind(null,a,c,n,t),null),n},useId:function(){var e=zt(),t=Ze.identifierPrefix;if(Le){var n=pn,a=hn;n=(a&~(1<<32-Ht(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ss++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Jg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jc,useFormState:Ld,useActionState:Ld,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Sc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:fc,useCacheRefresh:function(){return zt().memoizedState=ey.bind(null,Te)},useEffectEvent:function(e){var t=zt(),n={impl:e};return t.memoizedState=n,function(){if((Qe&2)!==0)throw Error(u(440));return n.impl.apply(void 0,arguments)}}},wc={readContext:vt,use:cs,useCallback:Fd,useContext:vt,useEffect:yc,useImperativeHandle:Xd,useInsertionEffect:$d,useLayoutEffect:Vd,useMemo:Jd,useReducer:os,useRef:Hd,useState:function(){return os(Cn)},useDebugValue:vc,useDeferredValue:function(e,t){var n=st();return Zd(n,Xe.memoizedState,e,t)},useTransition:function(){var e=os(Cn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:Nd,useId:Pd,useHostTransitionStatus:jc,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var n=st();return Dd(n,Xe,e,t)},useMemoCache:fc,useCacheRefresh:ef};wc.useEffectEvent=Yd;var sf={readContext:vt,use:cs,useCallback:Fd,useContext:vt,useEffect:yc,useImperativeHandle:Xd,useInsertionEffect:$d,useLayoutEffect:Vd,useMemo:Jd,useReducer:hc,useRef:Hd,useState:function(){return hc(Cn)},useDebugValue:vc,useDeferredValue:function(e,t){var n=st();return Xe===null?xc(n,e,t):Zd(n,Xe.memoizedState,e,t)},useTransition:function(){var e=hc(Cn)[0],t=st().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:Nd,useId:Pd,useHostTransitionStatus:jc,useFormState:qd,useActionState:qd,useOptimistic:function(e,t){var n=st();return Xe!==null?Dd(n,Xe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fc,useCacheRefresh:ef};sf.useEffectEvent=Yd;function Nc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:C({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ac={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ft(),s=Jn(a);s.payload=t,n!=null&&(s.callback=n),t=Zn(e,s,a),t!==null&&(kt(t,e,a),Xl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ft(),s=Jn(a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zn(e,s,a),t!==null&&(kt(t,e,a),Xl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),a=Jn(n);a.tag=2,t!=null&&(a.callback=t),t=Zn(e,a,n),t!==null&&(kt(t,e,n),Xl(t,e,n))}};function rf(e,t,n,a,s,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,f):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,a)||!Bl(s,c):!0}function cf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Ac.enqueueReplaceState(t,t.state,null)}function Ca(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=C({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function of(e){Vi(e)}function uf(e){console.error(e)}function df(e){Vi(e)}function ms(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ff(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ec(e,t,n){return n=Jn(n),n.tag=3,n.payload={element:null},n.callback=function(){ms(e,t)},n}function mf(e){return e=Jn(e),e.tag=3,e}function hf(e,t,n,a){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var c=a.value;e.payload=function(){return s(c)},e.callback=function(){ff(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){ff(t,n,a),typeof s!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function ny(e,t,n,a,s){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ia(t,n,s,!0),n=$t.current,n!==null){switch(n.tag){case 31:case 13:return nn===null?As():n.alternate===null&&lt===0&&(lt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===es?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Wc(e,a,s)),!1;case 22:return n.flags|=65536,a===es?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Wc(e,a,s)),!1}throw Error(u(435,n.tag))}return Wc(e,a,s),As(),!1}if(Le)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Gr&&(e=Error(u(422),{cause:a}),Ql(It(e,n)))):(a!==Gr&&(t=Error(u(423),{cause:a}),Ql(It(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=It(a,n),s=Ec(e.stateNode,a,s),nc(e,s),lt!==4&&(lt=2)),!1;var c=Error(u(520),{cause:a});if(c=It(c,n),si===null?si=[c]:si.push(c),lt!==4&&(lt=2),t===null)return!0;a=It(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Ec(n.stateNode,a,e),nc(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ta===null||!ta.has(c))))return n.flags|=65536,s&=-s,n.lanes|=s,s=mf(s),hf(s,e,n,a),nc(n,s),!1}n=n.return}while(n!==null);return!1}var zc=Error(u(461)),ot=!1;function xt(e,t,n,a){t.child=e===null?yd(t,null,n,a):Ea(t,e.child,n,a)}function pf(e,t,n,a,s){n=n.render;var c=t.ref;if("ref"in a){var f={};for(var v in a)v!=="ref"&&(f[v]=a[v])}else f=a;return Sa(t),a=cc(e,t,n,f,c,s),v=oc(),e!==null&&!ot?(uc(e,t,s),Tn(e,t,s)):(Le&&v&&$r(t),t.flags|=1,xt(e,t,a,s),t.child)}function gf(e,t,n,a,s){if(e===null){var c=n.type;return typeof c=="function"&&!Hr(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,yf(e,t,c,a,s)):(e=Ji(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!kc(e,s)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(f,a)&&e.ref===t.ref)return Tn(e,t,s)}return t.flags|=1,e=wn(c,a),e.ref=t.ref,e.return=t,t.child=e}function yf(e,t,n,a,s){if(e!==null){var c=e.memoizedProps;if(Bl(c,a)&&e.ref===t.ref)if(ot=!1,t.pendingProps=a=c,kc(e,s))(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Tn(e,t,s)}return Cc(e,t,n,a,s)}function vf(e,t,n,a){var s=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~c}else a=0,t.child=null;return xf(e,t,c,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ii(t,c!==null?c.cachePool:null),c!==null?bd(t,c):lc(),jd(t);else return a=t.lanes=536870912,xf(e,t,c!==null?c.baseLanes|n:n,n,a)}else c!==null?(Ii(t,c.cachePool),bd(t,c),Wn(),t.memoizedState=null):(e!==null&&Ii(t,null),lc(),Wn());return xt(e,t,s,n),t.child}function Pl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xf(e,t,n,a,s){var c=Ir();return c=c===null?null:{parent:rt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Ii(t,null),lc(),jd(t),e!==null&&Ia(e,t,a,!0),t.childLanes=s,null}function hs(e,t){return t=gs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bf(e,t,n){return Ea(t,e.child,null,n),e=hs(t,t.pendingProps),e.flags|=2,Vt(t),t.memoizedState=null,e}function ay(e,t,n){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(a.mode==="hidden")return e=hs(t,a),t.lanes=536870912,Pl(null,e);if(sc(t),(e=Ie)?(e=Rm(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:hn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},n=nd(e),n.return=t,t.child=n,yt=t,Ie=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return hs(t,a)}var c=e.memoizedState;if(c!==null){var f=c.dehydrated;if(sc(t),s)if(t.flags&256)t.flags&=-257,t=bf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(ot||Ia(e,t,n,!1),s=(n&e.childLanes)!==0,ot||s){if(a=Ze,a!==null&&(f=ou(a,n),f!==0&&f!==c.retryLane))throw c.retryLane=f,va(e,f),kt(a,e,f),zc;As(),t=bf(e,t,n)}else e=c.treeContext,Ie=an(f.nextSibling),yt=t,Le=!0,Vn=null,tn=!1,e!==null&&id(t,e),t=hs(t,a),t.flags|=4096;return t}return e=wn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ps(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Cc(e,t,n,a,s){return Sa(t),n=cc(e,t,n,a,void 0,s),a=oc(),e!==null&&!ot?(uc(e,t,s),Tn(e,t,s)):(Le&&a&&$r(t),t.flags|=1,xt(e,t,n,s),t.child)}function jf(e,t,n,a,s,c){return Sa(t),t.updateQueue=null,n=wd(t,a,n,s),Sd(e),a=oc(),e!==null&&!ot?(uc(e,t,c),Tn(e,t,c)):(Le&&a&&$r(t),t.flags|=1,xt(e,t,n,c),t.child)}function Sf(e,t,n,a,s){if(Sa(t),t.stateNode===null){var c=Ja,f=n.contextType;typeof f=="object"&&f!==null&&(c=vt(f)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ac,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},ec(t),f=n.contextType,c.context=typeof f=="object"&&f!==null?vt(f):Ja,c.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Nc(t,n,f,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Ac.enqueueReplaceState(c,c.state,null),Jl(t,a,c,s),Fl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,M=Ca(n,v);c.props=M;var I=c.context,ie=n.contextType;f=Ja,typeof ie=="object"&&ie!==null&&(f=vt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,ie||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||I!==f)&&cf(t,c,a,f),Fn=!1;var P=t.memoizedState;c.state=P,Jl(t,a,c,s),Fl(),I=t.memoizedState,v||P!==I||Fn?(typeof ue=="function"&&(Nc(t,n,ue,a),I=t.memoizedState),(M=Fn||rf(t,n,M,a,P,I,f))?(ie||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=I),c.props=a,c.state=I,c.context=f,a=M):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,tc(e,t),f=t.memoizedProps,ie=Ca(n,f),c.props=ie,ue=t.pendingProps,P=c.context,I=n.contextType,M=Ja,typeof I=="object"&&I!==null&&(M=vt(I)),v=n.getDerivedStateFromProps,(I=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==ue||P!==M)&&cf(t,c,a,M),Fn=!1,P=t.memoizedState,c.state=P,Jl(t,a,c,s),Fl();var ae=t.memoizedState;f!==ue||P!==ae||Fn||e!==null&&e.dependencies!==null&&Ki(e.dependencies)?(typeof v=="function"&&(Nc(t,n,v,a),ae=t.memoizedState),(ie=Fn||rf(t,n,ie,a,P,ae,M)||e!==null&&e.dependencies!==null&&Ki(e.dependencies))?(I||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,ae,M),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,ae,M)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ae),c.props=a,c.state=ae,c.context=M,a=ie):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,ps(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Ea(t,e.child,null,s),t.child=Ea(t,null,n,s)):xt(e,t,n,s),t.memoizedState=c.state,e=t.child):e=Tn(e,t,s),e}function wf(e,t,n,a){return ba(),t.flags|=256,xt(e,t,n,a),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:dd()}}function Oc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Xt),e}function Nf(e,t,n){var a=t.pendingProps,s=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),f&&(s=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(s?Kn(t):Wn(),(e=Ie)?(e=Rm(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:hn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},n=nd(e),n.return=t,t.child=n,yt=t,Ie=null)):e=null,e===null)throw Gn(t);return ho(e)?t.lanes=32:t.lanes=536870912,null}var v=a.children;return a=a.fallback,s?(Wn(),s=t.mode,v=gs({mode:"hidden",children:v},s),a=xa(a,s,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,a=t.child,a.memoizedState=Dc(n),a.childLanes=Oc(e,f,n),t.memoizedState=Tc,Pl(null,a)):(Kn(t),Rc(t,v))}var M=e.memoizedState;if(M!==null&&(v=M.dehydrated,v!==null)){if(c)t.flags&256?(Kn(t),t.flags&=-257,t=Mc(e,t,n)):t.memoizedState!==null?(Wn(),t.child=e.child,t.flags|=128,t=null):(Wn(),v=a.fallback,s=t.mode,a=gs({mode:"visible",children:a.children},s),v=xa(v,s,n,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,Ea(t,e.child,null,n),a=t.child,a.memoizedState=Dc(n),a.childLanes=Oc(e,f,n),t.memoizedState=Tc,t=Pl(null,a));else if(Kn(t),ho(v)){if(f=v.nextSibling&&v.nextSibling.dataset,f)var I=f.dgst;f=I,a=Error(u(419)),a.stack="",a.digest=f,Ql({value:a,source:null,stack:null}),t=Mc(e,t,n)}else if(ot||Ia(e,t,n,!1),f=(n&e.childLanes)!==0,ot||f){if(f=Ze,f!==null&&(a=ou(f,n),a!==0&&a!==M.retryLane))throw M.retryLane=a,va(e,a),kt(f,e,a),zc;mo(v)||As(),t=Mc(e,t,n)}else mo(v)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Ie=an(v.nextSibling),yt=t,Le=!0,Vn=null,tn=!1,e!==null&&id(t,e),t=Rc(t,a.children),t.flags|=4096);return t}return s?(Wn(),v=a.fallback,s=t.mode,M=e.child,I=M.sibling,a=wn(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,I!==null?v=wn(I,v):(v=xa(v,s,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,Pl(null,a),a=t.child,v=e.child.memoizedState,v===null?v=Dc(n):(s=v.cachePool,s!==null?(M=rt._currentValue,s=s.parent!==M?{parent:M,pool:M}:s):s=dd(),v={baseLanes:v.baseLanes|n,cachePool:s}),a.memoizedState=v,a.childLanes=Oc(e,f,n),t.memoizedState=Tc,Pl(e.child,a)):(Kn(t),n=e.child,e=n.sibling,n=wn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Rc(e,t){return t=gs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gs(e,t){return e=Yt(22,e,null,t),e.lanes=0,e}function Mc(e,t,n){return Ea(t,e.child,null,n),e=Rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Af(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Jr(e.return,t,n)}function _c(e,t,n,a,s,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=s,f.treeForkCount=c)}function Ef(e,t,n){var a=t.pendingProps,s=a.revealOrder,c=a.tail;a=a.children;var f=it.current,v=(f&2)!==0;if(v?(f=f&1|2,t.flags|=128):f&=1,L(it,f),xt(e,t,a,n),a=Le?Hl:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Af(e,n,t);else if(e.tag===19)Af(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ls(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_c(t,!1,s,n,c,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ls(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_c(t,!0,n,null,c,a);break;case"together":_c(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ia(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ki(e)))}function ly(e,t,n){switch(t.tag){case 3:ge(t,t.stateNode.containerInfo),Xn(t,rt,e.memoizedState.cache),ba();break;case 27:case 5:xe(t);break;case 4:ge(t,t.stateNode.containerInfo);break;case 10:Xn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,sc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Kn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Nf(e,t,n):(Kn(t),e=Tn(e,t,n),e!==null?e.sibling:null);Kn(t);break;case 19:var s=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ia(e,t,n,!1),a=(n&t.childLanes)!==0),s){if(a)return Ef(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),L(it,it.current),a)break;return null;case 22:return t.lanes=0,vf(e,t,n,t.pendingProps);case 24:Xn(t,rt,e.memoizedState.cache)}return Tn(e,t,n)}function zf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ot=!0;else{if(!kc(e,n)&&(t.flags&128)===0)return ot=!1,ly(e,t,n);ot=(e.flags&131072)!==0}else ot=!1,Le&&(t.flags&1048576)!==0&&ld(t,Hl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Na(t.elementType),t.type=e,typeof e=="function")Hr(e)?(a=Ca(e,a),t.tag=1,t=Sf(null,t,e,a,n)):(t.tag=0,t=Cc(null,t,e,a,n));else{if(e!=null){var s=e.$$typeof;if(s===K){t.tag=11,t=pf(null,t,e,a,n);break e}else if(s===g){t.tag=14,t=gf(null,t,e,a,n);break e}}throw t=_(e)||e,Error(u(306,t,""))}}return t;case 0:return Cc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,s=Ca(a,t.pendingProps),Sf(e,t,a,s,n);case 3:e:{if(ge(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var c=t.memoizedState;s=c.element,tc(e,t),Jl(t,a,null,n);var f=t.memoizedState;if(a=f.cache,Xn(t,rt,a),a!==c.cache&&Zr(t,[rt],n,!0),Fl(),a=f.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=wf(e,t,a,n);break e}else if(a!==s){s=It(Error(u(424)),t),Ql(s),t=wf(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=an(e.firstChild),yt=t,Le=!0,Vn=null,tn=!0,n=yd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ba(),a===s){t=Tn(e,t,n);break e}xt(e,t,a,n)}t=t.child}return t;case 26:return ps(e,t),e===null?(n=Bm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Le||(n=t.type,e=t.pendingProps,a=Rs(Z.current).createElement(n),a[gt]=t,a[Tt]=e,bt(a,n,e),ht(a),t.stateNode=a):t.memoizedState=Bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xe(t),e===null&&Le&&(a=t.stateNode=km(t.type,t.pendingProps,Z.current),yt=t,tn=!0,s=Ie,ia(t.type)?(po=s,Ie=an(a.firstChild)):Ie=s),xt(e,t,t.pendingProps.children,n),ps(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((s=a=Ie)&&(a=_y(a,t.type,t.pendingProps,tn),a!==null?(t.stateNode=a,yt=t,Ie=an(a.firstChild),tn=!1,s=!0):s=!1),s||Gn(t)),xe(t),s=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,a=c.children,oo(s,c)?a=null:f!==null&&oo(s,f)&&(t.flags|=32),t.memoizedState!==null&&(s=cc(e,t,Zg,null,null,n),hi._currentValue=s),ps(e,t),xt(e,t,a,n),t.child;case 6:return e===null&&Le&&((e=n=Ie)&&(n=ky(n,t.pendingProps,tn),n!==null?(t.stateNode=n,yt=t,Ie=null,e=!0):e=!1),e||Gn(t)),null;case 13:return Nf(e,t,n);case 4:return ge(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ea(t,null,a,n):xt(e,t,a,n),t.child;case 11:return pf(e,t,t.type,t.pendingProps,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Xn(t,t.type,a.value),xt(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Sa(t),s=vt(s),a=a(s),t.flags|=1,xt(e,t,a,n),t.child;case 14:return gf(e,t,t.type,t.pendingProps,n);case 15:return yf(e,t,t.type,t.pendingProps,n);case 19:return Ef(e,t,n);case 31:return ay(e,t,n);case 22:return vf(e,t,n,t.pendingProps);case 24:return Sa(t),a=vt(rt),e===null?(s=Ir(),s===null&&(s=Ze,c=Kr(),s.pooledCache=c,c.refCount++,c!==null&&(s.pooledCacheLanes|=n),s=c),t.memoizedState={parent:a,cache:s},ec(t),Xn(t,rt,s)):((e.lanes&n)!==0&&(tc(e,t),Jl(t,null,null,n),Fl()),s=e.memoizedState,c=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Xn(t,rt,a)):(a=c.cache,Xn(t,rt,a),a!==s.cache&&Zr(t,[rt],n,!0))),xt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Dn(e){e.flags|=4}function Lc(e,t,n,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw Aa=es,Pr}else e.flags&=-16777217}function Cf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$m(t))if(em())e.flags|=8192;else throw Aa=es,Pr}function ys(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?su():536870912,e.lanes|=t,ul|=t)}function ei(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function iy(e,t,n){var a=t.pendingProps;switch(Vr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),En(rt),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?Dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xr())),Pe(t),null;case 26:var s=t.type,c=t.memoizedState;return e===null?(Dn(t),c!==null?(Pe(t),Cf(t,c)):(Pe(t),Lc(t,s,null,a,n))):c?c!==e.memoizedState?(Dn(t),Pe(t),Cf(t,c)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Dn(t),Pe(t),Lc(t,s,e,a,n)),null;case 27:if(Ue(t),n=Z.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Dn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Pe(t),null}e=Q.current,Wa(t)?sd(t):(e=km(s,a,n),t.stateNode=e,Dn(t))}return Pe(t),null;case 5:if(Ue(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Dn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return Pe(t),null}if(c=Q.current,Wa(t))sd(t);else{var f=Rs(Z.current);switch(c){case 1:c=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:c=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":c=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":c=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":c=f.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?f.createElement(s,{is:a.is}):f.createElement(s)}}c[gt]=t,c[Tt]=a;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)c.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=c;e:switch(bt(c,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Dn(t)}}return Pe(t),Lc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Dn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=Z.current,Wa(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,s=yt,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Nm(e.nodeValue,n)),e||Gn(t,!0)}else e=Rs(e).createTextNode(a),e[gt]=t,t.stateNode=e}return Pe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Wa(t),n!==null){if(e===null){if(!a)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[gt]=t}else ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else n=Xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Vt(t),t):(Vt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Pe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Wa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(u(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));s[gt]=t}else ba(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),s=!1}else s=Xr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Vt(t),t):(Vt(t),null)}return Vt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ys(t,t.updateQueue),Pe(t),null);case 4:return he(),e===null&&lo(t.stateNode.containerInfo),Pe(t),null;case 10:return En(t.type),Pe(t),null;case 19:if(z(it),a=t.memoizedState,a===null)return Pe(t),null;if(s=(t.flags&128)!==0,c=a.rendering,c===null)if(s)ei(a,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ls(e),c!==null){for(t.flags|=128,ei(a,!1),e=c.updateQueue,t.updateQueue=e,ys(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)td(n,e),n=n.sibling;return L(it,it.current&1|2),Le&&Nn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&pe()>Ss&&(t.flags|=128,s=!0,ei(a,!1),t.lanes=4194304)}else{if(!s)if(e=ls(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ys(t,e),ei(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!Le)return Pe(t),null}else 2*pe()-a.renderingStartTime>Ss&&n!==536870912&&(t.flags|=128,s=!0,ei(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pe(),e.sibling=null,n=it.current,L(it,s?n&1|2:n&1),Le&&Nn(t,a.treeForkCount),e):(Pe(t),null);case 22:case 23:return Vt(t),ic(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),n=t.updateQueue,n!==null&&ys(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&z(wa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),En(rt),Pe(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function sy(e,t){switch(Vr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(rt),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ue(t),null;case 31:if(t.memoizedState!==null){if(Vt(t),t.alternate===null)throw Error(u(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));ba()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(it),null;case 4:return he(),null;case 10:return En(t.type),null;case 22:case 23:return Vt(t),ic(),e!==null&&z(wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return En(rt),null;case 25:return null;default:return null}}function Tf(e,t){switch(Vr(t),t.tag){case 3:En(rt),he();break;case 26:case 27:case 5:Ue(t);break;case 4:he();break;case 31:t.memoizedState!==null&&Vt(t);break;case 13:Vt(t);break;case 19:z(it);break;case 10:En(t.type);break;case 22:case 23:Vt(t),ic(),e!==null&&z(wa);break;case 24:En(rt)}}function ti(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var c=n.create,f=n.inst;a=c(),f.destroy=a}n=n.next}while(n!==s)}}catch(v){Ve(t,t.return,v)}}function In(e,t,n){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&e)===e){var f=a.inst,v=f.destroy;if(v!==void 0){f.destroy=void 0,s=t;var M=n,I=v;try{I()}catch(ie){Ve(s,M,ie)}}}a=a.next}while(a!==c)}}catch(ie){Ve(t,t.return,ie)}}function Df(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xd(t,n)}catch(a){Ve(e,e.return,a)}}}function Of(e,t,n){n.props=Ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ve(e,t,a)}}function ni(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(s){Ve(e,t,s)}}function gn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(s){Ve(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Ve(e,t,s)}else n.current=null}function Rf(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){Ve(e,e.return,s)}}function Uc(e,t,n){try{var a=e.stateNode;Cy(a,e.type,n,t),a[Tt]=t}catch(s){Ve(e,e.return,s)}}function Mf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ia(e.type)||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jn));else if(a!==4&&(a===27&&ia(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function vs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ia(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(vs(e,t,n),e=e.sibling;e!==null;)vs(e,t,n),e=e.sibling}function _f(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);bt(t,a,n),t[gt]=e,t[Tt]=n}catch(c){Ve(e,e.return,c)}}var On=!1,ut=!1,Hc=!1,kf=typeof WeakSet=="function"?WeakSet:Set,pt=null;function ry(e,t){if(e=e.containerInfo,ro=qs,e=Xu(e),Mr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,v=-1,M=-1,I=0,ie=0,ue=e,P=null;t:for(;;){for(var ae;ue!==n||s!==0&&ue.nodeType!==3||(v=f+s),ue!==c||a!==0&&ue.nodeType!==3||(M=f+a),ue.nodeType===3&&(f+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)P=ue,ue=ae;for(;;){if(ue===e)break t;if(P===n&&++I===s&&(v=f),P===c&&++ie===a&&(M=f),(ae=ue.nextSibling)!==null)break;ue=P,P=ue.parentNode}ue=ae}n=v===-1||M===-1?null:{start:v,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(co={focusedElem:e,selectionRange:n},qs=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,s=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var ye=Ca(n.type,s);e=a.getSnapshotBeforeUpdate(ye,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){Ve(n,n.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)fo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function Lf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Mn(e,n),a&4&&ti(5,n);break;case 1:if(Mn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Ve(n,n.return,f)}else{var s=Ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Ve(n,n.return,f)}}a&64&&Df(n),a&512&&ni(n,n.return);break;case 3:if(Mn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xd(e,t)}catch(f){Ve(n,n.return,f)}}break;case 27:t===null&&a&4&&_f(n);case 26:case 5:Mn(e,n),t===null&&a&4&&Rf(n),a&512&&ni(n,n.return);break;case 12:Mn(e,n);break;case 31:Mn(e,n),a&4&&qf(e,n);break;case 13:Mn(e,n),a&4&&Hf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=gy.bind(null,n),Ly(e,n))));break;case 22:if(a=n.memoizedState!==null||On,!a){t=t!==null&&t.memoizedState!==null||ut,s=On;var c=ut;On=a,(ut=t)&&!c?_n(e,n,(n.subtreeFlags&8772)!==0):Mn(e,n),On=s,ut=c}break;case 30:break;default:Mn(e,n)}}function Uf(e){var t=e.alternate;t!==null&&(e.alternate=null,Uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Ot=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Bf(e,t,n),n=n.sibling}function Bf(e,t,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Hn,n)}catch{}switch(n.tag){case 26:ut||gn(n,t),Rn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ut||gn(n,t);var a=et,s=Ot;ia(n.type)&&(et=n.stateNode,Ot=!1),Rn(e,t,n),di(n.stateNode),et=a,Ot=s;break;case 5:ut||gn(n,t);case 6:if(a=et,s=Ot,et=null,Rn(e,t,n),et=a,Ot=s,et!==null)if(Ot)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(n.stateNode)}catch(c){Ve(n,t,c)}else try{et.removeChild(n.stateNode)}catch(c){Ve(n,t,c)}break;case 18:et!==null&&(Ot?(e=et,Dm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vl(e)):Dm(et,n.stateNode));break;case 4:a=et,s=Ot,et=n.stateNode.containerInfo,Ot=!0,Rn(e,t,n),et=a,Ot=s;break;case 0:case 11:case 14:case 15:In(2,n,t),ut||In(4,n,t),Rn(e,t,n);break;case 1:ut||(gn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Of(n,t,a)),Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:ut=(a=ut)||n.memoizedState!==null,Rn(e,t,n),ut=a;break;default:Rn(e,t,n)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vl(e)}catch(n){Ve(t,t.return,n)}}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vl(e)}catch(n){Ve(t,t.return,n)}}function cy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kf),t;default:throw Error(u(435,e.tag))}}function xs(e,t){var n=cy(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var s=yy.bind(null,e,a);a.then(s,s)}})}function Rt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a],c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 27:if(ia(v.type)){et=v.stateNode,Ot=!1;break e}break;case 5:et=v.stateNode,Ot=!1;break e;case 3:case 4:et=v.stateNode.containerInfo,Ot=!0;break e}v=v.return}if(et===null)throw Error(u(160));Bf(c,f,s),et=null,Ot=!1,c=s.alternate,c!==null&&(c.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Qf(t,e),t=t.sibling}var on=null;function Qf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),Mt(e),a&4&&(In(3,e,e.return),ti(3,e),In(5,e,e.return));break;case 1:Rt(t,e),Mt(e),a&512&&(ut||n===null||gn(n,n.return)),a&64&&On&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var s=on;if(Rt(t,e),Mt(e),a&512&&(ut||n===null||gn(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":c=s.getElementsByTagName("title")[0],(!c||c[Tl]||c[gt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=s.createElement(a),s.head.insertBefore(c,s.querySelector("head > title"))),bt(c,a,n),c[gt]=e,ht(c),a=c;break e;case"link":var f=Qm("link","href",s).get(a+(n.href||""));if(f){for(var v=0;v<f.length;v++)if(c=f[v],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(v,1);break t}}c=s.createElement(a),bt(c,a,n),s.head.appendChild(c);break;case"meta":if(f=Qm("meta","content",s).get(a+(n.content||""))){for(v=0;v<f.length;v++)if(c=f[v],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(v,1);break t}}c=s.createElement(a),bt(c,a,n),s.head.appendChild(c);break;default:throw Error(u(468,a))}c[gt]=e,ht(c),a=c}e.stateNode=a}else Ym(s,e.type,e.stateNode);else e.stateNode=Hm(s,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?Ym(s,e.type,e.stateNode):Hm(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rt(t,e),Mt(e),a&512&&(ut||n===null||gn(n,n.return)),n!==null&&a&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rt(t,e),Mt(e),a&512&&(ut||n===null||gn(n,n.return)),e.flags&32){s=e.stateNode;try{Qa(s,"")}catch(ye){Ve(e,e.return,ye)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Uc(e,s,n!==null?n.memoizedProps:s)),a&1024&&(Hc=!0);break;case 6:if(Rt(t,e),Mt(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ye){Ve(e,e.return,ye)}}break;case 3:if(ks=null,s=on,on=Ms(t.containerInfo),Rt(t,e),on=s,Mt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(t.containerInfo)}catch(ye){Ve(e,e.return,ye)}Hc&&(Hc=!1,Yf(e));break;case 4:a=on,on=Ms(e.stateNode.containerInfo),Rt(t,e),Mt(e),on=a;break;case 12:Rt(t,e),Mt(e);break;case 31:Rt(t,e),Mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xs(e,a)));break;case 13:Rt(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(js=pe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xs(e,a)));break;case 22:s=e.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,I=On,ie=ut;if(On=I||s,ut=ie||M,Rt(t,e),ut=ie,On=I,Mt(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||M||On||ut||Ta(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){M=n=t;try{if(c=M.stateNode,s)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=M.stateNode;var ue=M.memoizedProps.style,P=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;v.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ye){Ve(M,M.return,ye)}}}else if(t.tag===6){if(n===null){M=t;try{M.stateNode.nodeValue=s?"":M.memoizedProps}catch(ye){Ve(M,M.return,ye)}}}else if(t.tag===18){if(n===null){M=t;try{var ae=M.stateNode;s?Om(ae,!0):Om(M.stateNode,!1)}catch(ye){Ve(M,M.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,xs(e,n))));break;case 19:Rt(t,e),Mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xs(e,a)));break;case 30:break;case 21:break;default:Rt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Mf(a)){n=a;break}a=a.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var s=n.stateNode,c=Bc(e);vs(e,c,s);break;case 5:var f=n.stateNode;n.flags&32&&(Qa(f,""),n.flags&=-33);var v=Bc(e);vs(e,v,f);break;case 3:case 4:var M=n.stateNode.containerInfo,I=Bc(e);qc(e,I,M);break;default:throw Error(u(161))}}catch(ie){Ve(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lf(e,t.alternate,t),t=t.sibling}function Ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:In(4,t,t.return),Ta(t);break;case 1:gn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Of(t,t.return,n),Ta(t);break;case 27:di(t.stateNode);case 26:case 5:gn(t,t.return),Ta(t);break;case 22:t.memoizedState===null&&Ta(t);break;case 30:Ta(t);break;default:Ta(t)}e=e.sibling}}function _n(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:_n(s,c,n),ti(4,c);break;case 1:if(_n(s,c,n),a=c,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(I){Ve(a,a.return,I)}if(a=c,s=a.updateQueue,s!==null){var v=a.stateNode;try{var M=s.shared.hiddenCallbacks;if(M!==null)for(s.shared.hiddenCallbacks=null,s=0;s<M.length;s++)vd(M[s],v)}catch(I){Ve(a,a.return,I)}}n&&f&64&&Df(c),ni(c,c.return);break;case 27:_f(c);case 26:case 5:_n(s,c,n),n&&a===null&&f&4&&Rf(c),ni(c,c.return);break;case 12:_n(s,c,n);break;case 31:_n(s,c,n),n&&f&4&&qf(s,c);break;case 13:_n(s,c,n),n&&f&4&&Hf(s,c);break;case 22:c.memoizedState===null&&_n(s,c,n),ni(c,c.return);break;case 30:break;default:_n(s,c,n)}t=t.sibling}}function Qc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Yl(n))}function Yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yl(e))}function un(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$f(e,t,n,a),t=t.sibling}function $f(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:un(e,t,n,a),s&2048&&ti(9,t);break;case 1:un(e,t,n,a);break;case 3:un(e,t,n,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yl(e)));break;case 12:if(s&2048){un(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,v=c.onPostCommit;typeof v=="function"&&v(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Ve(t,t.return,M)}}else un(e,t,n,a);break;case 31:un(e,t,n,a);break;case 13:un(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?un(e,t,n,a):ai(e,t):c._visibility&2?un(e,t,n,a):(c._visibility|=2,rl(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Qc(f,t);break;case 24:un(e,t,n,a),s&2048&&Yc(t.alternate,t);break;default:un(e,t,n,a)}}function rl(e,t,n,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,f=t,v=n,M=a,I=f.flags;switch(f.tag){case 0:case 11:case 15:rl(c,f,v,M,s),ti(8,f);break;case 23:break;case 22:var ie=f.stateNode;f.memoizedState!==null?ie._visibility&2?rl(c,f,v,M,s):ai(c,f):(ie._visibility|=2,rl(c,f,v,M,s)),s&&I&2048&&Qc(f.alternate,f);break;case 24:rl(c,f,v,M,s),s&&I&2048&&Yc(f.alternate,f);break;default:rl(c,f,v,M,s)}t=t.sibling}}function ai(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:ai(n,a),s&2048&&Qc(a.alternate,a);break;case 24:ai(n,a),s&2048&&Yc(a.alternate,a);break;default:ai(n,a)}t=t.sibling}}var li=8192;function cl(e,t,n){if(e.subtreeFlags&li)for(e=e.child;e!==null;)Vf(e,t,n),e=e.sibling}function Vf(e,t,n){switch(e.tag){case 26:cl(e,t,n),e.flags&li&&e.memoizedState!==null&&Jy(n,on,e.memoizedState,e.memoizedProps);break;case 5:cl(e,t,n);break;case 3:case 4:var a=on;on=Ms(e.stateNode.containerInfo),cl(e,t,n),on=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=li,li=16777216,cl(e,t,n),li=a):cl(e,t,n));break;default:cl(e,t,n)}}function Gf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ii(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,Ff(a,e)}Gf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xf(e),e=e.sibling}function Xf(e){switch(e.tag){case 0:case 11:case 15:ii(e),e.flags&2048&&In(9,e,e.return);break;case 3:ii(e);break;case 12:ii(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bs(e)):ii(e);break;default:ii(e)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];pt=a,Ff(a,e)}Gf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:In(8,t,t.return),bs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bs(t));break;default:bs(t)}e=e.sibling}}function Ff(e,t){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:In(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Yl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,pt=a;else e:for(n=e;pt!==null;){a=pt;var s=a.sibling,c=a.return;if(Uf(a),a===n){pt=null;break e}if(s!==null){s.return=c,pt=s;break e}pt=c}}}var oy={getCacheForType:function(e){var t=vt(rt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return vt(rt).controller.signal}},uy=typeof WeakMap=="function"?WeakMap:Map,Qe=0,Ze=null,Re=null,_e=0,$e=0,Gt=null,Pn=!1,ol=!1,$c=!1,kn=0,lt=0,ea=0,Da=0,Vc=0,Xt=0,ul=0,si=null,_t=null,Gc=!1,js=0,Jf=0,Ss=1/0,ws=null,ta=null,dt=0,na=null,dl=null,Ln=0,Xc=0,Fc=null,Zf=null,ri=0,Jc=null;function Ft(){return(Qe&2)!==0&&_e!==0?_e&-_e:T.T!==null?eo():uu()}function Kf(){if(Xt===0)if((_e&536870912)===0||Le){var e=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),Xt=e}else Xt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Xt}function kt(e,t,n){(e===Ze&&($e===2||$e===9)||e.cancelPendingCommit!==null)&&(fl(e,0),aa(e,_e,Xt,!1)),Cl(e,n),((Qe&2)===0||e!==Ze)&&(e===Ze&&((Qe&2)===0&&(Da|=n),lt===4&&aa(e,_e,Xt,!1)),yn(e))}function Wf(e,t,n){if((Qe&6)!==0)throw Error(u(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||zl(e,t),s=a?my(e,t):Kc(e,t,!0),c=a;do{if(s===0){ol&&!a&&aa(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!dy(n)){s=Kc(e,t,!1),c=!1;continue}if(s===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var v=e;s=si;var M=v.current.memoizedState.isDehydrated;if(M&&(fl(v,f).flags|=256),f=Kc(v,f,!1),f!==2){if($c&&!M){v.errorRecoveryDisabledLanes|=c,Da|=c,s=4;break e}c=_t,_t=s,c!==null&&(_t===null?_t=c:_t.push.apply(_t,c))}s=f}if(c=!1,s!==2)continue}}if(s===1){fl(e,0),aa(e,t,0,!0);break}e:{switch(a=e,c=s,c){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:aa(a,t,Xt,!Pn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(s=js+300-pe(),10<s)){if(aa(a,t,Xt,!Pn),Mi(a,0,!0)!==0)break e;Ln=t,a.timeoutHandle=Cm(If.bind(null,a,n,_t,ws,Gc,t,Xt,Da,ul,Pn,c,"Throttled",-0,0),s);break e}If(a,n,_t,ws,Gc,t,Xt,Da,ul,Pn,c,null,-0,0)}}break}while(!0);yn(e)}function If(e,t,n,a,s,c,f,v,M,I,ie,ue,P,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Vf(t,c,ue);var ye=(c&62914560)===c?js-pe():(c&4194048)===c?Jf-pe():0;if(ye=Zy(ue,ye),ye!==null){Ln=c,e.cancelPendingCommit=ye(sm.bind(null,e,t,c,n,a,s,f,v,M,ie,ue,null,P,ae)),aa(e,c,f,!I);return}}sm(e,t,c,n,a,s,f,v,M)}function dy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var s=n[a],c=s.getSnapshot;s=s.value;try{if(!Qt(c(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function aa(e,t,n,a){t&=~Vc,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var c=31-Ht(s),f=1<<c;a[c]=-1,s&=~f}n!==0&&ru(e,n,t)}function Ns(){return(Qe&6)===0?(ci(0),!1):!0}function Zc(){if(Re!==null){if($e===0)var e=Re.return;else e=Re,An=ja=null,dc(e),nl=null,Vl=0,e=Re;for(;e!==null;)Tf(e.alternate,e),e=e.return;Re=null}}function fl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Oy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ln=0,Zc(),Ze=e,Re=n=wn(e.current,null),_e=t,$e=0,Gt=null,Pn=!1,ol=zl(e,t),$c=!1,ul=Xt=Vc=Da=ea=lt=0,_t=si=null,Gc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-Ht(a),c=1<<s;t|=e[s],a&=~c}return kn=t,Gi(),n}function Pf(e,t){Te=null,T.H=Il,t===tl||t===Pi?(t=hd(),$e=3):t===Pr?(t=hd(),$e=4):$e=t===zc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gt=t,Re===null&&(lt=1,ms(e,It(t,e.current)))}function em(){var e=$t.current;return e===null?!0:(_e&4194048)===_e?nn===null:(_e&62914560)===_e||(_e&536870912)!==0?e===nn:!1}function tm(){var e=T.H;return T.H=Il,e===null?Il:e}function nm(){var e=T.A;return T.A=oy,e}function As(){lt=4,Pn||(_e&4194048)!==_e&&$t.current!==null||(ol=!0),(ea&134217727)===0&&(Da&134217727)===0||Ze===null||aa(Ze,_e,Xt,!1)}function Kc(e,t,n){var a=Qe;Qe|=2;var s=tm(),c=nm();(Ze!==e||_e!==t)&&(ws=null,fl(e,t)),t=!1;var f=lt;e:do try{if($e!==0&&Re!==null){var v=Re,M=Gt;switch($e){case 8:Zc(),f=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var I=$e;if($e=0,Gt=null,ml(e,v,M,I),n&&ol){f=0;break e}break;default:I=$e,$e=0,Gt=null,ml(e,v,M,I)}}fy(),f=lt;break}catch(ie){Pf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,An=ja=null,Qe=a,T.H=s,T.A=c,Re===null&&(Ze=null,_e=0,Gi()),f}function fy(){for(;Re!==null;)am(Re)}function my(e,t){var n=Qe;Qe|=2;var a=tm(),s=nm();Ze!==e||_e!==t?(ws=null,Ss=pe()+500,fl(e,t)):ol=zl(e,t);e:do try{if($e!==0&&Re!==null){t=Re;var c=Gt;t:switch($e){case 1:$e=0,Gt=null,ml(e,t,c,1);break;case 2:case 9:if(fd(c)){$e=0,Gt=null,lm(t);break}t=function(){$e!==2&&$e!==9||Ze!==e||($e=7),yn(e)},c.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:fd(c)?($e=0,Gt=null,lm(t)):($e=0,Gt=null,ml(e,t,c,7));break;case 5:var f=null;switch(Re.tag){case 26:f=Re.memoizedState;case 5:case 27:var v=Re;if(f?$m(f):v.stateNode.complete){$e=0,Gt=null;var M=v.sibling;if(M!==null)Re=M;else{var I=v.return;I!==null?(Re=I,Es(I)):Re=null}break t}}$e=0,Gt=null,ml(e,t,c,5);break;case 6:$e=0,Gt=null,ml(e,t,c,6);break;case 8:Zc(),lt=6;break e;default:throw Error(u(462))}}hy();break}catch(ie){Pf(e,ie)}while(!0);return An=ja=null,T.H=a,T.A=s,Qe=n,Re!==null?0:(Ze=null,_e=0,Gi(),lt)}function hy(){for(;Re!==null&&!Ne();)am(Re)}function am(e){var t=zf(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?Es(e):Re=t}function lm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jf(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=jf(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:dc(t);default:Tf(n,t),t=Re=td(t,kn),t=zf(n,t,kn)}e.memoizedProps=e.pendingProps,t===null?Es(e):Re=t}function ml(e,t,n,a){An=ja=null,dc(t),nl=null,Vl=0;var s=t.return;try{if(ny(e,s,t,n,_e)){lt=1,ms(e,It(n,e.current)),Re=null;return}}catch(c){if(s!==null)throw Re=s,c;lt=1,ms(e,It(n,e.current)),Re=null;return}t.flags&32768?(Le||a===1?e=!0:ol||(_e&536870912)!==0?e=!1:(Pn=e=!0,(a===2||a===9||a===3||a===6)&&(a=$t.current,a!==null&&a.tag===13&&(a.flags|=16384))),im(t,e)):Es(t)}function Es(e){var t=e;do{if((t.flags&32768)!==0){im(t,Pn);return}e=t.return;var n=iy(t.alternate,t,kn);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);lt===0&&(lt=5)}function im(e,t){do{var n=sy(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);lt=6,Re=null}function sm(e,t,n,a,s,c,f,v,M){e.cancelPendingCommit=null;do zs();while(dt!==0);if((Qe&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(c=t.lanes|t.childLanes,c|=Br,Fp(e,n,c,f,v,M),e===Ze&&(Re=Ze=null,_e=0),dl=t,na=e,Ln=n,Xc=c,Fc=s,Zf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vy(nt,function(){return dm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=T.T,T.T=null,s=J.p,J.p=2,f=Qe,Qe|=4;try{ry(e,t,n)}finally{Qe=f,J.p=s,T.T=a}}dt=1,rm(),cm(),om()}}function rm(){if(dt===1){dt=0;var e=na,t=dl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=T.T,T.T=null;var a=J.p;J.p=2;var s=Qe;Qe|=4;try{Qf(t,e);var c=co,f=Xu(e.containerInfo),v=c.focusedElem,M=c.selectionRange;if(f!==v&&v&&v.ownerDocument&&Gu(v.ownerDocument.documentElement,v)){if(M!==null&&Mr(v)){var I=M.start,ie=M.end;if(ie===void 0&&(ie=I),"selectionStart"in v)v.selectionStart=I,v.selectionEnd=Math.min(ie,v.value.length);else{var ue=v.ownerDocument||document,P=ue&&ue.defaultView||window;if(P.getSelection){var ae=P.getSelection(),ye=v.textContent.length,Ae=Math.min(M.start,ye),Je=M.end===void 0?Ae:Math.min(M.end,ye);!ae.extend&&Ae>Je&&(f=Je,Je=Ae,Ae=f);var F=Vu(v,Ae),q=Vu(v,Je);if(F&&q&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==q.node||ae.focusOffset!==q.offset)){var W=ue.createRange();W.setStart(F.node,F.offset),ae.removeAllRanges(),Ae>Je?(ae.addRange(W),ae.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ae.addRange(W))}}}}for(ue=[],ae=v;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ue.length;v++){var re=ue[v];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}qs=!!ro,co=ro=null}finally{Qe=s,J.p=a,T.T=n}}e.current=t,dt=2}}function cm(){if(dt===2){dt=0;var e=na,t=dl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=T.T,T.T=null;var a=J.p;J.p=2;var s=Qe;Qe|=4;try{Lf(e,t.alternate,t)}finally{Qe=s,J.p=a,T.T=n}}dt=3}}function om(){if(dt===4||dt===3){dt=0,oe();var e=na,t=dl,n=Ln,a=Zf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,dl=na=null,um(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ta=null),hr(n),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Hn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=T.T,s=J.p,J.p=2,T.T=null;try{for(var c=e.onRecoverableError,f=0;f<a.length;f++){var v=a[f];c(v.value,{componentStack:v.stack})}}finally{T.T=t,J.p=s}}(Ln&3)!==0&&zs(),yn(e),s=e.pendingLanes,(n&261930)!==0&&(s&42)!==0?e===Jc?ri++:(ri=0,Jc=e):ri=0,ci(0)}}function um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yl(t)))}function zs(){return rm(),cm(),om(),dm()}function dm(){if(dt!==5)return!1;var e=na,t=Xc;Xc=0;var n=hr(Ln),a=T.T,s=J.p;try{J.p=32>n?32:n,T.T=null,n=Fc,Fc=null;var c=na,f=Ln;if(dt=0,dl=na=null,Ln=0,(Qe&6)!==0)throw Error(u(331));var v=Qe;if(Qe|=4,Xf(c.current),$f(c,c.current,f,n),Qe=v,ci(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Hn,c)}catch{}return!0}finally{J.p=s,T.T=a,um(e,t)}}function fm(e,t,n){t=It(n,t),t=Ec(e.stateNode,t,2),e=Zn(e,t,2),e!==null&&(Cl(e,2),yn(e))}function Ve(e,t,n){if(e.tag===3)fm(e,e,n);else for(;t!==null;){if(t.tag===3){fm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ta===null||!ta.has(a))){e=It(n,e),n=mf(2),a=Zn(t,n,2),a!==null&&(hf(n,a,t,e),Cl(a,2),yn(a));break}}t=t.return}}function Wc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new uy;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||($c=!0,s.add(n),e=py.bind(null,e,t,n),t.then(e,e))}function py(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ze===e&&(_e&n)===n&&(lt===4||lt===3&&(_e&62914560)===_e&&300>pe()-js?(Qe&2)===0&&fl(e,0):Vc|=n,ul===_e&&(ul=0)),yn(e)}function mm(e,t){t===0&&(t=su()),e=va(e,t),e!==null&&(Cl(e,t),yn(e))}function gy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mm(e,n)}function yy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),mm(e,n)}function vy(e,t){return we(e,t)}var Cs=null,hl=null,Ic=!1,Ts=!1,Pc=!1,la=0;function yn(e){e!==hl&&e.next===null&&(hl===null?Cs=hl=e:hl=hl.next=e),Ts=!0,Ic||(Ic=!0,by())}function ci(e,t){if(!Pc&&Ts){Pc=!0;do for(var n=!1,a=Cs;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var c=0;else{var f=a.suspendedLanes,v=a.pingedLanes;c=(1<<31-Ht(42|e)+1)-1,c&=s&~(f&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,ym(a,c))}else c=_e,c=Mi(a,a===Ze?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||zl(a,c)||(n=!0,ym(a,c));a=a.next}while(n);Pc=!1}}function xy(){hm()}function hm(){Ts=Ic=!1;var e=0;la!==0&&Dy()&&(e=la);for(var t=pe(),n=null,a=Cs;a!==null;){var s=a.next,c=pm(a,t);c===0?(a.next=null,n===null?Cs=s:n.next=s,s===null&&(hl=n)):(n=a,(e!==0||(c&3)!==0)&&(Ts=!0)),a=s}dt!==0&&dt!==5||ci(e),la!==0&&(la=0)}function pm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-Ht(c),v=1<<f,M=s[f];M===-1?((v&n)===0||(v&a)!==0)&&(s[f]=Xp(v,t)):M<=t&&(e.expiredLanes|=v),c&=~v}if(t=Ze,n=_e,n=Mi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&($e===2||$e===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Se(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||zl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Se(a),hr(n)){case 2:case 8:n=Ge;break;case 32:n=nt;break;case 268435456:n=St;break;default:n=nt}return a=gm.bind(null,e),n=we(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Se(a),e.callbackPriority=2,e.callbackNode=null,2}function gm(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(zs()&&e.callbackNode!==n)return null;var a=_e;return a=Mi(e,e===Ze?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Wf(e,a,t),pm(e,pe()),e.callbackNode!=null&&e.callbackNode===n?gm.bind(null,e):null)}function ym(e,t){if(zs())return null;Wf(e,t,!0)}function by(){Ry(function(){(Qe&6)!==0?we(Ye,xy):hm()})}function eo(){if(la===0){var e=Pa;e===0&&(e=Di,Di<<=1,(Di&261888)===0&&(Di=256)),la=e}return la}function vm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ui(""+e)}function xm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function jy(e,t,n,a,s){if(t==="submit"&&n&&n.stateNode===s){var c=vm((s[Tt]||null).action),f=a.submitter;f&&(t=(t=f[Tt]||null)?vm(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var v=new Qi("action","action",null,a,s);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(la!==0){var M=f?xm(s,f):new FormData(s);bc(n,{pending:!0,data:M,method:s.method,action:c},null,M)}}else typeof c=="function"&&(v.preventDefault(),M=f?xm(s,f):new FormData(s),bc(n,{pending:!0,data:M,method:s.method,action:c},c,M))},currentTarget:s}]})}}for(var to=0;to<Ur.length;to++){var no=Ur[to],Sy=no.toLowerCase(),wy=no[0].toUpperCase()+no.slice(1);cn(Sy,"on"+wy)}cn(Zu,"onAnimationEnd"),cn(Ku,"onAnimationIteration"),cn(Wu,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(qg,"onTransitionRun"),cn(Hg,"onTransitionStart"),cn(Qg,"onTransitionCancel"),cn(Iu,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ny=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oi));function bm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var f=a.length-1;0<=f;f--){var v=a[f],M=v.instance,I=v.currentTarget;if(v=v.listener,M!==c&&s.isPropagationStopped())break e;c=v,s.currentTarget=I;try{c(s)}catch(ie){Vi(ie)}s.currentTarget=null,c=M}else for(f=0;f<a.length;f++){if(v=a[f],M=v.instance,I=v.currentTarget,v=v.listener,M!==c&&s.isPropagationStopped())break e;c=v,s.currentTarget=I;try{c(s)}catch(ie){Vi(ie)}s.currentTarget=null,c=M}}}}function Me(e,t){var n=t[pr];n===void 0&&(n=t[pr]=new Set);var a=e+"__bubble";n.has(a)||(jm(t,e,2,!1),n.add(a))}function ao(e,t,n){var a=0;t&&(a|=4),jm(n,e,a,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[Ds]){e[Ds]=!0,mu.forEach(function(n){n!=="selectionchange"&&(Ny.has(n)||ao(n,!1,e),ao(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,ao("selectionchange",!1,t))}}function jm(e,t,n,a){switch(Km(t)){case 2:var s=Iy;break;case 8:s=Py;break;default:s=bo}n=s.bind(null,t,n,e),s=void 0,!Nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function io(e,t,n,a,s){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var v=a.stateNode.containerInfo;if(v===s)break;if(f===4)for(f=a.return;f!==null;){var M=f.tag;if((M===3||M===4)&&f.stateNode.containerInfo===s)return;f=f.return}for(;v!==null;){if(f=La(v),f===null)return;if(M=f.tag,M===5||M===6||M===26||M===27){a=c=f;continue e}v=v.parentNode}}a=a.return}Au(function(){var I=c,ie=Sr(n),ue=[];e:{var P=Pu.get(e);if(P!==void 0){var ae=Qi,ye=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":ae=yg;break;case"focusin":ye="focus",ae=Cr;break;case"focusout":ye="blur",ae=Cr;break;case"beforeblur":case"afterblur":ae=Cr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=bg;break;case Zu:case Ku:case Wu:ae=cg;break;case Iu:ae=Sg;break;case"scroll":case"scrollend":ae=ag;break;case"wheel":ae=Ng;break;case"copy":case"cut":case"paste":ae=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Du;break;case"toggle":case"beforetoggle":ae=Eg}var Ae=(t&4)!==0,Je=!Ae&&(e==="scroll"||e==="scrollend"),F=Ae?P!==null?P+"Capture":null:P;Ae=[];for(var q=I,W;q!==null;){var re=q;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||F===null||(re=Ol(q,F),re!=null&&Ae.push(ui(q,re,W))),Je)break;q=q.return}0<Ae.length&&(P=new ae(P,ye,null,n,ie),ue.push({event:P,listeners:Ae}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",P&&n!==jr&&(ye=n.relatedTarget||n.fromElement)&&(La(ye)||ye[ka]))break e;if((ae||P)&&(P=ie.window===ie?ie:(P=ie.ownerDocument)?P.defaultView||P.parentWindow:window,ae?(ye=n.relatedTarget||n.toElement,ae=I,ye=ye?La(ye):null,ye!==null&&(Je=m(ye),Ae=ye.tag,ye!==Je||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(ae=null,ye=I),ae!==ye)){if(Ae=Cu,re="onMouseLeave",F="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=Du,re="onPointerLeave",F="onPointerEnter",q="pointer"),Je=ae==null?P:Dl(ae),W=ye==null?P:Dl(ye),P=new Ae(re,q+"leave",ae,n,ie),P.target=Je,P.relatedTarget=W,re=null,La(ie)===I&&(Ae=new Ae(F,q+"enter",ye,n,ie),Ae.target=W,Ae.relatedTarget=Je,re=Ae),Je=re,ae&&ye)t:{for(Ae=Ay,F=ae,q=ye,W=0,re=F;re;re=Ae(re))W++;re=0;for(var be=q;be;be=Ae(be))re++;for(;0<W-re;)F=Ae(F),W--;for(;0<re-W;)q=Ae(q),re--;for(;W--;){if(F===q||q!==null&&F===q.alternate){Ae=F;break t}F=Ae(F),q=Ae(q)}Ae=null}else Ae=null;ae!==null&&Sm(ue,P,ae,Ae,!1),ye!==null&&Je!==null&&Sm(ue,Je,ye,Ae,!0)}}e:{if(P=I?Dl(I):window,ae=P.nodeName&&P.nodeName.toLowerCase(),ae==="select"||ae==="input"&&P.type==="file")var qe=Bu;else if(Lu(P))if(qu)qe=Lg;else{qe=_g;var ve=Mg}else ae=P.nodeName,!ae||ae.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?I&&br(I.elementType)&&(qe=Bu):qe=kg;if(qe&&(qe=qe(e,I))){Uu(ue,qe,n,ie);break e}ve&&ve(e,P,I),e==="focusout"&&I&&P.type==="number"&&I.memoizedProps.value!=null&&xr(P,"number",P.value)}switch(ve=I?Dl(I):window,e){case"focusin":(Lu(ve)||ve.contentEditable==="true")&&(Ga=ve,_r=I,ql=null);break;case"focusout":ql=_r=Ga=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Fu(ue,n,ie);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":Fu(ue,n,ie)}var Oe;if(Dr)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Va?_u(e,n)&&(ke="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ke="onCompositionStart");ke&&(Ou&&n.locale!=="ko"&&(Va||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Va&&(Oe=Eu()):(Yn=ie,Ar="value"in Yn?Yn.value:Yn.textContent,Va=!0)),ve=Os(I,ke),0<ve.length&&(ke=new Tu(ke,e,null,n,ie),ue.push({event:ke,listeners:ve}),Oe?ke.data=Oe:(Oe=ku(n),Oe!==null&&(ke.data=Oe)))),(Oe=Cg?Tg(e,n):Dg(e,n))&&(ke=Os(I,"onBeforeInput"),0<ke.length&&(ve=new Tu("onBeforeInput","beforeinput",null,n,ie),ue.push({event:ve,listeners:ke}),ve.data=Oe)),jy(ue,e,I,n,ie)}bm(ue,t)})}function ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Os(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,c=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||c===null||(s=Ol(e,n),s!=null&&a.unshift(ui(e,s,c)),s=Ol(e,t),s!=null&&a.push(ui(e,s,c))),e.tag===3)return a;e=e.return}return[]}function Ay(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sm(e,t,n,a,s){for(var c=t._reactName,f=[];n!==null&&n!==a;){var v=n,M=v.alternate,I=v.stateNode;if(v=v.tag,M!==null&&M===a)break;v!==5&&v!==26&&v!==27||I===null||(M=I,s?(I=Ol(n,c),I!=null&&f.unshift(ui(n,I,M))):s||(I=Ol(n,c),I!=null&&f.push(ui(n,I,M)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Ey=/\r\n?/g,zy=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(Ey,`
`).replace(zy,"")}function Nm(e,t){return t=wm(t),wm(e)===t}function Fe(e,t,n,a,s,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Qa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Qa(e,""+a);break;case"className":ki(e,"class",a);break;case"tabIndex":ki(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(e,n,a);break;case"style":wu(e,a,c);break;case"data":if(t!=="object"){ki(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ui(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Fe(e,t,"name",s.name,s,null),Fe(e,t,"formEncType",s.formEncType,s,null),Fe(e,t,"formMethod",s.formMethod,s,null),Fe(e,t,"formTarget",s.formTarget,s,null)):(Fe(e,t,"encType",s.encType,s,null),Fe(e,t,"method",s.method,s,null),Fe(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ui(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=jn);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ui(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),_i(e,"popover",a);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_i(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tg.get(n)||n,_i(e,n,a))}}function so(e,t,n,a,s,c){switch(n){case"style":wu(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Qa(e,a):(typeof a=="number"||typeof a=="bigint")&&Qa(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),c=e[Tt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,s),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):_i(e,n,a)}}}function bt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,s=!1,c;for(c in n)if(n.hasOwnProperty(c)){var f=n[c];if(f!=null)switch(c){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Fe(e,t,c,f,n,null)}}s&&Fe(e,t,"srcSet",n.srcSet,n,null),a&&Fe(e,t,"src",n.src,n,null);return;case"input":Me("invalid",e);var v=c=f=s=null,M=null,I=null;for(a in n)if(n.hasOwnProperty(a)){var ie=n[a];if(ie!=null)switch(a){case"name":s=ie;break;case"type":f=ie;break;case"checked":M=ie;break;case"defaultChecked":I=ie;break;case"value":c=ie;break;case"defaultValue":v=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(u(137,t));break;default:Fe(e,t,a,ie,n,null)}}xu(e,c,v,M,I,f,s,!1);return;case"select":Me("invalid",e),a=f=c=null;for(s in n)if(n.hasOwnProperty(s)&&(v=n[s],v!=null))switch(s){case"value":c=v;break;case"defaultValue":f=v;break;case"multiple":a=v;default:Fe(e,t,s,v,n,null)}t=c,n=f,e.multiple=!!a,t!=null?Ha(e,!!a,t,!1):n!=null&&Ha(e,!!a,n,!0);return;case"textarea":Me("invalid",e),c=s=a=null;for(f in n)if(n.hasOwnProperty(f)&&(v=n[f],v!=null))switch(f){case"value":a=v;break;case"defaultValue":s=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(u(91));break;default:Fe(e,t,f,v,n,null)}ju(e,a,s,c);return;case"option":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Fe(e,t,M,a,n,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<oi.length;a++)Me(oi[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in n)if(n.hasOwnProperty(I)&&(a=n[I],a!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Fe(e,t,I,a,n,null)}return;default:if(br(t)){for(ie in n)n.hasOwnProperty(ie)&&(a=n[ie],a!==void 0&&so(e,t,ie,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&Fe(e,t,v,a,n,null))}function Cy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,c=null,f=null,v=null,M=null,I=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":M=ue;default:a.hasOwnProperty(ae)||Fe(e,t,ae,null,a,ue)}}for(var P in a){var ae=a[P];if(ue=n[P],a.hasOwnProperty(P)&&(ae!=null||ue!=null))switch(P){case"type":c=ae;break;case"name":s=ae;break;case"checked":I=ae;break;case"defaultChecked":ie=ae;break;case"value":f=ae;break;case"defaultValue":v=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(u(137,t));break;default:ae!==ue&&Fe(e,t,P,ae,a,ue)}}vr(e,f,v,M,I,ie,c,s);return;case"select":ae=f=v=P=null;for(c in n)if(M=n[c],n.hasOwnProperty(c)&&M!=null)switch(c){case"value":break;case"multiple":ae=M;default:a.hasOwnProperty(c)||Fe(e,t,c,null,a,M)}for(s in a)if(c=a[s],M=n[s],a.hasOwnProperty(s)&&(c!=null||M!=null))switch(s){case"value":P=c;break;case"defaultValue":v=c;break;case"multiple":f=c;default:c!==M&&Fe(e,t,s,c,a,M)}t=v,n=f,a=ae,P!=null?Ha(e,!!n,P,!1):!!a!=!!n&&(t!=null?Ha(e,!!n,t,!0):Ha(e,!!n,n?[]:"",!1));return;case"textarea":ae=P=null;for(v in n)if(s=n[v],n.hasOwnProperty(v)&&s!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Fe(e,t,v,null,a,s)}for(f in a)if(s=a[f],c=n[f],a.hasOwnProperty(f)&&(s!=null||c!=null))switch(f){case"value":P=s;break;case"defaultValue":ae=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(u(91));break;default:s!==c&&Fe(e,t,f,s,a,c)}bu(e,P,ae);return;case"option":for(var ye in n)if(P=n[ye],n.hasOwnProperty(ye)&&P!=null&&!a.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Fe(e,t,ye,null,a,P)}for(M in a)if(P=a[M],ae=n[M],a.hasOwnProperty(M)&&P!==ae&&(P!=null||ae!=null))switch(M){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Fe(e,t,M,P,a,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in n)P=n[Ae],n.hasOwnProperty(Ae)&&P!=null&&!a.hasOwnProperty(Ae)&&Fe(e,t,Ae,null,a,P);for(I in a)if(P=a[I],ae=n[I],a.hasOwnProperty(I)&&P!==ae&&(P!=null||ae!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(u(137,t));break;default:Fe(e,t,I,P,a,ae)}return;default:if(br(t)){for(var Je in n)P=n[Je],n.hasOwnProperty(Je)&&P!==void 0&&!a.hasOwnProperty(Je)&&so(e,t,Je,void 0,a,P);for(ie in a)P=a[ie],ae=n[ie],!a.hasOwnProperty(ie)||P===ae||P===void 0&&ae===void 0||so(e,t,ie,P,a,ae);return}}for(var F in n)P=n[F],n.hasOwnProperty(F)&&P!=null&&!a.hasOwnProperty(F)&&Fe(e,t,F,null,a,P);for(ue in a)P=a[ue],ae=n[ue],!a.hasOwnProperty(ue)||P===ae||P==null&&ae==null||Fe(e,t,ue,P,a,ae)}function Am(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ty(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],c=s.transferSize,f=s.initiatorType,v=s.duration;if(c&&v&&Am(f)){for(f=0,v=s.responseEnd,a+=1;a<n.length;a++){var M=n[a],I=M.startTime;if(I>v)break;var ie=M.transferSize,ue=M.initiatorType;ie&&Am(ue)&&(M=M.responseEnd,f+=ie*(M<v?1:(v-I)/(M-I)))}if(--a,t+=8*(c+f)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ro=null,co=null;function Rs(e){return e.nodeType===9?e:e.ownerDocument}function Em(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uo=null;function Dy(){var e=window.event;return e&&e.type==="popstate"?e===uo?!1:(uo=e,!0):(uo=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,Ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(My)}:Cm;function My(e){setTimeout(function(){throw e})}function ia(e){return e==="head"}function Dm(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(s),vl(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")di(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,di(n);for(var c=n.firstChild;c;){var f=c.nextSibling,v=c.nodeName;c[Tl]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=f}}else n==="body"&&di(e.ownerDocument.body);n=s}while(n);vl(t)}function Om(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function fo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fo(n),gr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _y(e,t,n,a){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Tl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=an(e.nextSibling),e===null)break}return null}function ky(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=an(e.nextSibling),e===null))return null;return e}function Rm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=an(e.nextSibling),e===null))return null;return e}function mo(e){return e.data==="$?"||e.data==="$~"}function ho(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ly(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var po=null;function Mm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return an(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function _m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function km(e,t,n){switch(t=Rs(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function di(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gr(e)}var ln=new Map,Lm=new Set;function Ms(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=J.d;J.d={f:Uy,r:By,D:qy,C:Hy,L:Qy,m:Yy,X:Vy,S:$y,M:Gy};function Uy(){var e=Un.f(),t=Ns();return e||t}function By(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?Id(t):Un.r(e)}var pl=typeof document>"u"?null:document;function Um(e,t,n){var a=pl;if(a&&typeof t=="string"&&t){var s=Kt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Lm.has(s)||(Lm.add(s),e={rel:e,crossOrigin:n,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),bt(t,"link",e),ht(t),a.head.appendChild(t)))}}function qy(e){Un.D(e),Um("dns-prefetch",e,null)}function Hy(e,t){Un.C(e,t),Um("preconnect",e,t)}function Qy(e,t,n){Un.L(e,t,n);var a=pl;if(a&&e&&t){var s='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Kt(n.imageSizes)+'"]')):s+='[href="'+Kt(e)+'"]';var c=s;switch(t){case"style":c=gl(e);break;case"script":c=yl(e)}ln.has(c)||(e=C({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ln.set(c,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(fi(c))||t==="script"&&a.querySelector(mi(c))||(t=a.createElement("link"),bt(t,"link",e),ht(t),a.head.appendChild(t)))}}function Yy(e,t){Un.m(e,t);var n=pl;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Kt(a)+'"][href="'+Kt(e)+'"]',c=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=yl(e)}if(!ln.has(c)&&(e=C({rel:"modulepreload",href:e},t),ln.set(c,e),n.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mi(c)))return}a=n.createElement("link"),bt(a,"link",e),ht(a),n.head.appendChild(a)}}}function $y(e,t,n){Un.S(e,t,n);var a=pl;if(a&&e){var s=Ba(a).hoistableStyles,c=gl(e);t=t||"default";var f=s.get(c);if(!f){var v={loading:0,preload:null};if(f=a.querySelector(fi(c)))v.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ln.get(c))&&go(e,n);var M=f=a.createElement("link");ht(M),bt(M,"link",e),M._p=new Promise(function(I,ie){M.onload=I,M.onerror=ie}),M.addEventListener("load",function(){v.loading|=1}),M.addEventListener("error",function(){v.loading|=2}),v.loading|=4,_s(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:v},s.set(c,f)}}}function Vy(e,t){Un.X(e,t);var n=pl;if(n&&e){var a=Ba(n).hoistableScripts,s=yl(e),c=a.get(s);c||(c=n.querySelector(mi(s)),c||(e=C({src:e,async:!0},t),(t=ln.get(s))&&yo(e,t),c=n.createElement("script"),ht(c),bt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(s,c))}}function Gy(e,t){Un.M(e,t);var n=pl;if(n&&e){var a=Ba(n).hoistableScripts,s=yl(e),c=a.get(s);c||(c=n.querySelector(mi(s)),c||(e=C({src:e,async:!0,type:"module"},t),(t=ln.get(s))&&yo(e,t),c=n.createElement("script"),ht(c),bt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(s,c))}}function Bm(e,t,n,a){var s=(s=Z.current)?Ms(s):null;if(!s)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=gl(n.href),n=Ba(s).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=gl(n.href);var c=Ba(s).hoistableStyles,f=c.get(e);if(f||(s=s.ownerDocument||s,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=s.querySelector(fi(e)))&&!c._p&&(f.instance=c,f.state.loading=5),ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ln.set(e,n),c||Xy(s,e,n,f.state))),t&&a===null)throw Error(u(528,""));return f}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=yl(n),n=Ba(s).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function gl(e){return'href="'+Kt(e)+'"'}function fi(e){return'link[rel="stylesheet"]['+e+"]"}function qm(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Xy(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),bt(t,"link",n),ht(t),e.head.appendChild(t))}function yl(e){return'[src="'+Kt(e)+'"]'}function mi(e){return"script[async]"+e}function Hm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Kt(n.href)+'"]');if(a)return t.instance=a,ht(a),a;var s=C({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ht(a),bt(a,"style",s),_s(a,n.precedence,e),t.instance=a;case"stylesheet":s=gl(n.href);var c=e.querySelector(fi(s));if(c)return t.state.loading|=4,t.instance=c,ht(c),c;a=qm(n),(s=ln.get(s))&&go(a,s),c=(e.ownerDocument||e).createElement("link"),ht(c);var f=c;return f._p=new Promise(function(v,M){f.onload=v,f.onerror=M}),bt(c,"link",a),t.state.loading|=4,_s(c,n.precedence,e),t.instance=c;case"script":return c=yl(n.src),(s=e.querySelector(mi(c)))?(t.instance=s,ht(s),s):(a=n,(s=ln.get(c))&&(a=C({},n),yo(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),ht(s),bt(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,_s(a,n.precedence,e));return t.instance}function _s(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,c=s,f=0;f<a.length;f++){var v=a[f];if(v.dataset.precedence===t)c=v;else if(c!==s)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function go(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ks=null;function Qm(e,t,n){if(ks===null){var a=new Map,s=ks=new Map;s.set(n,a)}else s=ks,a=s.get(n),a||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var c=n[s];if(!(c[Tl]||c[gt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var v=a.get(f);v?v.push(c):a.set(f,[c])}}return a}function Ym(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jy(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var s=gl(a.href),c=t.querySelector(fi(s));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ls.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,ht(c);return}c=t.ownerDocument||t,a=qm(a),(s=ln.get(s))&&go(a,s),c=c.createElement("link"),ht(c);var f=c;f._p=new Promise(function(v,M){f.onload=v,f.onerror=M}),bt(c,"link",a),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ls.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var vo=0;function Zy(e,t){return e.stylesheets&&e.count===0&&Bs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&vo===0&&(vo=62500*Ty());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bs(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>vo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Ls(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Us=null;function Bs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Us=new Map,t.forEach(Ky,e),Us=null,Ls.call(e))}function Ky(e,t){if(!(t.state.loading&4)){var n=Us.get(e);if(n)var a=n.get(null);else{n=new Map,Us.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<s.length;c++){var f=s[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}s=t.instance,f=s.getAttribute("data-precedence"),c=n.get(f)||a,c===a&&n.set(null,s),n.set(f,s),this.count++,a=Ls.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),c?c.parentNode.insertBefore(s,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var hi={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function Wy(e,t,n,a,s,c,f,v,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Vm(e,t,n,a,s,c,f,v,M,I,ie,ue){return e=new Wy(e,t,n,f,M,I,ie,ue,v),t=1,c===!0&&(t|=24),c=Yt(3,null,null,t),e.current=c,c.stateNode=e,t=Kr(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},ec(c),e}function Gm(e){return e?(e=Ja,e):Ja}function Xm(e,t,n,a,s,c){s=Gm(s),a.context===null?a.context=s:a.pendingContext=s,a=Jn(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=Zn(e,a,t),n!==null&&(kt(n,e,t),Xl(n,e,t))}function Fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xo(e,t){Fm(e,t),(e=e.alternate)&&Fm(e,t)}function Jm(e){if(e.tag===13||e.tag===31){var t=va(e,67108864);t!==null&&kt(t,e,67108864),xo(e,67108864)}}function Zm(e){if(e.tag===13||e.tag===31){var t=Ft();t=mr(t);var n=va(e,t);n!==null&&kt(n,e,t),xo(e,t)}}var qs=!0;function Iy(e,t,n,a){var s=T.T;T.T=null;var c=J.p;try{J.p=2,bo(e,t,n,a)}finally{J.p=c,T.T=s}}function Py(e,t,n,a){var s=T.T;T.T=null;var c=J.p;try{J.p=8,bo(e,t,n,a)}finally{J.p=c,T.T=s}}function bo(e,t,n,a){if(qs){var s=jo(a);if(s===null)io(e,t,a,Hs,n),Wm(e,a);else if(tv(s,e,t,n,a))a.stopPropagation();else if(Wm(e,a),t&4&&-1<ev.indexOf(e)){for(;s!==null;){var c=Ua(s);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=ma(c.pendingLanes);if(f!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;f;){var M=1<<31-Ht(f);v.entanglements[1]|=M,f&=~M}yn(c),(Qe&6)===0&&(Ss=pe()+500,ci(0))}}break;case 31:case 13:v=va(c,2),v!==null&&kt(v,c,2),Ns(),xo(c,2)}if(c=jo(a),c===null&&io(e,t,a,Hs,n),c===s)break;s=c}s!==null&&a.stopPropagation()}else io(e,t,a,null,n)}}function jo(e){return e=Sr(e),So(e)}var Hs=null;function So(e){if(Hs=null,e=La(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hs=e,null}function Km(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case Ye:return 2;case Ge:return 8;case nt:case qt:return 32;case St:return 268435456;default:return 32}default:return 32}}var wo=!1,sa=null,ra=null,ca=null,pi=new Map,gi=new Map,oa=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function yi(e,t,n,a,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Ua(t),t!==null&&Jm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tv(e,t,n,a,s){switch(t){case"focusin":return sa=yi(sa,e,t,n,a,s),!0;case"dragenter":return ra=yi(ra,e,t,n,a,s),!0;case"mouseover":return ca=yi(ca,e,t,n,a,s),!0;case"pointerover":var c=s.pointerId;return pi.set(c,yi(pi.get(c)||null,e,t,n,a,s)),!0;case"gotpointercapture":return c=s.pointerId,gi.set(c,yi(gi.get(c)||null,e,t,n,a,s)),!0}return!1}function Im(e){var t=La(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,du(e.priority,function(){Zm(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,du(e.priority,function(){Zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jo(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);jr=a,n.target.dispatchEvent(a),jr=null}else return t=Ua(n),t!==null&&Jm(t),e.blockedOn=n,!1;t.shift()}return!0}function Pm(e,t,n){Qs(e)&&n.delete(t)}function nv(){wo=!1,sa!==null&&Qs(sa)&&(sa=null),ra!==null&&Qs(ra)&&(ra=null),ca!==null&&Qs(ca)&&(ca=null),pi.forEach(Pm),gi.forEach(Pm)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nv)))}var $s=null;function eh(e){$s!==e&&($s=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$s===e&&($s=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(So(a||n)===null)continue;break}var c=Ua(n);c!==null&&(e.splice(t,3),t-=3,bc(c,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function vl(e){function t(M){return Ys(M,e)}sa!==null&&Ys(sa,e),ra!==null&&Ys(ra,e),ca!==null&&Ys(ca,e),pi.forEach(t),gi.forEach(t);for(var n=0;n<oa.length;n++){var a=oa[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)Im(n),n.blockedOn===null&&oa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var s=n[a],c=n[a+1],f=s[Tt]||null;if(typeof c=="function")f||eh(n);else if(f){var v=null;if(c&&c.hasAttribute("formAction")){if(s=c,f=c[Tt]||null)v=f.formAction;else if(So(s)!==null)continue}else v=f.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),eh(n)}}}function th(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(f){return s=f})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function No(e){this._internalRoot=e}Vs.prototype.render=No.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,a=Ft();Xm(n,a,e,t,null,null)},Vs.prototype.unmount=No.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xm(e.current,2,null,e,null,null),Ns(),t[ka]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=uu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oa.length&&t!==0&&t<oa[n].priority;n++);oa.splice(n,0,e),n===0&&Im(e)}};var nh=r.version;if(nh!=="19.2.0")throw Error(u(527,nh,"19.2.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=p(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var av={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Hn=Gs.inject(av),mt=Gs}catch{}}return vi.createRoot=function(e,t){if(!d(e))throw Error(u(299));var n=!1,a="",s=of,c=uf,f=df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Vm(e,1,!1,null,null,n,a,null,s,c,f,th),e[ka]=t.current,lo(e),new No(t)},vi.hydrateRoot=function(e,t,n){if(!d(e))throw Error(u(299));var a=!1,s="",c=of,f=uf,v=df,M=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(M=n.formState)),t=Vm(e,1,!0,t,n??null,a,s,M,c,f,v,th),t.context=Gm(null),n=t.current,a=Ft(),a=mr(a),s=Jn(a),s.callback=null,Zn(n,s,a),n=a,t.current.lanes=n,Cl(t,n),yn(t),e[ka]=t.current,lo(e),new Vs(t)},vi.version="19.2.0",vi}var uh;function dv(){if(uh)return Eo.exports;uh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Eo.exports=uv(),Eo.exports}var fv=dv();const mv=Xh(fv);var dh="popstate";function hv(i={}){function r(u,d){let{pathname:m,search:h,hash:y}=u.location;return Ho("",{pathname:m,search:h,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function o(u,d){return typeof d=="string"?d:wi(d)}return gv(r,o,null,i)}function tt(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function sn(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function pv(){return Math.random().toString(36).substring(2,10)}function fh(i,r){return{usr:i.state,key:i.key,idx:r}}function Ho(i,r,o=null,u){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?jl(r):r,state:o,key:r&&r.key||u||pv()}}function wi({pathname:i="/",search:r="",hash:o=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function jl(i){let r={};if(i){let o=i.indexOf("#");o>=0&&(r.hash=i.substring(o),i=i.substring(0,o));let u=i.indexOf("?");u>=0&&(r.search=i.substring(u),i=i.substring(0,u)),i&&(r.pathname=i)}return r}function gv(i,r,o,u={}){let{window:d=document.defaultView,v5Compat:m=!1}=u,h=d.history,y="POP",b=null,p=j();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function j(){return(h.state||{idx:null}).idx}function C(){y="POP";let S=j(),U=S==null?null:S-p;p=S,b&&b({action:y,location:w.location,delta:U})}function V(S,U){y="PUSH";let B=Ho(w.location,S,U);p=j()+1;let k=fh(B,p),K=w.createHref(B);try{h.pushState(k,"",K)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;d.location.assign(K)}m&&b&&b({action:y,location:w.location,delta:1})}function le(S,U){y="REPLACE";let B=Ho(w.location,S,U);p=j();let k=fh(B,p),K=w.createHref(B);h.replaceState(k,"",K),m&&b&&b({action:y,location:w.location,delta:0})}function D(S){return yv(S)}let w={get action(){return y},get location(){return i(d,h)},listen(S){if(b)throw new Error("A history only accepts one active listener");return d.addEventListener(dh,C),b=S,()=>{d.removeEventListener(dh,C),b=null}},createHref(S){return r(d,S)},createURL:D,encodeLocation(S){let U=D(S);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:V,replace:le,go(S){return h.go(S)}};return w}function yv(i,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),tt(o,"No window.location.(origin|href) available to create URL");let u=typeof i=="string"?i:wi(i);return u=u.replace(/ $/,"%20"),!r&&u.startsWith("//")&&(u=o+u),new URL(u,o)}function Fh(i,r,o="/"){return vv(i,r,o,!1)}function vv(i,r,o,u){let d=typeof r=="string"?jl(r):r,m=qn(d.pathname||"/",o);if(m==null)return null;let h=Jh(i);xv(h);let y=null;for(let b=0;y==null&&b<h.length;++b){let p=Dv(m);y=Cv(h[b],p,u)}return y}function Jh(i,r=[],o=[],u="",d=!1){let m=(h,y,b=d,p)=>{let j={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:y,route:h};if(j.relativePath.startsWith("/")){if(!j.relativePath.startsWith(u)&&b)return;tt(j.relativePath.startsWith(u),`Absolute route path "${j.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),j.relativePath=j.relativePath.slice(u.length)}let C=Bn([u,j.relativePath]),V=o.concat(j);h.children&&h.children.length>0&&(tt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),Jh(h.children,r,V,C,b)),!(h.path==null&&!h.index)&&r.push({path:C,score:Ev(C,h.index),routesMeta:V})};return i.forEach((h,y)=>{if(h.path===""||!h.path?.includes("?"))m(h,y);else for(let b of Zh(h.path))m(h,y,!0,b)}),r}function Zh(i){let r=i.split("/");if(r.length===0)return[];let[o,...u]=r,d=o.endsWith("?"),m=o.replace(/\?$/,"");if(u.length===0)return d?[m,""]:[m];let h=Zh(u.join("/")),y=[];return y.push(...h.map(b=>b===""?m:[m,b].join("/"))),d&&y.push(...h),y.map(b=>i.startsWith("/")&&b===""?"/":b)}function xv(i){i.sort((r,o)=>r.score!==o.score?o.score-r.score:zv(r.routesMeta.map(u=>u.childrenIndex),o.routesMeta.map(u=>u.childrenIndex)))}var bv=/^:[\w-]+$/,jv=3,Sv=2,wv=1,Nv=10,Av=-2,mh=i=>i==="*";function Ev(i,r){let o=i.split("/"),u=o.length;return o.some(mh)&&(u+=Av),r&&(u+=Sv),o.filter(d=>!mh(d)).reduce((d,m)=>d+(bv.test(m)?jv:m===""?wv:Nv),u)}function zv(i,r){return i.length===r.length&&i.slice(0,-1).every((u,d)=>u===r[d])?i[i.length-1]-r[r.length-1]:0}function Cv(i,r,o=!1){let{routesMeta:u}=i,d={},m="/",h=[];for(let y=0;y<u.length;++y){let b=u[y],p=y===u.length-1,j=m==="/"?r:r.slice(m.length)||"/",C=Ps({path:b.relativePath,caseSensitive:b.caseSensitive,end:p},j),V=b.route;if(!C&&p&&o&&!u[u.length-1].route.index&&(C=Ps({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},j)),!C)return null;Object.assign(d,C.params),h.push({params:d,pathname:Bn([m,C.pathname]),pathnameBase:kv(Bn([m,C.pathnameBase])),route:V}),C.pathnameBase!=="/"&&(m=Bn([m,C.pathnameBase]))}return h}function Ps(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,u]=Tv(i.path,i.caseSensitive,i.end),d=r.match(o);if(!d)return null;let m=d[0],h=m.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:u.reduce((p,{paramName:j,isOptional:C},V)=>{if(j==="*"){let D=y[V]||"";h=m.slice(0,m.length-D.length).replace(/(.)\/+$/,"$1")}const le=y[V];return C&&!le?p[j]=void 0:p[j]=(le||"").replace(/%2F/g,"/"),p},{}),pathname:m,pathnameBase:h,pattern:i}}function Tv(i,r=!1,o=!0){sn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let u=[],d="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,y,b)=>(u.push({paramName:y,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(u.push({paramName:"*"}),d+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":i!==""&&i!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,r?void 0:"i"),u]}function Dv(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return sn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function qn(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,u=i.charAt(o);return u&&u!=="/"?null:i.slice(o)||"/"}var Ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rv=i=>Ov.test(i);function Mv(i,r="/"){let{pathname:o,search:u="",hash:d=""}=typeof i=="string"?jl(i):i,m;if(o)if(Rv(o))m=o;else{if(o.includes("//")){let h=o;o=o.replace(/\/\/+/g,"/"),sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${o}`)}o.startsWith("/")?m=hh(o.substring(1),"/"):m=hh(o,r)}else m=r;return{pathname:m,search:Lv(u),hash:Uv(d)}}function hh(i,r){let o=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function Do(i,r,o,u){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _v(i){return i.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Zo(i){let r=_v(i);return r.map((o,u)=>u===r.length-1?o.pathname:o.pathnameBase)}function Ko(i,r,o,u=!1){let d;typeof i=="string"?d=jl(i):(d={...i},tt(!d.pathname||!d.pathname.includes("?"),Do("?","pathname","search",d)),tt(!d.pathname||!d.pathname.includes("#"),Do("#","pathname","hash",d)),tt(!d.search||!d.search.includes("#"),Do("#","search","hash",d)));let m=i===""||d.pathname==="",h=m?"/":d.pathname,y;if(h==null)y=o;else{let C=r.length-1;if(!u&&h.startsWith("..")){let V=h.split("/");for(;V[0]==="..";)V.shift(),C-=1;d.pathname=V.join("/")}y=C>=0?r[C]:"/"}let b=Mv(d,y),p=h&&h!=="/"&&h.endsWith("/"),j=(m||h===".")&&o.endsWith("/");return!b.pathname.endsWith("/")&&(p||j)&&(b.pathname+="/"),b}var Bn=i=>i.join("/").replace(/\/\/+/g,"/"),kv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Lv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Uv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Bv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kh=["POST","PUT","PATCH","DELETE"];new Set(Kh);var qv=["GET",...Kh];new Set(qv);var Sl=x.createContext(null);Sl.displayName="DataRouter";var lr=x.createContext(null);lr.displayName="DataRouterState";x.createContext(!1);var Wh=x.createContext({isTransitioning:!1});Wh.displayName="ViewTransition";var Hv=x.createContext(new Map);Hv.displayName="Fetchers";var Qv=x.createContext(null);Qv.displayName="Await";var dn=x.createContext(null);dn.displayName="Navigation";var Ni=x.createContext(null);Ni.displayName="Location";var fn=x.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var Wo=x.createContext(null);Wo.displayName="RouteError";function Yv(i,{relative:r}={}){tt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:u}=x.useContext(dn),{hash:d,pathname:m,search:h}=Ai(i,{relative:r}),y=m;return o!=="/"&&(y=m==="/"?o:Bn([o,m])),u.createHref({pathname:y,search:h,hash:d})}function wl(){return x.useContext(Ni)!=null}function xn(){return tt(wl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ni).location}var Ih="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ph(i){x.useContext(dn).static||x.useLayoutEffect(i)}function jt(){let{isDataRoute:i}=x.useContext(fn);return i?t0():$v()}function $v(){tt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(Sl),{basename:r,navigator:o}=x.useContext(dn),{matches:u}=x.useContext(fn),{pathname:d}=xn(),m=JSON.stringify(Zo(u)),h=x.useRef(!1);return Ph(()=>{h.current=!0}),x.useCallback((b,p={})=>{if(sn(h.current,Ih),!h.current)return;if(typeof b=="number"){o.go(b);return}let j=Ko(b,JSON.parse(m),d,p.relative==="path");i==null&&r!=="/"&&(j.pathname=j.pathname==="/"?r:Bn([r,j.pathname])),(p.replace?o.replace:o.push)(j,p.state,p)},[r,o,m,d,i])}x.createContext(null);function ir(){let{matches:i}=x.useContext(fn),r=i[i.length-1];return r?r.params:{}}function Ai(i,{relative:r}={}){let{matches:o}=x.useContext(fn),{pathname:u}=xn(),d=JSON.stringify(Zo(o));return x.useMemo(()=>Ko(i,JSON.parse(d),u,r==="path"),[i,d,u,r])}function Vv(i,r){return ep(i,r)}function ep(i,r,o,u,d){tt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=x.useContext(dn),{matches:h}=x.useContext(fn),y=h[h.length-1],b=y?y.params:{},p=y?y.pathname:"/",j=y?y.pathnameBase:"/",C=y&&y.route;{let B=C&&C.path||"";tp(p,!C||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let V=xn(),le;if(r){let B=typeof r=="string"?jl(r):r;tt(j==="/"||B.pathname?.startsWith(j),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${j}" but pathname "${B.pathname}" was given in the \`location\` prop.`),le=B}else le=V;let D=le.pathname||"/",w=D;if(j!=="/"){let B=j.replace(/^\//,"").split("/");w="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let S=Fh(i,{pathname:w});sn(C||S!=null,`No routes matched location "${le.pathname}${le.search}${le.hash}" `),sn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${le.pathname}${le.search}${le.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Zv(S&&S.map(B=>Object.assign({},B,{params:Object.assign({},b,B.params),pathname:Bn([j,m.encodeLocation?m.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?j:Bn([j,m.encodeLocation?m.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,o,u,d);return r&&U?x.createElement(Ni.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...le},navigationType:"POP"}},U):U}function Gv(){let i=e0(),r=Bv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,u="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:u},m={padding:"2px 4px",backgroundColor:u},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:m},"ErrorBoundary")," or"," ",x.createElement("code",{style:m},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},r),o?x.createElement("pre",{style:d},o):null,h)}var Xv=x.createElement(Gv,null),Fv=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){this.props.onError?this.props.onError(i,r):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?x.createElement(fn.Provider,{value:this.props.routeContext},x.createElement(Wo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jv({routeContext:i,match:r,children:o}){let u=x.useContext(Sl);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(fn.Provider,{value:i},o)}function Zv(i,r=[],o=null,u=null,d=null){if(i==null){if(!o)return null;if(o.errors)i=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)i=o.matches;else return null}let m=i,h=o?.errors;if(h!=null){let j=m.findIndex(C=>C.route.id&&h?.[C.route.id]!==void 0);tt(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),m=m.slice(0,Math.min(m.length,j+1))}let y=!1,b=-1;if(o)for(let j=0;j<m.length;j++){let C=m[j];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(b=j),C.route.id){let{loaderData:V,errors:le}=o,D=C.route.loader&&!V.hasOwnProperty(C.route.id)&&(!le||le[C.route.id]===void 0);if(C.route.lazy||D){y=!0,b>=0?m=m.slice(0,b+1):m=[m[0]];break}}}let p=o&&u?(j,C)=>{u(j,{location:o.location,params:o.matches?.[0]?.params??{},errorInfo:C})}:void 0;return m.reduceRight((j,C,V)=>{let le,D=!1,w=null,S=null;o&&(le=h&&C.route.id?h[C.route.id]:void 0,w=C.route.errorElement||Xv,y&&(b<0&&V===0?(tp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,S=null):b===V&&(D=!0,S=C.route.hydrateFallbackElement||null)));let U=r.concat(m.slice(0,V+1)),B=()=>{let k;return le?k=w:D?k=S:C.route.Component?k=x.createElement(C.route.Component,null):C.route.element?k=C.route.element:k=j,x.createElement(Jv,{match:C,routeContext:{outlet:j,matches:U,isDataRoute:o!=null},children:k})};return o&&(C.route.ErrorBoundary||C.route.errorElement||V===0)?x.createElement(Fv,{location:o.location,revalidation:o.revalidation,component:w,error:le,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):B()},null)}function Io(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(i){let r=x.useContext(Sl);return tt(r,Io(i)),r}function Wv(i){let r=x.useContext(lr);return tt(r,Io(i)),r}function Iv(i){let r=x.useContext(fn);return tt(r,Io(i)),r}function Po(i){let r=Iv(i),o=r.matches[r.matches.length-1];return tt(o.route.id,`${i} can only be used on routes that contain a unique "id"`),o.route.id}function Pv(){return Po("useRouteId")}function e0(){let i=x.useContext(Wo),r=Wv("useRouteError"),o=Po("useRouteError");return i!==void 0?i:r.errors?.[o]}function t0(){let{router:i}=Kv("useNavigate"),r=Po("useNavigate"),o=x.useRef(!1);return Ph(()=>{o.current=!0}),x.useCallback(async(d,m={})=>{sn(o.current,Ih),o.current&&(typeof d=="number"?i.navigate(d):await i.navigate(d,{fromRouteId:r,...m}))},[i,r])}var ph={};function tp(i,r,o){!r&&!ph[i]&&(ph[i]=!0,sn(!1,o))}x.memo(n0);function n0({routes:i,future:r,state:o,unstable_onError:u}){return ep(i,void 0,o,u,r)}function Oo({to:i,replace:r,state:o,relative:u}){tt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=x.useContext(dn);sn(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=x.useContext(fn),{pathname:h}=xn(),y=jt(),b=Ko(i,Zo(m),h,u==="path"),p=JSON.stringify(b);return x.useEffect(()=>{y(JSON.parse(p),{replace:r,state:o,relative:u})},[y,p,u,r,o]),null}function We(i){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a0({basename:i="/",children:r=null,location:o,navigationType:u="POP",navigator:d,static:m=!1}){tt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),y=x.useMemo(()=>({basename:h,navigator:d,static:m,future:{}}),[h,d,m]);typeof o=="string"&&(o=jl(o));let{pathname:b="/",search:p="",hash:j="",state:C=null,key:V="default"}=o,le=x.useMemo(()=>{let D=qn(b,h);return D==null?null:{location:{pathname:D,search:p,hash:j,state:C,key:V},navigationType:u}},[h,b,p,j,C,V,u]);return sn(le!=null,`<Router basename="${h}"> is not able to match the URL "${b}${p}${j}" because it does not start with the basename, so the <Router> won't render anything.`),le==null?null:x.createElement(dn.Provider,{value:y},x.createElement(Ni.Provider,{children:r,value:le}))}function l0({children:i,location:r}){return Vv(Qo(i),r)}function Qo(i,r=[]){let o=[];return x.Children.forEach(i,(u,d)=>{if(!x.isValidElement(u))return;let m=[...r,d];if(u.type===x.Fragment){o.push.apply(o,Qo(u.props.children,m));return}tt(u.type===We,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!u.props.index||!u.props.children,"An index route cannot have child routes.");let h={id:u.props.id||m.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(h.children=Qo(u.props.children,m)),o.push(h)}),o}var Js="get",Zs="application/x-www-form-urlencoded";function sr(i){return i!=null&&typeof i.tagName=="string"}function i0(i){return sr(i)&&i.tagName.toLowerCase()==="button"}function s0(i){return sr(i)&&i.tagName.toLowerCase()==="form"}function r0(i){return sr(i)&&i.tagName.toLowerCase()==="input"}function c0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function o0(i,r){return i.button===0&&(!r||r==="_self")&&!c0(i)}var Xs=null;function u0(){if(Xs===null)try{new FormData(document.createElement("form"),0),Xs=!1}catch{Xs=!0}return Xs}var d0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ro(i){return i!=null&&!d0.has(i)?(sn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zs}"`),null):i}function f0(i,r){let o,u,d,m,h;if(s0(i)){let y=i.getAttribute("action");u=y?qn(y,r):null,o=i.getAttribute("method")||Js,d=Ro(i.getAttribute("enctype"))||Zs,m=new FormData(i)}else if(i0(i)||r0(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=i.getAttribute("formaction")||y.getAttribute("action");if(u=b?qn(b,r):null,o=i.getAttribute("formmethod")||y.getAttribute("method")||Js,d=Ro(i.getAttribute("formenctype"))||Ro(y.getAttribute("enctype"))||Zs,m=new FormData(y,i),!u0()){let{name:p,type:j,value:C}=i;if(j==="image"){let V=p?`${p}.`:"";m.append(`${V}x`,"0"),m.append(`${V}y`,"0")}else p&&m.append(p,C)}}else{if(sr(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Js,u=null,d=Zs,h=i}return m&&d==="text/plain"&&(h=m,m=void 0),{action:u,method:o.toLowerCase(),encType:d,formData:m,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eu(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function m0(i,r,o){let u=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return u.pathname==="/"?u.pathname=`_root.${o}`:r&&qn(u.pathname,r)==="/"?u.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function h0(i,r){if(i.id in r)return r[i.id];try{let o=await import(i.module);return r[i.id]=o,o}catch(o){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function g0(i,r,o){let u=await Promise.all(i.map(async d=>{let m=r.routes[d.route.id];if(m){let h=await h0(m,o);return h.links?h.links():[]}return[]}));return b0(u.flat(1).filter(p0).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function gh(i,r,o,u,d,m){let h=(b,p)=>o[p]?b.route.id!==o[p].route.id:!0,y=(b,p)=>o[p].pathname!==b.pathname||o[p].route.path?.endsWith("*")&&o[p].params["*"]!==b.params["*"];return m==="assets"?r.filter((b,p)=>h(b,p)||y(b,p)):m==="data"?r.filter((b,p)=>{let j=u.routes[b.route.id];if(!j||!j.hasLoader)return!1;if(h(b,p)||y(b,p))return!0;if(b.route.shouldRevalidate){let C=b.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function y0(i,r,{includeHydrateFallback:o}={}){return v0(i.map(u=>{let d=r.routes[u.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),o&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function v0(i){return[...new Set(i)]}function x0(i){let r={},o=Object.keys(i).sort();for(let u of o)r[u]=i[u];return r}function b0(i,r){let o=new Set;return new Set(r),i.reduce((u,d)=>{let m=JSON.stringify(x0(d));return o.has(m)||(o.add(m),u.push({key:m,link:d})),u},[])}function np(){let i=x.useContext(Sl);return eu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function j0(){let i=x.useContext(lr);return eu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var tu=x.createContext(void 0);tu.displayName="FrameworkContext";function ap(){let i=x.useContext(tu);return eu(i,"You must render this element inside a <HydratedRouter> element"),i}function S0(i,r){let o=x.useContext(tu),[u,d]=x.useState(!1),[m,h]=x.useState(!1),{onFocus:y,onBlur:b,onMouseEnter:p,onMouseLeave:j,onTouchStart:C}=r,V=x.useRef(null);x.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let w=U=>{U.forEach(B=>{h(B.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return V.current&&S.observe(V.current),()=>{S.disconnect()}}},[i]),x.useEffect(()=>{if(u){let w=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(w)}}},[u]);let le=()=>{d(!0)},D=()=>{d(!1),h(!1)};return o?i!=="intent"?[m,V,{}]:[m,V,{onFocus:xi(y,le),onBlur:xi(b,D),onMouseEnter:xi(p,le),onMouseLeave:xi(j,D),onTouchStart:xi(C,le)}]:[!1,V,{}]}function xi(i,r){return o=>{i&&i(o),o.defaultPrevented||r(o)}}function w0({page:i,...r}){let{router:o}=np(),u=x.useMemo(()=>Fh(o.routes,i,o.basename),[o.routes,i,o.basename]);return u?x.createElement(A0,{page:i,matches:u,...r}):null}function N0(i){let{manifest:r,routeModules:o}=ap(),[u,d]=x.useState([]);return x.useEffect(()=>{let m=!1;return g0(i,r,o).then(h=>{m||d(h)}),()=>{m=!0}},[i,r,o]),u}function A0({page:i,matches:r,...o}){let u=xn(),{manifest:d,routeModules:m}=ap(),{basename:h}=np(),{loaderData:y,matches:b}=j0(),p=x.useMemo(()=>gh(i,r,b,d,u,"data"),[i,r,b,d,u]),j=x.useMemo(()=>gh(i,r,b,d,u,"assets"),[i,r,b,d,u]),C=x.useMemo(()=>{if(i===u.pathname+u.search+u.hash)return[];let D=new Set,w=!1;if(r.forEach(U=>{let B=d.routes[U.route.id];!B||!B.hasLoader||(!p.some(k=>k.route.id===U.route.id)&&U.route.id in y&&m[U.route.id]?.shouldRevalidate||B.hasClientLoader?w=!0:D.add(U.route.id))}),D.size===0)return[];let S=m0(i,h,"data");return w&&D.size>0&&S.searchParams.set("_routes",r.filter(U=>D.has(U.route.id)).map(U=>U.route.id).join(",")),[S.pathname+S.search]},[h,y,u,d,p,r,i,m]),V=x.useMemo(()=>y0(j,d),[j,d]),le=N0(j);return x.createElement(x.Fragment,null,C.map(D=>x.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...o})),V.map(D=>x.createElement("link",{key:D,rel:"modulepreload",href:D,...o})),le.map(({key:D,link:w})=>x.createElement("link",{key:D,nonce:o.nonce,...w})))}function E0(...i){return r=>{i.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lp&&(window.__reactRouterVersion="7.9.6")}catch{}function z0({basename:i,children:r,window:o}){let u=x.useRef();u.current==null&&(u.current=hv({window:o,v5Compat:!0}));let d=u.current,[m,h]=x.useState({action:d.action,location:d.location}),y=x.useCallback(b=>{x.startTransition(()=>h(b))},[h]);return x.useLayoutEffect(()=>d.listen(y),[d,y]),x.createElement(a0,{basename:i,children:r,location:m.location,navigationType:m.action,navigator:d})}var ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sp=x.forwardRef(function({onClick:r,discover:o="render",prefetch:u="none",relative:d,reloadDocument:m,replace:h,state:y,target:b,to:p,preventScrollReset:j,viewTransition:C,...V},le){let{basename:D}=x.useContext(dn),w=typeof p=="string"&&ip.test(p),S,U=!1;if(typeof p=="string"&&w&&(S=p,lp))try{let H=new URL(window.location.href),ee=p.startsWith("//")?new URL(H.protocol+p):new URL(p),R=qn(ee.pathname,D);ee.origin===H.origin&&R!=null?p=R+ee.search+ee.hash:U=!0}catch{sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Yv(p,{relative:d}),[k,K,A]=S0(u,V),O=D0(p,{replace:h,state:y,target:b,preventScrollReset:j,relative:d,viewTransition:C});function g(H){r&&r(H),H.defaultPrevented||O(H)}let N=x.createElement("a",{...V,...A,href:S||B,onClick:U||m?r:g,ref:E0(le,K),target:b,"data-discover":!w&&o==="render"?"true":void 0});return k&&!w?x.createElement(x.Fragment,null,N,x.createElement(w0,{page:B})):N});sp.displayName="Link";var Si=x.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:u="",end:d=!1,style:m,to:h,viewTransition:y,children:b,...p},j){let C=Ai(h,{relative:p.relative}),V=xn(),le=x.useContext(lr),{navigator:D,basename:w}=x.useContext(dn),S=le!=null&&k0(C)&&y===!0,U=D.encodeLocation?D.encodeLocation(C).pathname:C.pathname,B=V.pathname,k=le&&le.navigation&&le.navigation.location?le.navigation.location.pathname:null;o||(B=B.toLowerCase(),k=k?k.toLowerCase():null,U=U.toLowerCase()),k&&w&&(k=qn(k,w)||k);const K=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let A=B===U||!d&&B.startsWith(U)&&B.charAt(K)==="/",O=k!=null&&(k===U||!d&&k.startsWith(U)&&k.charAt(U.length)==="/"),g={isActive:A,isPending:O,isTransitioning:S},N=A?r:void 0,H;typeof u=="function"?H=u(g):H=[u,A?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let ee=typeof m=="function"?m(g):m;return x.createElement(sp,{...p,"aria-current":N,className:H,ref:j,style:ee,to:h,viewTransition:y},typeof b=="function"?b(g):b)});Si.displayName="NavLink";var C0=x.forwardRef(({discover:i="render",fetcherKey:r,navigate:o,reloadDocument:u,replace:d,state:m,method:h=Js,action:y,onSubmit:b,relative:p,preventScrollReset:j,viewTransition:C,...V},le)=>{let D=M0(),w=_0(y,{relative:p}),S=h.toLowerCase()==="get"?"get":"post",U=typeof y=="string"&&ip.test(y),B=k=>{if(b&&b(k),k.defaultPrevented)return;k.preventDefault();let K=k.nativeEvent.submitter,A=K?.getAttribute("formmethod")||h;D(K||k.currentTarget,{fetcherKey:r,method:A,navigate:o,replace:d,state:m,relative:p,preventScrollReset:j,viewTransition:C})};return x.createElement("form",{ref:le,method:S,action:w,onSubmit:u?b:B,...V,"data-discover":!U&&i==="render"?"true":void 0})});C0.displayName="Form";function T0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rp(i){let r=x.useContext(Sl);return tt(r,T0(i)),r}function D0(i,{target:r,replace:o,state:u,preventScrollReset:d,relative:m,viewTransition:h}={}){let y=jt(),b=xn(),p=Ai(i,{relative:m});return x.useCallback(j=>{if(o0(j,r)){j.preventDefault();let C=o!==void 0?o:wi(b)===wi(p);y(i,{replace:C,state:u,preventScrollReset:d,relative:m,viewTransition:h})}},[b,y,p,o,u,r,i,d,m,h])}var O0=0,R0=()=>`__${String(++O0)}__`;function M0(){let{router:i}=rp("useSubmit"),{basename:r}=x.useContext(dn),o=Pv();return x.useCallback(async(u,d={})=>{let{action:m,method:h,encType:y,formData:b,body:p}=f0(u,r);if(d.navigate===!1){let j=d.fetcherKey||R0();await i.fetch(j,o,d.action||m,{preventScrollReset:d.preventScrollReset,formData:b,body:p,formMethod:d.method||h,formEncType:d.encType||y,flushSync:d.flushSync})}else await i.navigate(d.action||m,{preventScrollReset:d.preventScrollReset,formData:b,body:p,formMethod:d.method||h,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[i,r,o])}function _0(i,{relative:r}={}){let{basename:o}=x.useContext(dn),u=x.useContext(fn);tt(u,"useFormAction must be used inside a RouteContext");let[d]=u.matches.slice(-1),m={...Ai(i||".",{relative:r})},h=xn();if(i==null){m.search=h.search;let y=new URLSearchParams(m.search),b=y.getAll("index");if(b.some(j=>j==="")){y.delete("index"),b.filter(C=>C).forEach(C=>y.append("index",C));let j=y.toString();m.search=j?`?${j}`:""}}return(!i||i===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(m.pathname=m.pathname==="/"?o:Bn([o,m.pathname])),wi(m)}function k0(i,{relative:r}={}){let o=x.useContext(Wh);tt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=rp("useViewTransitionState"),d=Ai(i,{relative:r});if(!o.isTransitioning)return!1;let m=qn(o.currentLocation.pathname,u)||o.currentLocation.pathname,h=qn(o.nextLocation.pathname,u)||o.nextLocation.pathname;return Ps(d.pathname,h)!=null||Ps(d.pathname,m)!=null}function cp(i,r){return function(){return i.apply(r,arguments)}}const{toString:L0}=Object.prototype,{getPrototypeOf:nu}=Object,{iterator:rr,toStringTag:op}=Symbol,cr=(i=>r=>{const o=L0.call(r);return i[o]||(i[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),mn=i=>(i=i.toLowerCase(),r=>cr(r)===i),or=i=>r=>typeof r===i,{isArray:Nl}=Array,bl=or("undefined");function Ei(i){return i!==null&&!bl(i)&&i.constructor!==null&&!bl(i.constructor)&&Lt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const up=mn("ArrayBuffer");function U0(i){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(i):r=i&&i.buffer&&up(i.buffer),r}const B0=or("string"),Lt=or("function"),dp=or("number"),zi=i=>i!==null&&typeof i=="object",q0=i=>i===!0||i===!1,Ks=i=>{if(cr(i)!=="object")return!1;const r=nu(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(op in i)&&!(rr in i)},H0=i=>{if(!zi(i)||Ei(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},Q0=mn("Date"),Y0=mn("File"),$0=mn("Blob"),V0=mn("FileList"),G0=i=>zi(i)&&Lt(i.pipe),X0=i=>{let r;return i&&(typeof FormData=="function"&&i instanceof FormData||Lt(i.append)&&((r=cr(i))==="formdata"||r==="object"&&Lt(i.toString)&&i.toString()==="[object FormData]"))},F0=mn("URLSearchParams"),[J0,Z0,K0,W0]=["ReadableStream","Request","Response","Headers"].map(mn),I0=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ci(i,r,{allOwnKeys:o=!1}={}){if(i===null||typeof i>"u")return;let u,d;if(typeof i!="object"&&(i=[i]),Nl(i))for(u=0,d=i.length;u<d;u++)r.call(null,i[u],u,i);else{if(Ei(i))return;const m=o?Object.getOwnPropertyNames(i):Object.keys(i),h=m.length;let y;for(u=0;u<h;u++)y=m[u],r.call(null,i[y],y,i)}}function fp(i,r){if(Ei(i))return null;r=r.toLowerCase();const o=Object.keys(i);let u=o.length,d;for(;u-- >0;)if(d=o[u],r===d.toLowerCase())return d;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mp=i=>!bl(i)&&i!==Oa;function Yo(){const{caseless:i,skipUndefined:r}=mp(this)&&this||{},o={},u=(d,m)=>{const h=i&&fp(o,m)||m;Ks(o[h])&&Ks(d)?o[h]=Yo(o[h],d):Ks(d)?o[h]=Yo({},d):Nl(d)?o[h]=d.slice():(!r||!bl(d))&&(o[h]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&Ci(arguments[d],u);return o}const P0=(i,r,o,{allOwnKeys:u}={})=>(Ci(r,(d,m)=>{o&&Lt(d)?i[m]=cp(d,o):i[m]=d},{allOwnKeys:u}),i),ex=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),tx=(i,r,o,u)=>{i.prototype=Object.create(r.prototype,u),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:r.prototype}),o&&Object.assign(i.prototype,o)},nx=(i,r,o,u)=>{let d,m,h;const y={};if(r=r||{},i==null)return r;do{for(d=Object.getOwnPropertyNames(i),m=d.length;m-- >0;)h=d[m],(!u||u(h,i,r))&&!y[h]&&(r[h]=i[h],y[h]=!0);i=o!==!1&&nu(i)}while(i&&(!o||o(i,r))&&i!==Object.prototype);return r},ax=(i,r,o)=>{i=String(i),(o===void 0||o>i.length)&&(o=i.length),o-=r.length;const u=i.indexOf(r,o);return u!==-1&&u===o},lx=i=>{if(!i)return null;if(Nl(i))return i;let r=i.length;if(!dp(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=i[r];return o},ix=(i=>r=>i&&r instanceof i)(typeof Uint8Array<"u"&&nu(Uint8Array)),sx=(i,r)=>{const u=(i&&i[rr]).call(i);let d;for(;(d=u.next())&&!d.done;){const m=d.value;r.call(i,m[0],m[1])}},rx=(i,r)=>{let o;const u=[];for(;(o=i.exec(r))!==null;)u.push(o);return u},cx=mn("HTMLFormElement"),ox=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,u,d){return u.toUpperCase()+d}),yh=(({hasOwnProperty:i})=>(r,o)=>i.call(r,o))(Object.prototype),ux=mn("RegExp"),hp=(i,r)=>{const o=Object.getOwnPropertyDescriptors(i),u={};Ci(o,(d,m)=>{let h;(h=r(d,m,i))!==!1&&(u[m]=h||d)}),Object.defineProperties(i,u)},dx=i=>{hp(i,(r,o)=>{if(Lt(i)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const u=i[o];if(Lt(u)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},fx=(i,r)=>{const o={},u=d=>{d.forEach(m=>{o[m]=!0})};return Nl(i)?u(i):u(String(i).split(r)),o},mx=()=>{},hx=(i,r)=>i!=null&&Number.isFinite(i=+i)?i:r;function px(i){return!!(i&&Lt(i.append)&&i[op]==="FormData"&&i[rr])}const gx=i=>{const r=new Array(10),o=(u,d)=>{if(zi(u)){if(r.indexOf(u)>=0)return;if(Ei(u))return u;if(!("toJSON"in u)){r[d]=u;const m=Nl(u)?[]:{};return Ci(u,(h,y)=>{const b=o(h,d+1);!bl(b)&&(m[y]=b)}),r[d]=void 0,m}}return u};return o(i,0)},yx=mn("AsyncFunction"),vx=i=>i&&(zi(i)||Lt(i))&&Lt(i.then)&&Lt(i.catch),pp=((i,r)=>i?setImmediate:r?((o,u)=>(Oa.addEventListener("message",({source:d,data:m})=>{d===Oa&&m===o&&u.length&&u.shift()()},!1),d=>{u.push(d),Oa.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Lt(Oa.postMessage)),xx=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||pp,bx=i=>i!=null&&Lt(i[rr]),te={isArray:Nl,isArrayBuffer:up,isBuffer:Ei,isFormData:X0,isArrayBufferView:U0,isString:B0,isNumber:dp,isBoolean:q0,isObject:zi,isPlainObject:Ks,isEmptyObject:H0,isReadableStream:J0,isRequest:Z0,isResponse:K0,isHeaders:W0,isUndefined:bl,isDate:Q0,isFile:Y0,isBlob:$0,isRegExp:ux,isFunction:Lt,isStream:G0,isURLSearchParams:F0,isTypedArray:ix,isFileList:V0,forEach:Ci,merge:Yo,extend:P0,trim:I0,stripBOM:ex,inherits:tx,toFlatObject:nx,kindOf:cr,kindOfTest:mn,endsWith:ax,toArray:lx,forEachEntry:sx,matchAll:rx,isHTMLForm:cx,hasOwnProperty:yh,hasOwnProp:yh,reduceDescriptors:hp,freezeMethods:dx,toObjectSet:fx,toCamelCase:ox,noop:mx,toFiniteNumber:hx,findKey:fp,global:Oa,isContextDefined:mp,isSpecCompliantForm:px,toJSONObject:gx,isAsyncFn:yx,isThenable:vx,setImmediate:pp,asap:xx,isIterable:bx};function De(i,r,o,u,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",r&&(this.code=r),o&&(this.config=o),u&&(this.request=u),d&&(this.response=d,this.status=d.status?d.status:null)}te.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const gp=De.prototype,yp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{yp[i]={value:i}});Object.defineProperties(De,yp);Object.defineProperty(gp,"isAxiosError",{value:!0});De.from=(i,r,o,u,d,m)=>{const h=Object.create(gp);te.toFlatObject(i,h,function(j){return j!==Error.prototype},p=>p!=="isAxiosError");const y=i&&i.message?i.message:"Error",b=r==null&&i?i.code:r;return De.call(h,y,b,o,u,d),i&&h.cause==null&&Object.defineProperty(h,"cause",{value:i,configurable:!0}),h.name=i&&i.name||"Error",m&&Object.assign(h,m),h};const jx=null;function $o(i){return te.isPlainObject(i)||te.isArray(i)}function vp(i){return te.endsWith(i,"[]")?i.slice(0,-2):i}function vh(i,r,o){return i?i.concat(r).map(function(d,m){return d=vp(d),!o&&m?"["+d+"]":d}).join(o?".":""):r}function Sx(i){return te.isArray(i)&&!i.some($o)}const wx=te.toFlatObject(te,{},null,function(r){return/^is[A-Z]/.test(r)});function ur(i,r,o){if(!te.isObject(i))throw new TypeError("target must be an object");r=r||new FormData,o=te.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!te.isUndefined(S[w])});const u=o.metaTokens,d=o.visitor||j,m=o.dots,h=o.indexes,b=(o.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(r);if(!te.isFunction(d))throw new TypeError("visitor must be a function");function p(D){if(D===null)return"";if(te.isDate(D))return D.toISOString();if(te.isBoolean(D))return D.toString();if(!b&&te.isBlob(D))throw new De("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(D)||te.isTypedArray(D)?b&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function j(D,w,S){let U=D;if(D&&!S&&typeof D=="object"){if(te.endsWith(w,"{}"))w=u?w:w.slice(0,-2),D=JSON.stringify(D);else if(te.isArray(D)&&Sx(D)||(te.isFileList(D)||te.endsWith(w,"[]"))&&(U=te.toArray(D)))return w=vp(w),U.forEach(function(k,K){!(te.isUndefined(k)||k===null)&&r.append(h===!0?vh([w],K,m):h===null?w:w+"[]",p(k))}),!1}return $o(D)?!0:(r.append(vh(S,w,m),p(D)),!1)}const C=[],V=Object.assign(wx,{defaultVisitor:j,convertValue:p,isVisitable:$o});function le(D,w){if(!te.isUndefined(D)){if(C.indexOf(D)!==-1)throw Error("Circular reference detected in "+w.join("."));C.push(D),te.forEach(D,function(U,B){(!(te.isUndefined(U)||U===null)&&d.call(r,U,te.isString(B)?B.trim():B,w,V))===!0&&le(U,w?w.concat(B):[B])}),C.pop()}}if(!te.isObject(i))throw new TypeError("data must be an object");return le(i),r}function xh(i){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(u){return r[u]})}function au(i,r){this._pairs=[],i&&ur(i,this,r)}const xp=au.prototype;xp.append=function(r,o){this._pairs.push([r,o])};xp.toString=function(r){const o=r?function(u){return r.call(this,u,xh)}:xh;return this._pairs.map(function(d){return o(d[0])+"="+o(d[1])},"").join("&")};function Nx(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bp(i,r,o){if(!r)return i;const u=o&&o.encode||Nx;te.isFunction(o)&&(o={serialize:o});const d=o&&o.serialize;let m;if(d?m=d(r,o):m=te.isURLSearchParams(r)?r.toString():new au(r,o).toString(u),m){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+m}return i}class bh{constructor(){this.handlers=[]}use(r,o,u){return this.handlers.push({fulfilled:r,rejected:o,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){te.forEach(this.handlers,function(u){u!==null&&r(u)})}}const jp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ax=typeof URLSearchParams<"u"?URLSearchParams:au,Ex=typeof FormData<"u"?FormData:null,zx=typeof Blob<"u"?Blob:null,Cx={isBrowser:!0,classes:{URLSearchParams:Ax,FormData:Ex,Blob:zx},protocols:["http","https","file","blob","url","data"]},lu=typeof window<"u"&&typeof document<"u",Vo=typeof navigator=="object"&&navigator||void 0,Tx=lu&&(!Vo||["ReactNative","NativeScript","NS"].indexOf(Vo.product)<0),Dx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ox=lu&&window.location.href||"http://localhost",Rx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lu,hasStandardBrowserEnv:Tx,hasStandardBrowserWebWorkerEnv:Dx,navigator:Vo,origin:Ox},Symbol.toStringTag,{value:"Module"})),Nt={...Rx,...Cx};function Mx(i,r){return ur(i,new Nt.classes.URLSearchParams,{visitor:function(o,u,d,m){return Nt.isNode&&te.isBuffer(o)?(this.append(u,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...r})}function _x(i){return te.matchAll(/\w+|\[(\w*)]/g,i).map(r=>r[0]==="[]"?"":r[1]||r[0])}function kx(i){const r={},o=Object.keys(i);let u;const d=o.length;let m;for(u=0;u<d;u++)m=o[u],r[m]=i[m];return r}function Sp(i){function r(o,u,d,m){let h=o[m++];if(h==="__proto__")return!0;const y=Number.isFinite(+h),b=m>=o.length;return h=!h&&te.isArray(d)?d.length:h,b?(te.hasOwnProp(d,h)?d[h]=[d[h],u]:d[h]=u,!y):((!d[h]||!te.isObject(d[h]))&&(d[h]=[]),r(o,u,d[h],m)&&te.isArray(d[h])&&(d[h]=kx(d[h])),!y)}if(te.isFormData(i)&&te.isFunction(i.entries)){const o={};return te.forEachEntry(i,(u,d)=>{r(_x(u),d,o,0)}),o}return null}function Lx(i,r,o){if(te.isString(i))try{return(r||JSON.parse)(i),te.trim(i)}catch(u){if(u.name!=="SyntaxError")throw u}return(o||JSON.stringify)(i)}const Ti={transitional:jp,adapter:["xhr","http","fetch"],transformRequest:[function(r,o){const u=o.getContentType()||"",d=u.indexOf("application/json")>-1,m=te.isObject(r);if(m&&te.isHTMLForm(r)&&(r=new FormData(r)),te.isFormData(r))return d?JSON.stringify(Sp(r)):r;if(te.isArrayBuffer(r)||te.isBuffer(r)||te.isStream(r)||te.isFile(r)||te.isBlob(r)||te.isReadableStream(r))return r;if(te.isArrayBufferView(r))return r.buffer;if(te.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let y;if(m){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Mx(r,this.formSerializer).toString();if((y=te.isFileList(r))||u.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return ur(y?{"files[]":r}:r,b&&new b,this.formSerializer)}}return m||d?(o.setContentType("application/json",!1),Lx(r)):r}],transformResponse:[function(r){const o=this.transitional||Ti.transitional,u=o&&o.forcedJSONParsing,d=this.responseType==="json";if(te.isResponse(r)||te.isReadableStream(r))return r;if(r&&te.isString(r)&&(u&&!this.responseType||d)){const h=!(o&&o.silentJSONParsing)&&d;try{return JSON.parse(r,this.parseReviver)}catch(y){if(h)throw y.name==="SyntaxError"?De.from(y,De.ERR_BAD_RESPONSE,this,null,this.response):y}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],i=>{Ti.headers[i]={}});const Ux=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bx=i=>{const r={};let o,u,d;return i&&i.split(`
`).forEach(function(h){d=h.indexOf(":"),o=h.substring(0,d).trim().toLowerCase(),u=h.substring(d+1).trim(),!(!o||r[o]&&Ux[o])&&(o==="set-cookie"?r[o]?r[o].push(u):r[o]=[u]:r[o]=r[o]?r[o]+", "+u:u)}),r},jh=Symbol("internals");function bi(i){return i&&String(i).trim().toLowerCase()}function Ws(i){return i===!1||i==null?i:te.isArray(i)?i.map(Ws):String(i)}function qx(i){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=o.exec(i);)r[u[1]]=u[2];return r}const Hx=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Mo(i,r,o,u,d){if(te.isFunction(u))return u.call(this,r,o);if(d&&(r=o),!!te.isString(r)){if(te.isString(u))return r.indexOf(u)!==-1;if(te.isRegExp(u))return u.test(r)}}function Qx(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,u)=>o.toUpperCase()+u)}function Yx(i,r){const o=te.toCamelCase(" "+r);["get","set","has"].forEach(u=>{Object.defineProperty(i,u+o,{value:function(d,m,h){return this[u].call(this,r,d,m,h)},configurable:!0})})}let Ut=class{constructor(r){r&&this.set(r)}set(r,o,u){const d=this;function m(y,b,p){const j=bi(b);if(!j)throw new Error("header name must be a non-empty string");const C=te.findKey(d,j);(!C||d[C]===void 0||p===!0||p===void 0&&d[C]!==!1)&&(d[C||b]=Ws(y))}const h=(y,b)=>te.forEach(y,(p,j)=>m(p,j,b));if(te.isPlainObject(r)||r instanceof this.constructor)h(r,o);else if(te.isString(r)&&(r=r.trim())&&!Hx(r))h(Bx(r),o);else if(te.isObject(r)&&te.isIterable(r)){let y={},b,p;for(const j of r){if(!te.isArray(j))throw TypeError("Object iterator must return a key-value pair");y[p=j[0]]=(b=y[p])?te.isArray(b)?[...b,j[1]]:[b,j[1]]:j[1]}h(y,o)}else r!=null&&m(o,r,u);return this}get(r,o){if(r=bi(r),r){const u=te.findKey(this,r);if(u){const d=this[u];if(!o)return d;if(o===!0)return qx(d);if(te.isFunction(o))return o.call(this,d,u);if(te.isRegExp(o))return o.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=bi(r),r){const u=te.findKey(this,r);return!!(u&&this[u]!==void 0&&(!o||Mo(this,this[u],u,o)))}return!1}delete(r,o){const u=this;let d=!1;function m(h){if(h=bi(h),h){const y=te.findKey(u,h);y&&(!o||Mo(u,u[y],y,o))&&(delete u[y],d=!0)}}return te.isArray(r)?r.forEach(m):m(r),d}clear(r){const o=Object.keys(this);let u=o.length,d=!1;for(;u--;){const m=o[u];(!r||Mo(this,this[m],m,r,!0))&&(delete this[m],d=!0)}return d}normalize(r){const o=this,u={};return te.forEach(this,(d,m)=>{const h=te.findKey(u,m);if(h){o[h]=Ws(d),delete o[m];return}const y=r?Qx(m):String(m).trim();y!==m&&delete o[m],o[y]=Ws(d),u[y]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return te.forEach(this,(u,d)=>{u!=null&&u!==!1&&(o[d]=r&&te.isArray(u)?u.join(", "):u)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const u=new this(r);return o.forEach(d=>u.set(d)),u}static accessor(r){const u=(this[jh]=this[jh]={accessors:{}}).accessors,d=this.prototype;function m(h){const y=bi(h);u[y]||(Yx(d,h),u[y]=!0)}return te.isArray(r)?r.forEach(m):m(r),this}};Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Ut.prototype,({value:i},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>i,set(u){this[o]=u}}});te.freezeMethods(Ut);function _o(i,r){const o=this||Ti,u=r||o,d=Ut.from(u.headers);let m=u.data;return te.forEach(i,function(y){m=y.call(o,m,d.normalize(),r?r.status:void 0)}),d.normalize(),m}function wp(i){return!!(i&&i.__CANCEL__)}function Al(i,r,o){De.call(this,i??"canceled",De.ERR_CANCELED,r,o),this.name="CanceledError"}te.inherits(Al,De,{__CANCEL__:!0});function Np(i,r,o){const u=o.config.validateStatus;!o.status||!u||u(o.status)?i(o):r(new De("Request failed with status code "+o.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function $x(i){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return r&&r[1]||""}function Vx(i,r){i=i||10;const o=new Array(i),u=new Array(i);let d=0,m=0,h;return r=r!==void 0?r:1e3,function(b){const p=Date.now(),j=u[m];h||(h=p),o[d]=b,u[d]=p;let C=m,V=0;for(;C!==d;)V+=o[C++],C=C%i;if(d=(d+1)%i,d===m&&(m=(m+1)%i),p-h<r)return;const le=j&&p-j;return le?Math.round(V*1e3/le):void 0}}function Gx(i,r){let o=0,u=1e3/r,d,m;const h=(p,j=Date.now())=>{o=j,d=null,m&&(clearTimeout(m),m=null),i(...p)};return[(...p)=>{const j=Date.now(),C=j-o;C>=u?h(p,j):(d=p,m||(m=setTimeout(()=>{m=null,h(d)},u-C)))},()=>d&&h(d)]}const er=(i,r,o=3)=>{let u=0;const d=Vx(50,250);return Gx(m=>{const h=m.loaded,y=m.lengthComputable?m.total:void 0,b=h-u,p=d(b),j=h<=y;u=h;const C={loaded:h,total:y,progress:y?h/y:void 0,bytes:b,rate:p||void 0,estimated:p&&y&&j?(y-h)/p:void 0,event:m,lengthComputable:y!=null,[r?"download":"upload"]:!0};i(C)},o)},Sh=(i,r)=>{const o=i!=null;return[u=>r[0]({lengthComputable:o,total:i,loaded:u}),r[1]]},wh=i=>(...r)=>te.asap(()=>i(...r)),Xx=Nt.hasStandardBrowserEnv?((i,r)=>o=>(o=new URL(o,Nt.origin),i.protocol===o.protocol&&i.host===o.host&&(r||i.port===o.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,Fx=Nt.hasStandardBrowserEnv?{write(i,r,o,u,d,m,h){if(typeof document>"u")return;const y=[`${i}=${encodeURIComponent(r)}`];te.isNumber(o)&&y.push(`expires=${new Date(o).toUTCString()}`),te.isString(u)&&y.push(`path=${u}`),te.isString(d)&&y.push(`domain=${d}`),m===!0&&y.push("secure"),te.isString(h)&&y.push(`SameSite=${h}`),document.cookie=y.join("; ")},read(i){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+i+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(i){this.write(i,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jx(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Zx(i,r){return r?i.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):i}function Ap(i,r,o){let u=!Jx(r);return i&&(u||o==!1)?Zx(i,r):r}const Nh=i=>i instanceof Ut?{...i}:i;function Ma(i,r){r=r||{};const o={};function u(p,j,C,V){return te.isPlainObject(p)&&te.isPlainObject(j)?te.merge.call({caseless:V},p,j):te.isPlainObject(j)?te.merge({},j):te.isArray(j)?j.slice():j}function d(p,j,C,V){if(te.isUndefined(j)){if(!te.isUndefined(p))return u(void 0,p,C,V)}else return u(p,j,C,V)}function m(p,j){if(!te.isUndefined(j))return u(void 0,j)}function h(p,j){if(te.isUndefined(j)){if(!te.isUndefined(p))return u(void 0,p)}else return u(void 0,j)}function y(p,j,C){if(C in r)return u(p,j);if(C in i)return u(void 0,p)}const b={url:m,method:m,data:m,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:y,headers:(p,j,C)=>d(Nh(p),Nh(j),C,!0)};return te.forEach(Object.keys({...i,...r}),function(j){const C=b[j]||d,V=C(i[j],r[j],j);te.isUndefined(V)&&C!==y||(o[j]=V)}),o}const Ep=i=>{const r=Ma({},i);let{data:o,withXSRFToken:u,xsrfHeaderName:d,xsrfCookieName:m,headers:h,auth:y}=r;if(r.headers=h=Ut.from(h),r.url=bp(Ap(r.baseURL,r.url,r.allowAbsoluteUrls),i.params,i.paramsSerializer),y&&h.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),te.isFormData(o)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(te.isFunction(o.getHeaders)){const b=o.getHeaders(),p=["content-type","content-length"];Object.entries(b).forEach(([j,C])=>{p.includes(j.toLowerCase())&&h.set(j,C)})}}if(Nt.hasStandardBrowserEnv&&(u&&te.isFunction(u)&&(u=u(r)),u||u!==!1&&Xx(r.url))){const b=d&&m&&Fx.read(m);b&&h.set(d,b)}return r},Kx=typeof XMLHttpRequest<"u",Wx=Kx&&function(i){return new Promise(function(o,u){const d=Ep(i);let m=d.data;const h=Ut.from(d.headers).normalize();let{responseType:y,onUploadProgress:b,onDownloadProgress:p}=d,j,C,V,le,D;function w(){le&&le(),D&&D(),d.cancelToken&&d.cancelToken.unsubscribe(j),d.signal&&d.signal.removeEventListener("abort",j)}let S=new XMLHttpRequest;S.open(d.method.toUpperCase(),d.url,!0),S.timeout=d.timeout;function U(){if(!S)return;const k=Ut.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),A={data:!y||y==="text"||y==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:k,config:i,request:S};Np(function(g){o(g),w()},function(g){u(g),w()},A),S=null}"onloadend"in S?S.onloadend=U:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(U)},S.onabort=function(){S&&(u(new De("Request aborted",De.ECONNABORTED,i,S)),S=null)},S.onerror=function(K){const A=K&&K.message?K.message:"Network Error",O=new De(A,De.ERR_NETWORK,i,S);O.event=K||null,u(O),S=null},S.ontimeout=function(){let K=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const A=d.transitional||jp;d.timeoutErrorMessage&&(K=d.timeoutErrorMessage),u(new De(K,A.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,i,S)),S=null},m===void 0&&h.setContentType(null),"setRequestHeader"in S&&te.forEach(h.toJSON(),function(K,A){S.setRequestHeader(A,K)}),te.isUndefined(d.withCredentials)||(S.withCredentials=!!d.withCredentials),y&&y!=="json"&&(S.responseType=d.responseType),p&&([V,D]=er(p,!0),S.addEventListener("progress",V)),b&&S.upload&&([C,le]=er(b),S.upload.addEventListener("progress",C),S.upload.addEventListener("loadend",le)),(d.cancelToken||d.signal)&&(j=k=>{S&&(u(!k||k.type?new Al(null,i,S):k),S.abort(),S=null)},d.cancelToken&&d.cancelToken.subscribe(j),d.signal&&(d.signal.aborted?j():d.signal.addEventListener("abort",j)));const B=$x(d.url);if(B&&Nt.protocols.indexOf(B)===-1){u(new De("Unsupported protocol "+B+":",De.ERR_BAD_REQUEST,i));return}S.send(m||null)})},Ix=(i,r)=>{const{length:o}=i=i?i.filter(Boolean):[];if(r||o){let u=new AbortController,d;const m=function(p){if(!d){d=!0,y();const j=p instanceof Error?p:this.reason;u.abort(j instanceof De?j:new Al(j instanceof Error?j.message:j))}};let h=r&&setTimeout(()=>{h=null,m(new De(`timeout ${r} of ms exceeded`,De.ETIMEDOUT))},r);const y=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(m):p.removeEventListener("abort",m)}),i=null)};i.forEach(p=>p.addEventListener("abort",m));const{signal:b}=u;return b.unsubscribe=()=>te.asap(y),b}},Px=function*(i,r){let o=i.byteLength;if(o<r){yield i;return}let u=0,d;for(;u<o;)d=u+r,yield i.slice(u,d),u=d},eb=async function*(i,r){for await(const o of tb(i))yield*Px(o,r)},tb=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const r=i.getReader();try{for(;;){const{done:o,value:u}=await r.read();if(o)break;yield u}}finally{await r.cancel()}},Ah=(i,r,o,u)=>{const d=eb(i,r);let m=0,h,y=b=>{h||(h=!0,u&&u(b))};return new ReadableStream({async pull(b){try{const{done:p,value:j}=await d.next();if(p){y(),b.close();return}let C=j.byteLength;if(o){let V=m+=C;o(V)}b.enqueue(new Uint8Array(j))}catch(p){throw y(p),p}},cancel(b){return y(b),d.return()}},{highWaterMark:2})},Eh=64*1024,{isFunction:Fs}=te,nb=(({Request:i,Response:r})=>({Request:i,Response:r}))(te.global),{ReadableStream:zh,TextEncoder:Ch}=te.global,Th=(i,...r)=>{try{return!!i(...r)}catch{return!1}},ab=i=>{i=te.merge.call({skipUndefined:!0},nb,i);const{fetch:r,Request:o,Response:u}=i,d=r?Fs(r):typeof fetch=="function",m=Fs(o),h=Fs(u);if(!d)return!1;const y=d&&Fs(zh),b=d&&(typeof Ch=="function"?(D=>w=>D.encode(w))(new Ch):async D=>new Uint8Array(await new o(D).arrayBuffer())),p=m&&y&&Th(()=>{let D=!1;const w=new o(Nt.origin,{body:new zh,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!w}),j=h&&y&&Th(()=>te.isReadableStream(new u("").body)),C={stream:j&&(D=>D.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!C[D]&&(C[D]=(w,S)=>{let U=w&&w[D];if(U)return U.call(w);throw new De(`Response type '${D}' is not supported`,De.ERR_NOT_SUPPORT,S)})});const V=async D=>{if(D==null)return 0;if(te.isBlob(D))return D.size;if(te.isSpecCompliantForm(D))return(await new o(Nt.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if(te.isArrayBufferView(D)||te.isArrayBuffer(D))return D.byteLength;if(te.isURLSearchParams(D)&&(D=D+""),te.isString(D))return(await b(D)).byteLength},le=async(D,w)=>{const S=te.toFiniteNumber(D.getContentLength());return S??V(w)};return async D=>{let{url:w,method:S,data:U,signal:B,cancelToken:k,timeout:K,onDownloadProgress:A,onUploadProgress:O,responseType:g,headers:N,withCredentials:H="same-origin",fetchOptions:ee}=Ep(D),R=r||fetch;g=g?(g+"").toLowerCase():"text";let X=Ix([B,k&&k.toAbortSignal()],K),$=null;const _=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let de;try{if(O&&p&&S!=="get"&&S!=="head"&&(de=await le(N,U))!==0){let E=new o(w,{method:"POST",body:U,duplex:"half"}),z;if(te.isFormData(U)&&(z=E.headers.get("content-type"))&&N.setContentType(z),E.body){const[L,Q]=Sh(de,er(wh(O)));U=Ah(E.body,Eh,L,Q)}}te.isString(H)||(H=H?"include":"omit");const T=m&&"credentials"in o.prototype,J={...ee,signal:X,method:S.toUpperCase(),headers:N.normalize().toJSON(),body:U,duplex:"half",credentials:T?H:void 0};$=m&&new o(w,J);let G=await(m?R($,ee):R(w,J));const se=j&&(g==="stream"||g==="response");if(j&&(A||se&&_)){const E={};["status","statusText","headers"].forEach(Y=>{E[Y]=G[Y]});const z=te.toFiniteNumber(G.headers.get("content-length")),[L,Q]=A&&Sh(z,er(wh(A),!0))||[];G=new u(Ah(G.body,Eh,L,()=>{Q&&Q(),_&&_()}),E)}g=g||"text";let me=await C[te.findKey(C,g)||"text"](G,D);return!se&&_&&_(),await new Promise((E,z)=>{Np(E,z,{data:me,headers:Ut.from(G.headers),status:G.status,statusText:G.statusText,config:D,request:$})})}catch(T){throw _&&_(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,D,$),{cause:T.cause||T}):De.from(T,T&&T.code,D,$)}}},lb=new Map,zp=i=>{let r=i&&i.env||{};const{fetch:o,Request:u,Response:d}=r,m=[u,d,o];let h=m.length,y=h,b,p,j=lb;for(;y--;)b=m[y],p=j.get(b),p===void 0&&j.set(b,p=y?new Map:ab(r)),j=p;return p};zp();const iu={http:jx,xhr:Wx,fetch:{get:zp}};te.forEach(iu,(i,r)=>{if(i){try{Object.defineProperty(i,"name",{value:r})}catch{}Object.defineProperty(i,"adapterName",{value:r})}});const Dh=i=>`- ${i}`,ib=i=>te.isFunction(i)||i===null||i===!1;function sb(i,r){i=te.isArray(i)?i:[i];const{length:o}=i;let u,d;const m={};for(let h=0;h<o;h++){u=i[h];let y;if(d=u,!ib(u)&&(d=iu[(y=String(u)).toLowerCase()],d===void 0))throw new De(`Unknown adapter '${y}'`);if(d&&(te.isFunction(d)||(d=d.get(r))))break;m[y||"#"+h]=d}if(!d){const h=Object.entries(m).map(([b,p])=>`adapter ${b} `+(p===!1?"is not supported by the environment":"is not available in the build"));let y=o?h.length>1?`since :
`+h.map(Dh).join(`
`):" "+Dh(h[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d}const Cp={getAdapter:sb,adapters:iu};function ko(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Al(null,i)}function Oh(i){return ko(i),i.headers=Ut.from(i.headers),i.data=_o.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Cp.getAdapter(i.adapter||Ti.adapter,i)(i).then(function(u){return ko(i),u.data=_o.call(i,i.transformResponse,u),u.headers=Ut.from(u.headers),u},function(u){return wp(u)||(ko(i),u&&u.response&&(u.response.data=_o.call(i,i.transformResponse,u.response),u.response.headers=Ut.from(u.response.headers))),Promise.reject(u)})}const Tp="1.13.2",dr={};["object","boolean","number","function","string","symbol"].forEach((i,r)=>{dr[i]=function(u){return typeof u===i||"a"+(r<1?"n ":" ")+i}});const Rh={};dr.transitional=function(r,o,u){function d(m,h){return"[Axios v"+Tp+"] Transitional option '"+m+"'"+h+(u?". "+u:"")}return(m,h,y)=>{if(r===!1)throw new De(d(h," has been removed"+(o?" in "+o:"")),De.ERR_DEPRECATED);return o&&!Rh[h]&&(Rh[h]=!0,console.warn(d(h," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(m,h,y):!0}};dr.spelling=function(r){return(o,u)=>(console.warn(`${u} is likely a misspelling of ${r}`),!0)};function rb(i,r,o){if(typeof i!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const u=Object.keys(i);let d=u.length;for(;d-- >0;){const m=u[d],h=r[m];if(h){const y=i[m],b=y===void 0||h(y,m,i);if(b!==!0)throw new De("option "+m+" must be "+b,De.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new De("Unknown option "+m,De.ERR_BAD_OPTION)}}const Is={assertOptions:rb,validators:dr},vn=Is.validators;let Ra=class{constructor(r){this.defaults=r||{},this.interceptors={request:new bh,response:new bh}}async request(r,o){try{return await this._request(r,o)}catch(u){if(u instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{u.stack?m&&!String(u.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+m):u.stack=m}catch{}}throw u}}_request(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=Ma(this.defaults,o);const{transitional:u,paramsSerializer:d,headers:m}=o;u!==void 0&&Is.assertOptions(u,{silentJSONParsing:vn.transitional(vn.boolean),forcedJSONParsing:vn.transitional(vn.boolean),clarifyTimeoutError:vn.transitional(vn.boolean)},!1),d!=null&&(te.isFunction(d)?o.paramsSerializer={serialize:d}:Is.assertOptions(d,{encode:vn.function,serialize:vn.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Is.assertOptions(o,{baseUrl:vn.spelling("baseURL"),withXsrfToken:vn.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=m&&te.merge(m.common,m[o.method]);m&&te.forEach(["delete","get","head","post","put","patch","common"],D=>{delete m[D]}),o.headers=Ut.concat(h,m);const y=[];let b=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(o)===!1||(b=b&&w.synchronous,y.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let j,C=0,V;if(!b){const D=[Oh.bind(this),void 0];for(D.unshift(...y),D.push(...p),V=D.length,j=Promise.resolve(o);C<V;)j=j.then(D[C++],D[C++]);return j}V=y.length;let le=o;for(;C<V;){const D=y[C++],w=y[C++];try{le=D(le)}catch(S){w.call(this,S);break}}try{j=Oh.call(this,le)}catch(D){return Promise.reject(D)}for(C=0,V=p.length;C<V;)j=j.then(p[C++],p[C++]);return j}getUri(r){r=Ma(this.defaults,r);const o=Ap(r.baseURL,r.url,r.allowAbsoluteUrls);return bp(o,r.params,r.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(r){Ra.prototype[r]=function(o,u){return this.request(Ma(u||{},{method:r,url:o,data:(u||{}).data}))}});te.forEach(["post","put","patch"],function(r){function o(u){return function(m,h,y){return this.request(Ma(y||{},{method:r,headers:u?{"Content-Type":"multipart/form-data"}:{},url:m,data:h}))}}Ra.prototype[r]=o(),Ra.prototype[r+"Form"]=o(!0)});let cb=class Dp{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const u=this;this.promise.then(d=>{if(!u._listeners)return;let m=u._listeners.length;for(;m-- >0;)u._listeners[m](d);u._listeners=null}),this.promise.then=d=>{let m;const h=new Promise(y=>{u.subscribe(y),m=y}).then(d);return h.cancel=function(){u.unsubscribe(m)},h},r(function(m,h,y){u.reason||(u.reason=new Al(m,h,y),o(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const r=new AbortController,o=u=>{r.abort(u)};return this.subscribe(o),r.signal.unsubscribe=()=>this.unsubscribe(o),r.signal}static source(){let r;return{token:new Dp(function(d){r=d}),cancel:r}}};function ob(i){return function(o){return i.apply(null,o)}}function ub(i){return te.isObject(i)&&i.isAxiosError===!0}const Go={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Go).forEach(([i,r])=>{Go[r]=i});function Op(i){const r=new Ra(i),o=cp(Ra.prototype.request,r);return te.extend(o,Ra.prototype,r,{allOwnKeys:!0}),te.extend(o,r,null,{allOwnKeys:!0}),o.create=function(d){return Op(Ma(i,d))},o}const Ke=Op(Ti);Ke.Axios=Ra;Ke.CanceledError=Al;Ke.CancelToken=cb;Ke.isCancel=wp;Ke.VERSION=Tp;Ke.toFormData=ur;Ke.AxiosError=De;Ke.Cancel=Ke.CanceledError;Ke.all=function(r){return Promise.all(r)};Ke.spread=ob;Ke.isAxiosError=ub;Ke.mergeConfig=Ma;Ke.AxiosHeaders=Ut;Ke.formToJSON=i=>Sp(te.isHTMLForm(i)?new FormData(i):i);Ke.getAdapter=Cp.getAdapter;Ke.HttpStatusCode=Go;Ke.default=Ke;const{Axios:Cj,AxiosError:Tj,CanceledError:Dj,isCancel:Oj,CancelToken:Rj,VERSION:Mj,all:_j,Cancel:kj,isAxiosError:Lj,spread:Uj,toFormData:Bj,AxiosHeaders:qj,HttpStatusCode:Hj,formToJSON:Qj,getAdapter:Yj,mergeConfig:$j}=Ke,Rp="/assets/LMS-DhV7zift.svg";var Lo={exports:{}},ji={};var Mh;function db(){if(Mh)return ji;Mh=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(u,d,m){var h=null;if(m!==void 0&&(h=""+m),d.key!==void 0&&(h=""+d.key),"key"in d){m={};for(var y in d)y!=="key"&&(m[y]=d[y])}else m=d;return d=m.ref,{$$typeof:i,type:u,key:h,ref:d!==void 0?d:null,props:m}}return ji.Fragment=r,ji.jsx=o,ji.jsxs=o,ji}var _h;function fb(){return _h||(_h=1,Lo.exports=db()),Lo.exports}var l=fb();const Mp=({title:i,subtitle:r,footer:o,note:u,children:d})=>l.jsxs("div",{className:"card",children:[l.jsx("h1",{children:i}),l.jsx("p",{children:r}),d,l.jsx("div",{className:"google-link",children:o}),u&&l.jsx("p",{className:"note",children:u})]});var _p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kh=da.createContext&&da.createContext(_p),mb=["attr","size","title"];function hb(i,r){if(i==null)return{};var o=pb(i,r),u,d;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);for(d=0;d<m.length;d++)u=m[d],!(r.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(i,u)&&(o[u]=i[u])}return o}function pb(i,r){if(i==null)return{};var o={};for(var u in i)if(Object.prototype.hasOwnProperty.call(i,u)){if(r.indexOf(u)>=0)continue;o[u]=i[u]}return o}function tr(){return tr=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])}return i},tr.apply(this,arguments)}function Lh(i,r){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);r&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),o.push.apply(o,u)}return o}function nr(i){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Lh(Object(o),!0).forEach(function(u){gb(i,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):Lh(Object(o)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(o,u))})}return i}function gb(i,r,o){return r=yb(r),r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i}function yb(i){var r=vb(i,"string");return typeof r=="symbol"?r:r+""}function vb(i,r){if(typeof i!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var u=o.call(i,r);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function kp(i){return i&&i.map((r,o)=>da.createElement(r.tag,nr({key:o},r.attr),kp(r.child)))}function xb(i){return r=>da.createElement(bb,tr({attr:nr({},i.attr)},r),kp(i.child))}function bb(i){var r=o=>{var{attr:u,size:d,title:m}=i,h=hb(i,mb),y=d||o.size||"1em",b;return o.className&&(b=o.className),i.className&&(b=(b?b+" ":"")+i.className),da.createElement("svg",tr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,u,h,{className:b,style:nr(nr({color:i.color||o.color},o.style),i.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),m&&da.createElement("title",null,m),i.children)};return kh!==void 0?da.createElement(kh.Consumer,null,o=>r(o)):r(_p)}function Lp(i){return xb({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(i)}const xl="http://localhost:5000",Up=x.createContext(void 0),jb=({children:i})=>{const[r,o]=x.useState(null);x.useEffect(()=>{const h=localStorage.getItem("user");if(h){const y=JSON.parse(h);o(y),(async()=>{try{const b=(xl||"").replace(/\/$/,"");if(y?.email&&b){const p=await fetch(`${b}/profile/${encodeURIComponent(y.email)}`);if(p.ok){const C=(await p.json()).user||null;if(C){const V=Object.assign({},y||{},C);o(V);try{localStorage.setItem("user",JSON.stringify(V))}catch{}}}}}catch{}})()}},[]);const u=(h,y,b)=>{const p=typeof h=="object"&&h!==null?h:{email:h,name:y,role:b};o(p),localStorage.setItem("user",JSON.stringify(p)),(async()=>{try{const j=(xl||"").replace(/\/$/,""),C=p?.email;if(C&&j){const V=await fetch(`${j}/profile/${encodeURIComponent(C)}`);if(V.ok){const D=(await V.json()).user||null;if(D){const w=Object.assign({},p,D);o(w);try{localStorage.setItem("user",JSON.stringify(w))}catch{}}}}}catch{}})()},d=()=>{o(null),localStorage.removeItem("user"),localStorage.removeItem("token")},m=h=>(async()=>{try{const p=`${(xl||"").replace(/\/$/,"")}/auth/profile`,j={"Content-Type":"application/json"},C=localStorage.getItem("token");C&&(j.Authorization="Bearer "+C);const V=await fetch(p,{method:"PUT",headers:j,body:JSON.stringify(h)});if(V.ok){const le=await V.json();if(le.token)try{localStorage.setItem("token",le.token)}catch{}const D=le.user||null,w=Object.assign({},r||{},D||h);o(w);try{localStorage.setItem("user",JSON.stringify(w))}catch{}return w}}catch(b){console.error("Failed to persist profile update",b)}const y=Object.assign({},r||{},h);o(y);try{localStorage.setItem("user",JSON.stringify(y))}catch{}return y})();return l.jsx(Up.Provider,{value:{user:r,login:u,logout:d,updateProfile:m},children:i})},Bt=()=>{const i=x.useContext(Up);if(!i)throw new Error("useAuth must be used within AuthProvider");return i},Sb=({onToggle:i})=>{const{login:r}=Bt(),o=jt(),[u,d]=x.useState(""),m=async h=>{h.preventDefault();const y=h.currentTarget.elements.namedItem("email").value;try{const b=await Ke.post("/api/auth/login",{email:y,password:u},{withCredentials:!0});localStorage.setItem("token",b.data.token);let p={email:y};try{const V=await fetch(`/api/profile/${encodeURIComponent(y)}`);if(V.ok){const le=await V.json();le.user&&(p=Object.assign({},p,le.user))}}catch{}const j=b.data.user?.role||p.role,C=b.data.user?.name||p.name;if(p=Object.assign({},p,{role:j,name:C}),r(p),j==="student")try{await Ke.post("/api/modules/auto-enroll",{},{headers:{Authorization:"Bearer "+b.data.token},withCredentials:!0}),console.log("Student auto-enrolled successfully.")}catch(V){console.error("Auto-enroll failed:",V)}o(j==="superteacher"?"/superteacher/approvals":j==="teacher"?"/teacher/dashboard":"/student/dashboard")}catch(b){alert(b.response?.data?.error||"Login failed")}};return l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"logo-section",children:l.jsx("img",{src:Rp,alt:"CommuniLearn Logo"})}),l.jsx("section",{className:"form-section",children:l.jsx(Mp,{title:"Welcome",subtitle:"Sign in to your account.",footer:l.jsxs(l.Fragment,{children:[l.jsx(Lp,{size:20}),l.jsx("a",{href:"#",onClick:h=>{h.preventDefault(),i()},style:{cursor:"pointer"},children:"Sign Up Here!"})]}),note:"Learn Languages the Fun Way!",children:l.jsxs("form",{onSubmit:m,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email / Google Account"}),l.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",placeholder:"Enter your password",required:!0,onChange:h=>d(h.target.value)})]}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"LOGIN"})]})})})]})},wb=({onToggle:i})=>{const[r,o]=x.useState({name:"",email:"",password:"",confirmPassword:"",role:"student"}),u=async d=>{if(d.preventDefault(),r.password!==r.confirmPassword){alert("Passwords do not match!");return}try{await Ke.post("http://localhost:5000/auth/signup",{name:r.name,email:r.email,password:r.password,role:r.role}),alert(r.role==="teacher"?"Signup successful! Your teacher account requires admin approval.":"Signup successful! Please wait for Approval!."),i()}catch(m){console.error(m),alert(m.response?.data?.error||"Signup failed")}};return l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"logo-section",children:l.jsx("img",{src:Rp,alt:"CommuniLearn Logo"})}),l.jsx("section",{className:"form-section",children:l.jsx(Mp,{title:"Hello there!",subtitle:"Sign Up for the Purposive Communication Course",footer:l.jsxs(l.Fragment,{children:[l.jsx(Lp,{size:20}),l.jsx("a",{href:"#",onClick:d=>{d.preventDefault(),i()},children:"Already have an account?"})]}),note:"Note: Teacher approval is required for course access.",children:l.jsxs("form",{onSubmit:u,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Full Name"}),l.jsx("input",{type:"text",required:!0,placeholder:"Enter your name",onChange:d=>o({...r,name:d.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email / Google Account"}),l.jsx("input",{type:"email",required:!0,placeholder:"Enter your email",onChange:d=>o({...r,email:d.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",required:!0,placeholder:"Enter your password",onChange:d=>o({...r,password:d.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Confirm Password"}),l.jsx("input",{type:"password",required:!0,placeholder:"Re-enter your password",onChange:d=>o({...r,confirmPassword:d.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Role"}),l.jsxs("select",{onChange:d=>o({...r,role:d.target.value}),children:[l.jsx("option",{value:"student",children:"Student"}),l.jsx("option",{value:"teacher",children:"Teacher"})]})]}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"SIGN UP"})]})})})]})};const Nb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ab=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,o,u)=>u?u.toUpperCase():o.toLowerCase()),Uh=i=>{const r=Ab(i);return r.charAt(0).toUpperCase()+r.slice(1)},Bp=(...i)=>i.filter((r,o,u)=>!!r&&r.trim()!==""&&u.indexOf(r)===o).join(" ").trim(),Eb=i=>{for(const r in i)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var zb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Cb=x.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:m,iconNode:h,...y},b)=>x.createElement("svg",{ref:b,...zb,width:r,height:r,stroke:i,strokeWidth:u?Number(o)*24/Number(r):o,className:Bp("lucide",d),...!m&&!Eb(y)&&{"aria-hidden":"true"},...y},[...h.map(([p,j])=>x.createElement(p,j)),...Array.isArray(m)?m:[m]]));const At=(i,r)=>{const o=x.forwardRef(({className:u,...d},m)=>x.createElement(Cb,{ref:m,iconNode:r,className:Bp(`lucide-${Nb(Uh(i))}`,`lucide-${i}`,u),...d}));return o.displayName=Uh(i),o};const Tb=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Db=At("bell",Tb);const Ob=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Bh=At("book",Ob);const Rb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uo=At("calendar",Rb);const Mb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qp=At("chevron-down",Mb);const _b=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hp=At("chevron-up",_b);const kb=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Lb=At("clipboard-list",kb);const Ub=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xo=At("file-text",Ub);const Bb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qh=At("house",Bb);const qb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hh=At("log-out",qb);const Hb=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Fo=At("megaphone",Hb);const Qb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qp=At("pen",Qb);const Yb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$b=At("plus",Yb);const Vb=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qh=At("square-check-big",Vb);const Gb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ar=At("trash-2",Gb);const Xb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fb=At("user-plus",Xb);const Jb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yp=At("users",Jb);function Zb(){const{logout:i,user:r}=Bt(),o=jt(),u=()=>{i(),o("/")};if(r?.role==="superteacher")return l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{className:"sidebar-title",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{className:"sidebar-title-text",children:"CommuniLearn"})]})}),l.jsx("nav",{style:{marginTop:"2rem"},children:l.jsxs(Si,{to:"/superteacher/approvals",className:({isActive:y})=>`sidebar-item ${y?"active":""}`,children:[l.jsx(Qh,{size:20}),l.jsx("span",{children:"Approvals"})]})}),l.jsxs("div",{className:"sidebar-bottom",children:[l.jsxs(Si,{onClick:u,to:"/logout",className:"sidebar-item",children:[l.jsx(Hh,{size:20}),l.jsx("span",{children:"Logout"})]})]})]});const d=[{icon:qh,label:"Dashboard",path:"/teacher/dashboard"},{icon:Bh,label:"Modules",path:"/teacher/module"},{icon:Yp,label:"Students",path:"/teacher/students"},{icon:Lb,label:"Grade/Report",path:"/teacher/grades"},{icon:Xo,label:"Quizzes/Test",path:"/teacher/quizzes"},{icon:Fo,label:"Announcements",path:"/teacher/announcements"},{icon:Qh,label:"Approvals",path:"/teacher/approvals"}],m=[{icon:qh,label:"Dashboard",path:"/student/dashboard"},{icon:Bh,label:"Modules",path:"/student/modules"},{icon:Xo,label:"Quizzes/Test",path:"/student/quizzes"},{icon:Fo,label:"Announcements",path:"/student/announcements"}],h=r?.role==="student"?m:d;return l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{className:"sidebar-title",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{className:"sidebar-title-text",children:"CommuniLearn"})]})}),l.jsx("nav",{style:{marginTop:"1rem"},children:h.map((y,b)=>{const p=y.icon;return l.jsxs(Si,{to:y.path,className:({isActive:j})=>`sidebar-item ${j?"active":""}`,children:[l.jsx(p,{size:20}),l.jsx("span",{children:y.label})]},b)})}),l.jsxs("div",{className:"sidebar-bottom",children:[l.jsxs(Si,{onClick:u,to:"/logout",className:"sidebar-item",children:[l.jsx(Hh,{size:20}),l.jsx("span",{children:"Logout"})]})]})]})}const Bo=["#ef4444","#fb923c","#f59e0b","#16a34a","#06b6d4","#3b82f6","#6366f1","#a855f7","#ec4899","#0ea5a4"];function Kb(i){if(!i)return Bo[0];let r=0;for(let u=0;u<i.length;u++)r=i.charCodeAt(u)+((r<<5)-r),r=r&r;const o=Math.abs(r)%Bo.length;return Bo[o]}function Wb(i){const r=i.replace("#",""),o=parseInt(r.length===3?r.split("").map(u=>u+u).join(""):r,16);return{r:o>>16&255,g:o>>8&255,b:o&255}}function Ib(i,r,o){const u=[i,r,o].map(d=>(d/=255,d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4)));return .2126*u[0]+.7152*u[1]+.0722*u[2]}function Pb(i){try{const{r,g:o,b:u}=Wb(i);return Ib(r,o,u)>.5?"#0f172a":"#ffffff"}catch{return"#111827"}}function ft({name:i,email:r,src:o,alt:u,className:d}){const m=i?i.trim().charAt(0).toUpperCase():"?",h=Kb(r||i||""),y=Pb(h),b=d||"avatar-initial",[p,j]=x.useState(o||null);x.useEffect(()=>{let V=!1;async function le(){if(!o&&r)try{const D=(xl||"").replace(/\/$/,"");if(!D)return;const w=await fetch(`${D}/profile/${encodeURIComponent(r)}`);if(!w.ok)return;const S=await w.json();if(V)return;const U=S?.user?.picture;U&&j(U)}catch{}}return le(),()=>{V=!0}},[r,o]);const C=o||p;return C?l.jsx("div",{className:b,children:l.jsx("img",{src:C,alt:u||i||"avatar",className:"avatar-img"})}):l.jsx("div",{className:`${b} avatar-initial`,style:{background:h,color:y},"aria-label":u||i||"avatar",title:i,children:m})}function ej({items:i=[],onClose:r,onItemClick:o}){return l.jsxs("div",{style:{position:"fixed",top:64,right:20,width:320,background:"#fff",borderRadius:8,boxShadow:"0 6px 18px rgba(0,0,0,0.08)",padding:8,zIndex:9999},children:[l.jsx("div",{style:{padding:"10px 12px",borderBottom:"1px solid #eee"},children:l.jsx("h4",{style:{margin:0,fontWeight:700},children:"Notifications"})}),i.length===0?l.jsx("div",{style:{padding:12},children:l.jsx("p",{style:{margin:0,color:"#666"},children:"No new notifications"})}):i.map(u=>l.jsxs("div",{role:"button",onClick:d=>{d.stopPropagation(),typeof o=="function"&&o(u)},style:{padding:"10px 12px",borderBottom:"1px solid #f1f1f1",cursor:"pointer"},children:[l.jsx("p",{style:{margin:0,fontSize:14},children:u.title||u.msg||"Update"}),l.jsx("p",{style:{margin:"6px 0 0",fontSize:12,color:"#888"},children:u.created?new Date(u.created).toLocaleString():u.time||""})]},`${u.type||"it"}-${u.id}`))]})}function tj(){const{user:i}=Bt()||{},r=i&&i.role?String(i.role):"guest",o=r?String(r).charAt(0).toUpperCase()+String(r).slice(1):"Guest",u=jt(),[d,m]=x.useState(!1),[h,y]=x.useState([]),[b,p]=x.useState(0);x.useRef();const j=`recentViewedItems_${i&&i.email?i.email:"guest"}`,C=w=>{try{const S=localStorage.getItem(j),U=S?JSON.parse(S):[];let B=0;for(const k of w||[]){const K=`${k.type}-${k.id}`;U.includes(K)||B++}return B}catch{return 0}},V=async()=>{try{const w=localStorage.getItem("token"),S=w?{Authorization:"Bearer "+w}:{},[U,B,k,K,A]=await Promise.all([fetch("/api/announcement",{headers:S}).then(R=>R.ok?R.json():[]).catch(()=>[]),fetch("/api/modules/student",{headers:S}).then(R=>R.ok?R.json():[]).catch(()=>[]),fetch("/api/quizzes/student",{headers:S}).then(R=>R.ok?R.json():[]).catch(()=>[]),fetch("/api/quizzes/teacher",{headers:S}).then(R=>R.ok?R.json():[]).catch(()=>[]),fetch("/api/auth/teachers",{headers:S}).then(R=>R.ok?R.json():[]).catch(()=>[])]),O=Array.isArray(U)?U.map(R=>({id:R.id,title:R.title||(R.description||"Announcement").slice(0,80),created:R.createdAt?new Date(R.createdAt).getTime():R.updatedAt?new Date(R.updatedAt).getTime():Date.now(),type:"Announcement"})):[],g=Array.isArray(B)?B.map(R=>({id:R.id,title:R.title||"Module",created:R.createdAt?new Date(R.createdAt).getTime():R.updatedAt?new Date(R.updatedAt).getTime():Date.now(),type:"Module"})):[],N=[],H=R=>{!R||!R.id||N.push({id:R.id,title:R.title||"Quiz",created:R.createdAt?new Date(R.createdAt).getTime():R.updatedAt?new Date(R.updatedAt).getTime():Date.now(),type:"Quiz"})};Array.isArray(k)&&k.forEach(H),Array.isArray(B)&&B.forEach(R=>{Array.isArray(R.quizzes)&&R.quizzes.forEach(H)}),Array.isArray(K)&&(K.length&&Array.isArray(K[0].quizzes)?K.forEach(R=>{Array.isArray(R.quizzes)&&R.quizzes.forEach(H)}):K.forEach(H));const ee=[...O,...g,...N];ee.sort((R,X)=>(X.created||0)-(R.created||0)),y(ee.slice(0,10)),p(C(ee))}catch(w){console.error("Failed to fetch recent for notifications",w)}};x.useEffect(()=>{V();const w=()=>V();return window.addEventListener("recentUpdated",w),window.addEventListener("storage",S=>{S&&S.key&&S.key.startsWith("recentViewedItems_")&&V()}),()=>{window.removeEventListener("recentUpdated",w)}},[]);const le=w=>{try{const S=`${w.type}-${w.id}`,U=localStorage.getItem(j),B=U?JSON.parse(U):[],k=new Set(B||[]);k.add(S);const K=Array.from(k);localStorage.setItem(j,JSON.stringify(K));try{window.dispatchEvent(new Event("recentViewedItemsUpdated"))}catch{}p(A=>Math.max(0,A-1))}catch(S){console.error("markViewedSingle error",S)}},D=w=>{try{le(w);const S=i&&(i.role||"").toString().toLowerCase()==="teacher"||typeof window<"u"&&window.location&&window.location.pathname&&window.location.pathname.startsWith("/teacher");if(w.type==="Announcement"){u((S?"/teacher/announcements":"/student/announcements")+(w.id?`?id=${w.id}`:"")),m(!1);return}if(w.type==="Module"){u(`${S?"/teacher/module":"/student/module"}/${w.id}`),m(!1);return}if(w.type==="Quiz"){u(S?`/teacher/quiz/${w.id}/view`:`/student/quiz/${w.id}`),m(!1);return}m(!1)}catch(S){console.error("handleItemClick error",S)}};return l.jsxs("header",{className:"header",children:[l.jsx("div",{style:{fontWeight:"600"},children:" "}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("button",{className:"icon-btn",onClick:()=>{m(w=>!w)},children:l.jsx(Db,{size:20})}),b>0&&l.jsx("span",{className:"notif-badge",children:b}),d&&l.jsx(ej,{items:h,onClose:()=>m(!1),onItemClick:D})]}),l.jsx("button",{className:"icon-btn profile-btn",title:o,"aria-label":`Profile (${o})`,onClick:()=>u("/profile"),children:l.jsx(ft,{name:i?i.name:void 0,email:i?i.email:void 0,className:"header-avatar",alt:"Profile"})})]})]})}function El(){const i=jt(),{user:r}=Bt(),[o,u]=x.useState(new Date),[d,m]=x.useState(null),[h,y]=x.useState([]),[b,p]=x.useState([]),[j,C]=x.useState([]),[V,le]=x.useState([]),[D,w]=x.useState(!1),S=`recentViewedItems_${r&&r.email?r.email:"guest"}`,[U,B]=x.useState(()=>{try{const _=localStorage.getItem(S);return _?JSON.parse(_):[]}catch{return[]}});x.useEffect(()=>{try{const _=localStorage.getItem(S);B(_?JSON.parse(_):[])}catch{B([])}},[S]),x.useEffect(()=>{let _=!0;const de=localStorage.getItem("token"),T=de?{Authorization:"Bearer "+de}:{};r&&(r.role||"").toString().toLowerCase()==="teacher"||typeof window<"u"&&window.location&&window.location.pathname&&window.location.pathname.startsWith("/teacher");const J=L=>L.slice().sort((Q,Y)=>!Q.created&&!Y.created?0:Q.created?Y.created?Y.created-Q.created:-1:1);async function G(){try{if(!_)return;w(!0);const L="/api/announcement",Q="/api/modules/student",Y="/api/quizzes/student",Z="/api/auth/teachers",[ce,ge,he,xe,Ue]=await Promise.all([fetch(L,{headers:T}).then(ne=>ne.ok?ne.json():[]).catch(()=>[]),fetch(Q,{headers:T}).then(ne=>ne.ok?ne.json():[]).catch(()=>[]),fetch("/api/quizzes/student",{headers:T}).then(ne=>ne.ok?ne.json():[]).catch(()=>[]),fetch("/api/quizzes/teacher",{headers:T}).then(ne=>ne.ok?ne.json():[]).catch(()=>[]),fetch(Z,{headers:T}).then(ne=>ne.ok?ne.json():[]).catch(()=>[])]),Be=Array.isArray(ce)?ce.filter(ne=>ne.teacherEmail).map(ne=>{const we=String(ne.description||""),Se=we.match(/\s*Due:\s*([^\[]*)/),Ne=Se?Se[1].trim():null,pe=we.replace(/\s*\s*Due:\s*[^\[]*/,"").replace(/\s*\[ATTENDANCE_ID:\d+\]\s*$/,"").trim(),je=ne.title||(pe?pe.slice(0,60):"Announcement");let Ye=null;if(Ne){const Ge=new Date(Ne);if(!isNaN(Ge.getTime())&&Ge.getFullYear()!==1970)Ye=Ge;else{const nt=Ne.match(/(\d{1,2}):(\d{2})(?::(\d{2}))?\s*(AM|PM|am|pm)?/);if(nt){const qt=new Date;let St=parseInt(nt[1],10);const fa=parseInt(nt[2],10),_a=nt[3]?parseInt(nt[3],10):0,Hn=nt[4];if(Hn){const rn=String(Hn).toLowerCase().startsWith("a");rn&&St===12&&(St=0),!rn&&St!==12&&(St=St+12)}const mt=new Date(qt.getFullYear(),qt.getMonth(),qt.getDate(),St,fa,_a,0);mt<=qt&&mt.setDate(mt.getDate()+1),Ye=mt}}}return{id:ne.id,title:je,created:ne.createdAt?new Date(ne.createdAt):ne.updatedAt?new Date(ne.updatedAt):null,raw:ne,type:"Announcement",dueDate:Ye}}):[],Jt=Array.isArray(ge)?ge.filter(ne=>ne.teacherEmail).map(ne=>({id:ne.id,title:ne.title||"Module",created:ne.createdAt?new Date(ne.createdAt):ne.updatedAt?new Date(ne.updatedAt):null,raw:ne,type:"Module"})):[],Et=[],Ct=ne=>{!ne||!ne.id||Et.push({id:ne.id,title:ne.title||"Quiz",created:ne.createdAt?new Date(ne.createdAt):ne.updatedAt?new Date(ne.updatedAt):null,dueDate:ne.dueDate?new Date(ne.dueDate):null,raw:ne,type:"Quiz"})};if(Array.isArray(he))for(const ne of he)Ct(ne);if(Array.isArray(ge)){for(const ne of ge)if(Array.isArray(ne.quizzes))for(const we of ne.quizzes)Ct(we)}if(Array.isArray(xe))if(xe.length&&xe[0]&&Array.isArray(xe[0].quizzes)){for(const ne of xe)if(Array.isArray(ne.quizzes))for(const we of ne.quizzes)Ct(we)}else for(const ne of xe)Ct(ne);const fe=new Set,ze=[];for(const ne of Et)fe.has(ne.id)||(fe.add(ne.id),ze.push(ne));const Ee=[];if(!_)return;y(J(Be)),p(J(Jt)),C(J(ze)),le(J(Ee))}catch{_&&(y([]),p([]),C([]),le([]))}finally{_&&w(!1)}}G();const se=()=>G();window.addEventListener("focus",se);const me=L=>{L&&L.key==="recentUpdated"&&G()};window.addEventListener("storage",me);const E=()=>G();window.addEventListener("recentUpdated",E);const z=setInterval(()=>{G()},15e3);return()=>{_=!1,window.removeEventListener("focus",se),window.removeEventListener("storage",me),window.removeEventListener("recentUpdated",E),clearInterval(z)}},[]);const k=_=>{try{const de=new Set(U||[]);if(de.has(_))return;de.add(_);const T=Array.from(de);B(T),localStorage.setItem(S,JSON.stringify(T));try{window.dispatchEvent(new Event("recentViewedItemsUpdated"))}catch{}}catch(de){console.error("markViewed error",de)}};x.useEffect(()=>{const _=T=>{if(T&&T.key===S)try{const J=localStorage.getItem(S);B(J?JSON.parse(J):[])}catch{}},de=()=>{try{const T=localStorage.getItem(S);B(T?JSON.parse(T):[])}catch{}};return window.addEventListener("storage",_),window.addEventListener("recentViewedItemsUpdated",de),()=>{window.removeEventListener("storage",_),window.removeEventListener("recentViewedItemsUpdated",de)}},[]);const K=x.useMemo(()=>{const _=[...h,...b,...j,...V];return _.sort((de,T)=>!de.created&&!T.created?0:de.created?T.created?T.created-de.created:-1:1),_},[h,b,j,V]),A=x.useMemo(()=>{try{if(!K||!K.length)return 0;let _=0;for(const de of K){const T=`${de.type}-${de.id}`;U.includes(T)||_++}return _}catch{return 0}},[K,U]);function O(_){const T=(_.getDay()+6)%7,J=new Date(_);return J.setDate(_.getDate()-T),J.setHours(0,0,0,0),J}function g(_){const de=[],T=new Date(_.getFullYear(),_.getMonth(),1);let J=O(T);for(let G=0;G<6;G++){const se=[];for(let me=0;me<7;me++){const E=new Date(J);E.setDate(J.getDate()+G*7+me),se.push(E)}de.push(se)}return de}const N=g(o);function H(){u(new Date(o.getFullYear(),o.getMonth()-1,1))}function ee(){u(new Date(o.getFullYear(),o.getMonth()+1,1))}function R(_){const de=new Date;return _.getFullYear()===de.getFullYear()&&_.getMonth()===de.getMonth()&&_.getDate()===de.getDate()}function X(_,de){const T=de.toISOString().slice(0,10);m({day:de,pos:{x:_.clientX,y:_.clientY},loading:!0,events:[]});try{const J=localStorage.getItem("token");if(!J&&!r){m(se=>se&&{...se,loading:!1,events:[]});return}const G=J?{Authorization:"Bearer "+J}:{};fetch("/api/announcement",{headers:G}).then(se=>se.ok?se.json():[]).then(se=>{const me=Array.isArray(se)?se.filter(E=>{const z=E.createdAt?new Date(E.createdAt):E.updatedAt?new Date(E.updatedAt):null;return z?z.toISOString().slice(0,10)===T:!1}):[];m(E=>!E||E.day.toDateString()!==de.toDateString()?E:{...E,loading:!1,events:me})}).catch(()=>m(se=>se&&{...se,loading:!1,events:[]}))}catch{m(G=>G&&{...G,loading:!1,events:[]})}}function $(){m(null)}return l.jsxs("aside",{style:{width:320},children:[l.jsxs("div",{className:"card",style:{padding:12,marginBottom:16},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("strong",{children:o.toLocaleString(void 0,{month:"long",year:"numeric"})}),l.jsxs("div",{children:[l.jsx("button",{className:"view-all-btn",onClick:H,style:{marginRight:6},children:""}),l.jsx("button",{className:"view-all-btn",onClick:ee,children:""})]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",textAlign:"center",fontSize:12,color:"#666"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(_=>l.jsx("div",{children:_},_))}),l.jsx("div",{style:{marginTop:8},children:N.map((_,de)=>l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4,marginBottom:4},children:_.map((T,J)=>{const G=T.getMonth()!==o.getMonth(),se=R(T);return l.jsx("div",{onMouseEnter:me=>X(me,T),onMouseLeave:$,style:{padding:6,borderRadius:4,background:G?"#fafafa":"#fff",border:se?"1px solid #0078d4":"1px solid #eee",cursor:"default"},children:l.jsx("div",{style:{fontSize:13,color:G?"#999":"#222"},children:T.getDate()})},J)})},de))}),d&&l.jsxs("div",{style:{marginTop:8,borderTop:"1px dashed #eee",paddingTop:8},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600},children:d.day.toDateString()}),d.loading?l.jsx("div",{style:{fontSize:13},children:"Loading..."}):d.events.length?d.events.map(_=>l.jsx("div",{style:{fontSize:13,marginTop:6},children:_.title||_.description},_.id)):l.jsx("div",{style:{fontSize:13,color:"#666",marginTop:6},children:"No events"})]})]}),l.jsxs("div",{className:"card",style:{padding:12},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("strong",{children:"Recent"}),l.jsxs("div",{style:{color:"#666",fontSize:13},children:[A," new  ",K.length," total"]})]}),l.jsx("div",{style:{maxHeight:360,overflowY:"auto"},children:D?l.jsx("div",{style:{color:"#6b7280"},children:"Loading"}):K.length?K.map((_,de)=>{const T=r&&(r.role||"").toString().toLowerCase()==="teacher"||typeof window<"u"&&window.location&&window.location.pathname&&window.location.pathname.startsWith("/teacher"),J=T&&_.type==="Quiz"?"Activity":_.type,G=`${_.type}-${_.id}`,se=!U.includes(G);return l.jsxs("div",{className:"recent-item",style:{padding:"8px 0",borderBottom:"1px solid #f1f1f1",cursor:"pointer"},onClick:()=>{try{k(G)}catch{}if(_.type==="Announcement"){i((T?"/teacher/announcements":"/student/announcements")+(_.id?`?id=${_.id}`:""));return}if(_.type==="Module"){i(`${T?"/teacher/module":"/student/module"}/${_.id}`);return}if(_.type==="Quiz"){i(T?`/teacher/quiz/${_.id}/view`:`/student/quiz/${_.id}`);return}},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600},children:_.title}),se&&l.jsx("div",{className:"recent-new-badge",children:"New"})]}),l.jsxs("div",{style:{fontSize:12,color:"#666",marginTop:6},children:[J,_.created?`  ${_.created.toLocaleString()}`:""]}),_.dueDate&&l.jsxs("div",{style:{fontSize:12,color:"#666",marginTop:4},children:["Due: ",_.dueDate.toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})]})]},`${_.type}-${_.id}-${de}`)}):l.jsx("div",{style:{color:"#6b7280"},children:"No recent items"})})]})]})}function nj(){const{user:i}=Bt(),[r,o]=x.useState([]),[u,d]=x.useState(0),[m,h]=x.useState(0),[y,b]=x.useState(""),[p,j]=x.useState(!1),[C,V]=x.useState(!1),[le,D]=x.useState(""),[w,S]=x.useState(""),[U,B]=x.useState(""),[k,K]=x.useState(!1),[A,O]=x.useState(!1),[g,N]=x.useState(""),[H,ee]=x.useState(null),[R,X]=x.useState([]),$=jt(),[_,de]=x.useState(""),[T,J]=x.useState(""),[G,se]=x.useState(""),[me,E]=x.useState(null),[z,L]=x.useState(null),[Q,Y]=x.useState(""),[Z,ce]=x.useState(null),[ge,he]=x.useState(0),[xe,Ue]=x.useState(null),[Be,Jt]=x.useState(""),[Et,Ct]=x.useState(""),fe=oe=>{ce(pe=>pe===oe?null:oe)};x.useEffect(()=>{const oe=pe=>{const je=pe.target;je&&(je.closest(".module-menu-wrapper")||je.closest(".module-dropdown")||ce(null))};return document.addEventListener("click",oe),()=>document.removeEventListener("click",oe)},[]),x.useEffect(()=>{const oe=async()=>{try{if(!i?.email)return;const nt=await fetch("http://localhost:5000/modules/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!nt.ok)return;const qt=await nt.json();o(Array.isArray(qt)?qt:[]);const St=qt.flatMap(fa=>fa.quizzes||[]).length;he(St)}catch(Ge){console.error("Error fetching modules:",Ge)}};(async()=>{try{const nt=await(await fetch("http://localhost:5000/announcement",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();X(nt)}catch(Ge){console.error("Failed to load announcements:",Ge)}})();const je=async()=>{try{const nt=await(await fetch("http://localhost:5000/students/approved/count")).json();d(nt.count||0)}catch(Ge){console.error("Failed to load approved students count:",Ge)}},Ye=async()=>{try{const Ge=await fetch("http://localhost:5000/students/pending/count");if(!Ge.ok)return;const nt=await Ge.json();h(nt.count||0)}catch(Ge){console.error("Failed to load pending students count:",Ge)}};oe(),je(),Ye()},[i]);const ze=async()=>{if(!T.trim())return alert("Please enter a module title");try{const oe=new FormData;oe.append("title",T),oe.append("description",G),oe.append("teacherEmail",i?.email||""),me&&oe.append("document",me),z&&oe.append("mediaFile",z),Q&&oe.append("mediaUrl",Q);const pe=await fetch("http://localhost:5000/modules",{method:"POST",body:oe});if(!pe.ok)throw new Error("Failed to create module");const je=await pe.json();o(Ye=>[...Ye,je]);try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}J(""),se(""),E(null),L(null),Y(""),j(!1)}catch(oe){console.error(oe),alert("Error creating module")}},Ee=async()=>{if(!_.trim())return alert("Quiz needs a title");if(!y)return alert("Select a module");try{const oe=await fetch("http://localhost:5000/quizzes/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:_,moduleId:Number(y)})}),pe=await oe.json();if(!oe.ok||!pe.quizId){alert(pe.error||"Failed to create quiz.");return}try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}$("/teacher/quiz-builder",{state:{quizId:pe.quizId,moduleId:Number(y),title:_,createdNow:!0}}),setTimeout(()=>K(!1),100)}catch(oe){console.error("Create quiz error:",oe),alert("Error creating quiz.")}},ne=async oe=>{if(await window.customConfirm("Delete this module?"))try{const pe=await fetch(`http://localhost:5000/modules/${oe}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!pe.ok){const je=await pe.json().catch(()=>null);console.error("Delete module failed",je),alert(je?.error||"Failed to delete module");return}o(je=>je.filter(Ye=>Ye.id!==oe))}catch(pe){console.error(pe),alert("Error deleting module")}},we=async()=>{if(!g.trim())return alert("Description is required.");try{const oe=new FormData;oe.append("description",g),H&&oe.append("file",H);const je=await(await fetch("http://localhost:5000/announcement",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:oe})).json(),Ye=H?.name||(je.filePath?String(je.filePath).split(/[/\\]/).pop():null);X(Ge=>[{...je,displayFileName:Ye},...Ge]);try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}O(!1),N(""),ee(null)}catch(oe){console.log(oe),alert("Failed to create announcement")}},Se=async()=>{const oe=(le||"").trim();if(!oe)return alert("Description is required");let pe=null;w?U?pe=`${w}T${U}`:pe=w:U&&(pe=`1970-01-01T${U}`);try{const je=await fetch("http://localhost:5000/attendance",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:oe,dueDate:pe})}),Ye=await je.json();if(!je.ok){alert(Ye.error||"Failed to create attendance");return}V(!1),D(""),S(""),B("");try{const Ge=new FormData,nt=`Attendance: ${oe}`+(pe?`  Due: ${new Date(pe).toLocaleString()}`:"")+(Ye&&Ye.id?` [ATTENDANCE_ID:${Ye.id}]`:"");Ge.append("description",nt);const qt=await fetch("http://localhost:5000/announcement",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:Ge}),St=await qt.json();if(qt.ok){const fa=Ye&&H?H.name:St.filePath?String(St.filePath).split(/[/\\]/).pop():null;X(_a=>[{...St,displayFileName:fa},..._a]);try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}else console.warn("Attendance created but linked announcement failed:",St)}catch(Ge){console.error("Failed to create linked announcement:",Ge)}alert("Attendance created successfully")}catch(je){console.error(je),alert("Failed to create attendance (network error)")}},Ne=async()=>{if(xe)try{const oe=await fetch(`http://localhost:5000/modules/${xe}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:Be,description:Et})});if(!oe.ok){const je=await oe.json().catch(()=>null);console.error("Update failed",je),alert(je?.error||"Failed to update module");return}const pe=await oe.json();o(je=>je.map(Ye=>Ye.id===xe?pe:Ye)),Ue(null)}catch(oe){console.error(oe),alert("Failed to save changes")}};return l.jsxs("div",{className:"main-layout",children:[l.jsxs("div",{className:"dashboard-container",children:[l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stats-card",children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(Xo,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:r.length}),l.jsx("p",{className:"card-subtitle",children:"Modules Created"})]}),l.jsxs("div",{className:"stats-card stats-clickable",onClick:()=>$("/teacher/quizzes"),children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(Uo,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:ge}),l.jsx("p",{className:"card-subtitle",children:"Assessments Created"})]}),l.jsxs("div",{className:"stats-card stats-clickable",onClick:()=>$("/teacher/students"),children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(Yp,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:u}),l.jsx("p",{className:"card-subtitle",children:"Enrolled Students"})]}),l.jsxs("div",{className:"stats-card stats-clickable",onClick:()=>$("/teacher/approvals"),children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(Fb,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:m}),l.jsx("p",{className:"card-subtitle",children:"Registrants"})]})]}),l.jsxs("div",{className:"action-buttons-container",children:[l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>j(!0),children:[l.jsx($b,{size:18}),"New Module"]}),l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>V(!0),children:[l.jsx(Uo,{size:18}),"New Attendance"]}),l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>K(!0),children:[l.jsx(Uo,{size:18}),"New Activity"]}),l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>O(!0),children:[l.jsx(Fo,{size:18}),"Create Announcement"]})]}),l.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{className:"module-list",children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"List of Modules"}),l.jsx("p",{className:"module-list-subtitle",children:"Your recently created modules"})]}),l.jsx("button",{type:"button",className:"view-all-btn",onClick:()=>$("/teacher/module"),children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:r.map(oe=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{type:"button",className:"module-more-btn",onClick:()=>fe(oe.id),children:""}),Z===oe.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>{Ue(oe.id),Jt(oe.title),Ct(oe.description||""),ce(null)},children:"Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>ne(oe.id),children:"Delete"})]})]}),l.jsx("h4",{className:"module-code",children:oe.title}),l.jsx("p",{className:"module-desc",children:oe.description}),l.jsx("button",{type:"button",className:"module-view-btn",onClick:()=>$(`/teacher/module/${oe.id}`),children:"View"})]},oe.id))})]}),l.jsx("div",{style:{height:24}})]}),l.jsx("div",{style:{width:340,flex:"0 0 340px"},children:l.jsx(El,{})})]})]}),p&&l.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Create a Module"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Module Name:"}),l.jsx("input",{type:"text",placeholder:"Module title",value:T,onChange:oe=>J(oe.target.value)}),l.jsx("label",{children:"Description:"}),l.jsx("textarea",{placeholder:"Describe the module",value:G,onChange:oe=>se(oe.target.value)}),l.jsx("label",{children:"Document File:"}),l.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:oe=>E(oe.target.files?.[0]||null)}),l.jsx("label",{children:"Video/Audio:"}),l.jsx("input",{type:"file",accept:".mp4,.mkv,.mp3",onChange:oe=>L(oe.target.files?.[0]||null)}),l.jsx("label",{children:"Video/Audio URL:"}),l.jsx("input",{type:"text",placeholder:"YouTube / Vimeo / MP3 URL",value:Q,onChange:oe=>Y(oe.target.value)})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>j(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:ze,children:"Create"})]})]})}),A&&l.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Create Announcement"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{placeholder:"Enter announcement description",value:g,onChange:oe=>N(oe.target.value)}),l.jsx("label",{children:"Attach File (Optional):"}),l.jsx("input",{type:"file",onChange:oe=>ee(oe.target.files?.[0]||null)}),H&&(()=>{const oe=H.name,pe=oe.split(".").pop().toLowerCase(),je=URL.createObjectURL(H);return pe==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("iframe",{src:je,className:"gc-pdf-preview",title:oe}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:oe}),l.jsx("a",{href:je,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:oe}),l.jsx("a",{href:je,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]})})()]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>O(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:we,children:"Create"})]})]})}),C&&l.jsx("div",{className:"modal-overlay",onClick:()=>V(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"New Attendance"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{placeholder:"Enter attendance description",value:le,onChange:oe=>D(oe.target.value),className:"announcement-edit-box"}),l.jsxs("div",{className:"datetime-row",children:[l.jsxs("div",{className:"datetime-col",children:[l.jsx("label",{style:{marginTop:12},children:"Due Date"}),l.jsx("input",{type:"date",value:w,onChange:oe=>S(oe.target.value),className:"announcement-input"})]}),l.jsx("div",{className:"datetime-divider"}),l.jsxs("div",{className:"datetime-col",children:[l.jsx("label",{style:{marginTop:12},children:"Time"}),l.jsx("input",{type:"time",value:U,onChange:oe=>B(oe.target.value),className:"announcement-input",style:{maxWidth:200}})]})]})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>V(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Se,children:"Create"})]})]})}),xe&&l.jsx("div",{className:"modal-overlay",onClick:()=>Ue(null),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Module"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Module Title:"}),l.jsx("input",{type:"text",value:Be,onChange:oe=>Jt(oe.target.value)}),l.jsx("label",{children:"Description:"}),l.jsx("textarea",{value:Et,onChange:oe=>Ct(oe.target.value)})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>Ue(null),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Ne,children:"Save Changes"})]})]})}),k&&l.jsx("div",{className:"modal-overlay",onClick:()=>K(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Create a New Quiz"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Quiz Title:"}),l.jsx("input",{type:"text",value:_,onChange:oe=>de(oe.target.value)}),l.jsx("label",{children:"Select Module:"}),l.jsxs("select",{value:y,onChange:oe=>b(oe.target.value),children:[l.jsx("option",{value:"",children:"-- Choose Module --"}),r.map(oe=>l.jsx("option",{value:String(oe.id),children:oe.title},oe.id))]})]}),l.jsx("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>K(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Ee,children:"Continue"})]})]})})]})}function aj(){const{user:i}=Bt(),[r,o]=x.useState([]),[u,d]=x.useState(null),[m,h]=x.useState(null),[y,b]=x.useState(""),[p,j]=x.useState(""),C=jt(),V=S=>{d(U=>U===S?null:S)};x.useEffect(()=>{const S=U=>{const B=U.target;B&&(B.closest(".module-menu-wrapper")||B.closest(".module-dropdown")||d(null))};return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[]),x.useEffect(()=>{(async()=>{if(i?.email)try{const U=await fetch("http://localhost:5000/modules/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!U.ok)throw new Error("Failed to load modules");const B=await U.json();o(Array.isArray(B)?B:[])}catch(U){console.error("Error loading modules",U)}})()},[i]);const le=async S=>{if(await window.customConfirm("Delete this module?"))try{const U=await fetch(`http://localhost:5000/modules/${S}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!U.ok){const B=await U.json().catch(()=>null);console.error("Delete module failed",B),alert(B?.error||"Failed to delete module");return}o(B=>B.filter(k=>k.id!==S))}catch(U){console.error(U)}},D=S=>{h(S.id),b(S.title),j(S.description)},w=async()=>{if(m)try{const S=await fetch(`http://localhost:5000/modules/${m}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:y,description:p})});if(!S.ok)throw new Error("Update failed");const U=await S.json();o(B=>B.map(k=>k.id===m?U:k)),h(null)}catch(S){console.error(S)}};return l.jsx("div",{className:"main-layout",children:l.jsxs("div",{className:"dashboard-container",children:[l.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[l.jsx("div",{style:{flex:1},children:l.jsxs("div",{className:"module-list",children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"List of Modules"}),l.jsx("div",{className:"module-list-subtitle",children:"Your recently created modules"})]}),l.jsx("button",{className:"view-all-btn",onClick:()=>C("/teacher/module"),children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:r.map(S=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{className:"module-more-btn",onClick:()=>V(S.id),children:""}),u===S.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>D(S),children:"Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>le(S.id),children:"Delete"})]})]}),l.jsx("div",{className:"module-code",children:S.title}),l.jsx("div",{className:"module-desc",children:S.description}),l.jsx("button",{className:"module-view-btn",onClick:()=>C(`/teacher/module/${S.id}`),children:"View"})]},S.id))})]})}),l.jsx(El,{})]}),m&&l.jsx("div",{className:"modal-overlay",onClick:()=>h(null),children:l.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Module"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Module Title"}),l.jsx("input",{type:"text",value:y,onChange:S=>b(S.target.value)}),l.jsx("label",{children:"Description"}),l.jsx("textarea",{value:p,onChange:S=>j(S.target.value)})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>h(null),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:w,children:"Save Changes"})]})]})})]})})}function lj(){return l.jsx("div",{children:"Approvals Page (Blank)"})}function ij(){const[i,r]=x.useState([]),[o,u]=x.useState(!0),[d,m]=x.useState(null),h=async()=>{try{const j=await(await fetch("http://localhost:5000/auth/approved",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();r(j)}catch(p){console.error("Error loading approved students:",p)}finally{u(!1)}},y=async p=>{if(await window.customConfirm("Remove this student?"))try{const j=await fetch(`http://localhost:5000/auth/remove/${p}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!j.ok){const C=await j.json().catch(()=>({error:"Remove failed"}));return alert(C.error||"Failed to remove student")}r(C=>C.filter(V=>V.id!==p)),m(null)}catch(j){console.error("remove student error",j),alert("Failed to remove student")}},b=async p=>{m(p);try{if(p&&p.email){const j=await fetch(`http://localhost:5000/profile/${encodeURIComponent(p.email)}`);if(j.ok){const V=(await j.json()).user||null;V&&m(Object.assign({},p,V))}}}catch(j){console.error("Failed to fetch student profile",j)}};return x.useEffect(()=>{h()},[]),l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Student Lists"})}),l.jsx("div",{className:"page-content card-container approvals-list",children:o?l.jsx("p",{children:"Loading..."}):i.length===0?l.jsx("p",{children:"No approved students yet."}):i.map(p=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ft,{name:p.name,email:p.email||null,className:"avatar-small"}),l.jsx("div",{className:"student-name",children:p.name})]}),l.jsx("div",{className:"row-right",children:l.jsx("button",{className:"btn-view",onClick:()=>b(p),children:"View"})})]},p.id))}),d&&l.jsx("div",{className:"modal-overlay",onClick:()=>m(null),children:l.jsxs("div",{className:"modal-content",onClick:p=>p.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Student Details"}),l.jsxs("div",{className:"student-details-box",children:[l.jsx("div",{className:"modal-avatar-container",children:l.jsx(ft,{name:d.name,email:d.email||null,className:"modal-avatar"})}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Name:"}),l.jsx("p",{children:d.name})]}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Email:"}),l.jsx("p",{children:d.email})]}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Student ID:"}),l.jsx("p",{children:d.studentId&&d.studentId!==""?d.studentId:"None"})]}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Biography:"}),l.jsx("p",{children:d.bio&&d.bio!==""?d.bio:"None"})]})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>m(null),children:"Close"}),l.jsx("button",{className:"modal-btn delete",onClick:()=>y(d.id),children:"Remove Student"})]})]})})]})}function Yh(i){const o=Date.now()-i.getTime(),u=Math.floor(o/6e4);if(u<1)return"Just now";if(u<60)return`${u} minutes ago`;const d=Math.floor(u/60);if(d<24)return`${d} hours ago`;const m=Math.floor(d/24);return m===1?"Yesterday":`${m} days ago`}function sj(i){if(!i)return"";const r=new Date(i),o=String(r.getMonth()+1).padStart(2,"0"),u=String(r.getDate()).padStart(2,"0"),d=r.getFullYear();let m=r.getHours();const h=String(r.getMinutes()).padStart(2,"0"),y=m>=12?"PM":"AM";return m=m%12,m===0&&(m=12),`${o}/${u}/${d}-${m}:${h}${y}`}function rj(i){if(!i)return null;try{const r=new Date(i),o=r.getHours()===0&&r.getMinutes()===0&&r.getSeconds()===0,u=r.getUTCHours&&r.getUTCHours()===0&&r.getUTCMinutes&&r.getUTCMinutes()===0&&r.getUTCSeconds&&r.getUTCSeconds()===0,d=o||u,m=r.getFullYear&&r.getFullYear()===1970;d&&r.setHours(23,59,59,999);const h=Date.now(),y=r.getTime()-h;if(y<=0)return{status:"timesUp",label:"Time's Up"};if(m)return{status:"timeOnly",timePart:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};if(!d){const b=Math.floor(y/6e4);if(b<60)return{status:"relative",label:`Due in ${b}mins`,datePart:r.toLocaleDateString(),timePart:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};const p=Math.round(b/60);return p<24?{status:"relative",label:`Due in ${p}hrs`,datePart:r.toLocaleDateString(),timePart:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}:{status:"date",datePart:r.toLocaleDateString(),timePart:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}}return{status:"date",datePart:r.toLocaleDateString(),timePart:r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}}catch{return null}}function cj(){const{user:i}=Bt?Bt():{user:null},r=typeof window<"u"?localStorage.getItem("userEmail"):null,o=i?.email||r||"",[u,d]=x.useState([]),[m,h]=x.useState({}),[y,b]=x.useState(!0),[p,j]=x.useState({}),[C,V]=x.useState(null),[le,D]=x.useState(""),[w,S]=x.useState(null),[U,B]=x.useState(null),[k,K]=x.useState({}),[A,O]=x.useState([]),[g,N]=x.useState("all");x.useEffect(()=>{const fe=ze=>{const Ee=ze.target;Ee&&(Ee.closest(".module-dropdown")||Ee.closest(".module-more-btn")||Ee.closest(".announcement-menu")||Ee.closest(".announcement-menu-btn")||(S(null),B(null)))};return document.addEventListener("click",fe),()=>document.removeEventListener("click",fe)},[]);const[H,ee]=x.useState(!1),[R,X]=x.useState(null),[$,_]=x.useState(""),[de,T]=x.useState(null);x.useEffect(()=>{(async()=>{try{const Ee=await(await fetch("http://localhost:5000/announcement",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json(),ne=Array.isArray(Ee)?Ee.slice().sort((we,Se)=>new Date(Se.createdAt).getTime()-new Date(we.createdAt).getTime()):[];try{const we=await fetch("/api/auth/teachers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(we.ok){const Se=await we.json(),Ne={};if(Array.isArray(Se))for(const pe of Se)pe.email&&(Ne[pe.email]=pe);h(Ne);const oe=ne.map(pe=>({...pe,authorPicture:pe.picture||pe.teacherEmail&&Ne[pe.teacherEmail]&&Ne[pe.teacherEmail].picture||null,username:pe.username||(pe.teacherEmail?Ne[pe.teacherEmail]&&Ne[pe.teacherEmail].name:pe.username)}));d(oe)}else d(ne)}catch{d(ne)}try{const Se=await(await fetch("http://localhost:5000/attendance",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();if(Array.isArray(Se)){const Ne={};for(const oe of Se)Array.isArray(oe.marks)&&oe.marks.some(pe=>pe.studentEmail===o)&&(Ne[oe.id]=!0);K(Ne),O(Array.isArray(Se)?Se:[])}}catch{}}catch(ze){console.error("Failed to load announcements:",ze)}finally{b(!1)}})()},[]);const J=async fe=>{const ze=(p[fe]||"").trim();if(ze)try{const Ee=await fetch(`http://localhost:5000/announcement/${fe}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:ze})}),ne=await Ee.json();if(!Ee.ok){alert(ne.error||"Failed to add comment");return}d(we=>we.map(Se=>Se.id===fe?{...Se,comments:[...Se.comments,ne]}:Se)),j(we=>({...we,[fe]:""}))}catch(Ee){console.error(Ee),alert("Failed to add comment")}},G=fe=>{V(fe.id),D(fe.text),B(null)},se=async fe=>{if(!C)return;const ze=le.trim();if(!ze)return alert("Comment cannot be empty");try{const Ee=await fetch(`http://localhost:5000/announcement/${fe}/comments/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:ze})}),ne=await Ee.json();if(!Ee.ok){alert(ne.error||"Failed to edit comment");return}d(we=>we.map(Se=>Se.id===fe?{...Se,comments:Se.comments.map(Ne=>Ne.id===ne.id?ne:Ne)}:Se)),V(null),D("")}catch(Ee){console.error(Ee),alert("Failed to edit comment")}},me=async(fe,ze)=>{if(await window.customConfirm("Delete this comment?"))try{const Ee=await fetch(`http://localhost:5000/announcement/${fe}/comments/${ze}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),ne=await Ee.json();if(!Ee.ok){alert(ne.error||"Failed to delete comment");return}d(we=>we.map(Se=>Se.id===fe?{...Se,comments:Se.comments.filter(Ne=>Ne.id!==ze)}:Se)),B(null)}catch(Ee){console.error(Ee),alert("Failed to delete comment")}},E=fe=>{X(fe.id);try{const{text:ze,attendanceId:Ee}=Y(fe.description);_(ze||""),T(Ee)}catch{_(fe.description||""),T(null)}ee(!0),S(null)},z=async()=>{if(R)try{let fe=($||"").trim();de&&(fe=fe.replace(/\s*\[ATTENDANCE_ID:\d+\]/,"").trim(),fe=fe+` [ATTENDANCE_ID:${de}]`);const ze=await fetch(`http://localhost:5000/announcement/${R}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:fe})}),Ee=await ze.json();if(!ze.ok){alert(Ee.error||"Failed to update announcement");return}d(ne=>ne.map(we=>we.id===Ee.id?{...we,description:Ee.description}:we)),ee(!1),X(null),_(""),T(null)}catch(fe){console.error(fe),alert("Failed to update announcement")}},L=async fe=>{if(await window.customConfirm("Delete this announcement?"))try{const ze=await fetch(`http://localhost:5000/announcement/${fe}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});d(Ee=>Ee.filter(ne=>ne.id!==fe)),S(null)}catch(ze){console.error(ze),alert("Failed to delete announcement")}},Q=async fe=>{try{const ze=await fetch(`http://localhost:5000/attendance/${fe}/mark`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),Ee=await ze.json();if(!ze.ok){if(Ee&&Ee.error&&Ee.error.toLowerCase().includes("already")){K(ne=>({...ne,[fe]:!0}));return}alert(Ee.error||"Failed to mark attendance");return}K(ne=>({...ne,[fe]:!0}))}catch(ze){console.error(ze),alert("Failed to mark attendance")}},Y=fe=>{if(!fe)return{text:fe,attendanceId:null};const ze=fe.match(/\[ATTENDANCE_ID:(\d+)\]/);if(ze){const Ee=Number(ze[1]);let ne=fe.replace(/\s*\[ATTENDANCE_ID:\d+\]/,"");return ne=ne.replace(/\s*\s*Due:\s*[^\[]*/,"").trim(),{text:ne,attendanceId:Ee}}return{text:fe,attendanceId:null}},[Z,ce]=x.useState(!1),[ge,he]=x.useState(null),[xe,Ue]=x.useState(!1),[Be,Jt]=x.useState([]),Et=async fe=>{Ue(!0),he(fe);try{const[ze,Ee]=await Promise.all([fetch(`http://localhost:5000/attendance/${fe}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),fetch("http://localhost:5000/students",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})]),[ne,we]=await Promise.all([ze.json(),Ee.json()]);if(!ze.ok)alert(ne.error||"Failed to load present list"),Jt([]);else if(!Ee.ok)Jt(Array.isArray(ne.marks)?ne.marks.map(Se=>({studentEmail:Se.studentEmail,studentName:Se.studentName||Se.studentEmail,present:!0,markedAt:Se.createdAt})):[]);else{const Se=Array.isArray(ne.marks)?ne.marks:[],Ne=Array.isArray(we)?we:[],oe={};for(const je of Se)oe[je.studentEmail]=je;const pe=Ne.map(je=>{const Ye=oe[je.email];return{id:je.id,studentName:je.name||je.email,studentEmail:je.email,present:!!Ye,markedAt:Ye?Ye.createdAt:null}});for(const je of Se)Ne.find(Ye=>Ye.email===je.studentEmail)||pe.push({id:null,studentName:je.studentName||je.studentEmail,studentEmail:je.studentEmail,present:!0,markedAt:je.createdAt});Jt(pe)}}catch(ze){console.error("Failed to fetch present list",ze),alert("Failed to load present list"),Jt([])}finally{Ue(!1),ce(!0)}},Ct=(u||[]).filter(fe=>{try{const{attendanceId:ze}=Y(fe.description);return g==="attendance"?!!ze:g==="announcement"?!ze:!0}catch{return g!=="attendance"}});return l.jsxs("div",{className:"announcement-wrap",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>N("all"),style:{padding:"8px 12px",borderRadius:8,border:g==="all"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="all"?"#2563eb":"#fff",color:g==="all"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"All"}),l.jsx("button",{onClick:()=>N("announcement"),style:{padding:"8px 12px",borderRadius:8,border:g==="announcement"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="announcement"?"#2563eb":"#fff",color:g==="announcement"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Announcement"}),l.jsx("button",{onClick:()=>N("attendance"),style:{padding:"8px 12px",borderRadius:8,border:g==="attendance"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="attendance"?"#2563eb":"#fff",color:g==="attendance"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Attendance"})]}),l.jsx("h1",{className:"text-4xl font-bold mb-6",style:{margin:0},children:"Announcements"})]}),y&&l.jsx("p",{children:"Loading announcements..."}),!y&&u.length===0&&l.jsx("p",{children:"No announcements yet."}),!y&&Ct.length===0&&l.jsx("p",{children:"No items match this filter."}),!y&&Ct.map(fe=>{const Ee=(Array.isArray(fe.comments)?fe.comments:[]).slice().sort((ne,we)=>new Date(ne.createdAt).getTime()-new Date(we.createdAt).getTime());return l.jsxs("div",{className:"announcement-card",children:[l.jsx("div",{className:"announcement-menu-btn",onClick:()=>S(ne=>ne===fe.id?null:fe.id),"aria-label":"announcement menu",title:"Actions",children:""}),w===fe.id&&l.jsx("div",{className:"announcement-menu",children:fe.teacherEmail===o&&l.jsxs(l.Fragment,{children:[l.jsx("p",{onClick:()=>E(fe),children:" Edit"}),l.jsx("p",{onClick:()=>L(fe.id),children:" Delete"})]})}),l.jsxs("div",{className:"announcement-header",children:[l.jsx(ft,{src:fe.authorPicture||void 0,name:fe.username||fe.teacherEmail&&m[fe.teacherEmail]&&(m[fe.teacherEmail].username||m[fe.teacherEmail].name)||(fe.teacherEmail?.split("@")?.[0]??fe.teacherEmail),email:fe.teacherEmail,className:"announcement-avatar"}),l.jsxs("div",{className:"announcement-meta",children:[l.jsx("p",{children:fe.username||fe.teacherEmail&&m[fe.teacherEmail]&&(m[fe.teacherEmail].username||m[fe.teacherEmail].name)||(fe.teacherEmail?.split("@")?.[0]??fe.teacherEmail)}),l.jsxs("p",{children:[Yh(new Date(fe.createdAt))," - ",sj(new Date(fe.createdAt))]})]})]}),l.jsx("div",{className:"announcement-body",children:(()=>{const{text:ne,attendanceId:we}=Y(fe.description);return l.jsxs(l.Fragment,{children:[l.jsx("pre",{className:"announcement-text",children:ne}),fe.filePath&&(()=>{const Se=String(fe.filePath||""),Ne=fe.displayFileName||Se.split(/[/\\]/).pop()||Se,oe=(Ne.split(".").pop()||"").toLowerCase(),pe=Se.replace(/^[/\\]+/,"").replace(/\\/g,"/"),je=pe.includes("/")?`http://localhost:5000/${pe}`:`http://localhost:5000/uploads/announcements/${pe}`;return oe==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("iframe",{src:je,className:"gc-pdf-preview",title:Ne}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Ne}),l.jsx("a",{href:je,target:"_blank",rel:"noreferrer",download:Ne,className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Ne}),l.jsx("a",{href:je,target:"_blank",rel:"noreferrer",download:Ne,className:"gc-open-btn",children:"Open"})]})]})})(),we&&i?.role!=="teacher"&&l.jsx("div",{style:{marginTop:8},children:(()=>{const Se=A.find(pe=>pe.id===we),Ne=Se&&Se.dueDate?new Date(Se.dueDate):null,oe=Ne?Date.now()>Ne.getTime():!1;return k[we]?l.jsx("button",{className:"attendance-badge",disabled:!0,children:"PRESENT"}):oe?l.jsx("button",{className:"attendance-btn",disabled:!0,style:{background:"#ef4444"},children:"Time's Up"}):l.jsx("button",{className:"attendance-btn",style:{background:"#0ea5e9"},onClick:()=>Q(we),children:"Present"})})()}),we&&i?.role==="teacher"&&l.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:12},children:[l.jsx("button",{className:"attendance-btn",style:{background:"#0b74c9"},onClick:()=>Et(we),children:"SHOW PRESENT"}),(()=>{const Se=A.find(Ne=>Ne.id===we);if(Se&&Se.dueDate){const Ne=rj(Se.dueDate);if(!Ne)return null;if(Ne.status==="timesUp")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#ef4444",fontWeight:600},children:Ne.label});if(Ne.status==="relative")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:`(${Ne.label}) ${Ne.datePart}, ${Ne.timePart}`});if(Ne.status==="timeOnly")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:Ne.timePart});if(Ne.status==="date")return l.jsxs("div",{style:{fontSize:"0.9rem",color:"#374151",display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{children:`Due on ${Ne.datePart}`}),Ne.timePart&&l.jsx("span",{style:{fontWeight:600,color:"#374151"},children:Ne.timePart})]})}return null})()]})]})})()}),l.jsx("div",{className:"announcement-comments-list",children:Ee.map(ne=>l.jsxs("div",{className:"gc-comment",children:[l.jsx(ft,{src:ne.authorEmail===o?i&&i.picture:ne.authorPicture||m[ne.authorEmail]&&m[ne.authorEmail].picture,name:ne.username||ne.authorEmail&&m[ne.authorEmail]&&(m[ne.authorEmail].username||m[ne.authorEmail].name)||ne.authorName,email:ne.authorEmail,className:"gc-comment-avatar"}),l.jsxs("div",{className:"gc-comment-body",children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"baseline"},children:[l.jsx("p",{className:"gc-comment-author",children:ne.username||ne.authorEmail&&m[ne.authorEmail]&&(m[ne.authorEmail].username||m[ne.authorEmail].name)||ne.authorName}),l.jsx("p",{className:"gc-comment-time",children:Yh(new Date(ne.createdAt))}),ne.updatedAt&&new Date(ne.updatedAt)>new Date(ne.createdAt)&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#999"},children:"(edited)"})]}),C===ne.id?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"gc-comment-input",value:le,onChange:we=>D(we.target.value),style:{marginTop:8,marginBottom:8}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"gc-send-btn",onClick:()=>se(fe.id),style:{background:"#16a34a",fontSize:"0.9rem"},children:"Save"}),l.jsx("button",{className:"gc-send-btn",onClick:()=>V(null),style:{background:"#6b7280",fontSize:"0.9rem"},children:"Cancel"})]})]}):l.jsx("p",{className:"gc-comment-text",children:ne.text})]}),(ne.authorEmail===o||i?.role==="teacher"||i?.role==="superteacher")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"module-more-btn",onClick:()=>B(we=>we===ne.id?null:ne.id),children:""}),U===ne.id&&l.jsxs("div",{className:"module-dropdown",style:{right:12,top:28},children:[ne.authorEmail===o&&l.jsx("div",{className:"module-dropdown-item",onClick:()=>G(ne),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>me(fe.id,ne.id),children:" Delete"})]})]})]},ne.id))}),l.jsxs("div",{className:"announcement-comment",children:[l.jsx(ft,{src:i?.picture,name:i?.username||i?.name||"",email:o,className:"gc-comment-avatar small"}),l.jsx("input",{className:"announcement-input",placeholder:"Add a comment",value:p[fe.id]||"",onChange:ne=>j(we=>({...we,[fe.id]:ne.target.value})),onKeyDown:ne=>{ne.key==="Enter"&&J(fe.id)}}),l.jsx("button",{className:"gc-send-btn",onClick:()=>J(fe.id),title:"Send comment",children:""})]})]},fe.id)}),Z&&l.jsx("div",{className:"modal-overlay",onClick:()=>ce(!1),children:l.jsxs("div",{className:"modal-content",onClick:fe=>fe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Present List"}),l.jsx("div",{className:"modal-form",children:xe?l.jsx("p",{children:"Loading..."}):Be.length===0?l.jsx("p",{children:"No students have marked present."}):l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:Be.map(fe=>l.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #eee"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:fe.studentName}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:fe.studentEmail})]}),l.jsx("div",{children:fe.present?l.jsx("span",{style:{background:"#16a34a",color:"#fff",padding:"6px 10px",borderRadius:6,fontWeight:600},children:"PRESENT"}):l.jsx("span",{style:{background:"#e5e7eb",color:"#374151",padding:"6px 10px",borderRadius:6},children:"ABSENT"})})]},(fe.id||fe.studentEmail)+(fe.present?"-present":"-absent")))})}),l.jsx("div",{className:"modal-actions",children:l.jsx("button",{className:"modal-btn create",onClick:()=>ce(!1),children:"Close"})})]})}),H&&l.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:l.jsxs("div",{className:"modal-content",onClick:fe=>fe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Announcement"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{value:$,onChange:fe=>_(fe.target.value),className:"announcement-edit-box"})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>ee(!1),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:z,children:"Save"})]})]})})]})}function oj(){const[i,r]=x.useState([]),[o,u]=x.useState(!0);jt();const[d,m]=x.useState(null),[h,y]=x.useState([]),[b,p]=x.useState(!1),[j,C]=x.useState(!1),[V,le]=x.useState(null),[D,w]=x.useState(null);function S(A){return A?String(A).split(" ").filter(Boolean).map(O=>O.charAt(0).toUpperCase()+O.slice(1).toLowerCase()).join(" "):""}x.useEffect(()=>{let A=!0;return(async()=>{try{const N=await(await fetch("http://localhost:5000/auth/approved",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();A&&r(Array.isArray(N)?N:[])}catch(g){console.error("Error loading students",g),A&&r([])}finally{A&&u(!1)}})(),()=>A=!1},[]);const U=async A=>{m(A),p(!0);try{const g=await(await fetch("http://localhost:5000/quizzes/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json(),N=[];(Array.isArray(g)?g:[]).forEach(ee=>{(ee.quizzes||[]).forEach(R=>N.push({...R,moduleTitle:ee.title}))});const H=await Promise.all(N.map(async ee=>{try{const R=await fetch(`http://localhost:5000/quizzes/${ee.id}/scores`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!R.ok)return{quiz:ee,score:null};const X=await R.json(),$=Array.isArray(X)?X.find(_=>_.studentEmail&&_.studentEmail===A.email||_.email&&_.email===A.email||_.studentId&&(_.studentId===A.id||_.studentId===Number(A.id))):null;return{quiz:ee,score:$?$.score:null}}catch{return{quiz:ee,score:null}}}));y(H.map(ee=>({id:ee.quiz.id,title:ee.quiz.title,totalPoints:ee.quiz.totalPoints||null,score:ee.score})))}catch(O){console.error("Failed to load quizzes/scores",O),y([])}finally{p(!1)}},B=async A=>{try{const O=A.startsWith("http")?A:`http://localhost:5000${A}`,g=await fetch(O,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!g.ok){alert("Failed to download file");return}const N=await g.blob(),H=URL.createObjectURL(N),ee=document.createElement("a");ee.href=H;const R=A.split("/");ee.download=R[R.length-1]||"download",document.body.appendChild(ee),ee.click(),ee.remove(),URL.revokeObjectURL(H)}catch(O){console.error("Download error",O),alert("Download failed")}},k=(A,O)=>{if(!A)return null;const g=String(A),N=g.startsWith("http")?g:`http://localhost:5000${g}`,H=g.split("/").pop(),ee=(H||"").split(".").pop()?.toLowerCase(),X=Object.assign({},{width:"100%",borderRadius:8,border:"1px solid #eef0f3",background:"#fff",overflow:"hidden"},{display:"flex",alignItems:"center",gap:12,padding:10}),$={width:120,height:80,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:4,background:"#f7fafc"};return ee==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:X,children:[l.jsx("div",{className:"gc-pdf-preview",style:$,children:l.jsx("iframe",{src:N,title:H,style:{width:"100%",height:"100%",border:"none"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:H}),l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>B(A),style:{marginLeft:8},className:"quiz-view-btn",children:"Download"})]})]})]},O):["png","jpg","jpeg","gif","webp"].includes(ee)?l.jsxs("div",{className:"gc-pdf-card",style:X,children:[l.jsx("div",{className:"gc-pdf-preview",style:$,children:l.jsx("img",{src:N,alt:H,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:H}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O):l.jsxs("div",{className:"gc-pdf-card",style:X,children:[l.jsx("div",{className:"gc-pdf-preview",style:$,children:l.jsx("div",{style:{fontSize:28},children:""})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:H}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O)},K=async A=>{if(d){C(!0);try{const O=await fetch(`http://localhost:5000/quizzes/${A.id}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),g=O.ok?await O.json():null;le(g);const N=await fetch(`http://localhost:5000/quizzes/${A.id}/attempts/list`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),H=N.ok?await N.json():[],R=(Array.isArray(H)?H:[]).filter(X=>X.studentEmail===d.email||X.studentId===d.id||X.studentId===Number(d.id));R.length===0?w(null):(R.sort((X,$)=>{const _=X.createdAt?new Date(X.createdAt).getTime():X.id||0;return($.createdAt?new Date($.createdAt).getTime():$.id||0)-_}),w(R[0]))}catch(O){console.error("Failed loading quiz/attempts for direct view",O),alert("Failed to load quiz or attempts")}finally{C(!1)}}};return l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Grades"})}),l.jsx("div",{className:"page-content card-container approvals-list",children:o?l.jsx("p",{children:"Loading..."}):i.length===0?l.jsx("p",{style:{textAlign:"center",padding:"1rem",color:"#777"},children:"No students found."}):i.map(A=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ft,{name:A.name,email:A.email||null,className:"avatar-small"}),l.jsx("div",{className:"student-name",children:S(A.name)})]}),l.jsx("div",{className:"row-right",children:l.jsx("button",{className:"approval-btn approval-approve",onClick:()=>U(A),children:"View"})})]},A.id))}),d&&l.jsx("div",{className:"modal-overlay",onClick:()=>{m(null),y([])},children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-header-left",children:[l.jsx(ft,{name:d.name,email:d.email||null,className:"tqv-pfp"}),l.jsxs("div",{children:[l.jsx("div",{className:"student-fullname",children:S(d.name)}),l.jsx("div",{className:"student-email",children:d.email||""})]})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn tqv-close-text",title:"Close","aria-label":"Close",onClick:()=>{m(null),y([])},children:"Close"})})]}),l.jsx("h3",{className:"modal-title",children:"Quizzes & Scores"}),l.jsx("div",{className:"student-modal-divider"}),b?l.jsx("p",{children:"Loading..."}):h.length===0?l.jsx("p",{className:"muted",children:"No quizzes found or no scores available."}):l.jsx("div",{children:h.map(A=>l.jsxs("div",{className:"quiz-row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"quiz-title",children:A.title}),A.totalPoints!==null&&l.jsxs("div",{className:"quiz-meta",children:[A.totalPoints," Item(s)"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{className:"quiz-score",style:{color:A.score!==null&&A.score!==void 0?"#111":"#666"},children:A.score!==null&&A.score!==void 0?`${A.score}${A.totalPoints?`/${A.totalPoints}`:""}`:l.jsx("span",{className:"score-missing",children:"missing"})}),l.jsx("button",{className:"tqv-view-btn",onClick:()=>K(A),children:"View"})]})]},A.id))})]})}),V&&l.jsx("div",{className:"modal-overlay",onClick:()=>{w(null),le(null)},children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{children:[l.jsx("strong",{children:D?.name||D?.email||"Student Attempt"}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:D?.createdAt?new Date(D.createdAt).toLocaleString():""})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn",onClick:()=>{w(null),le(null)},children:"Close"})})]}),j?l.jsx("p",{children:"Loading attempt..."}):l.jsxs("div",{children:[D&&D.noAttempt&&l.jsxs("div",{style:{padding:10,background:"#fff7e6",border:"1px solid #ffe5b4",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"No attempt found."})," Showing the quiz questions and correct answers only."]}),D&&D.submittedFiles&&D.submittedFiles.length>0&&l.jsxs("div",{style:{padding:10,background:"#f7f9ff",border:"1px solid #e1e9ff",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"Submitted files (module):"}),l.jsx("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:8},children:D.submittedFiles.map((A,O)=>k(A,O))})]}),l.jsx("h3",{style:{marginTop:0},children:"Answers"}),l.jsx("div",{className:"student-modal-divider"}),(V?.questions||[]).map((A,O)=>{let g=[];try{if(D&&D.answers)if(Array.isArray(D.answers))g=D.answers;else{const X=typeof D.answers=="string"?JSON.parse(D.answers):D.answers;Array.isArray(X)?g=X:X&&typeof X=="object"&&(g=Object.entries(X).map(([$,_])=>({questionId:Number($),answer:_})))}}catch{g=[]}const N=g.find(X=>X.questionId===A.id||X.qid===A.id||X.questionId===Number(A.id));let H=[];try{H=A.options?Array.isArray(A.options)?A.options:JSON.parse(A.options):[]}catch{H=[]}const ee=N?N.answer??N.selected??N.value??null:null;let R=[];try{if(N){if(Array.isArray(N.files)&&N.files.length>0)R=N.files;else if(Array.isArray(N.uploads)&&N.uploads.length>0)R=N.uploads;else if(typeof N.answer=="string")try{const X=JSON.parse(N.answer);Array.isArray(X)&&X.length>0&&X.every($=>typeof $=="string")&&(R=X)}catch{if(N.answer&&(N.answer.includes("/uploads")||N.answer.startsWith("/")))R=[N.answer];else if(N.answer&&N.answer.startsWith("__FILE__:"))try{const _=N.answer.split(":").slice(2).join(":");if(_&&D&&Array.isArray(D.submittedFiles)){const de=D.submittedFiles.filter(T=>String(T).endsWith(_)||String(T).includes(_));de.length&&(R=de)}}catch{}}}}catch{R=[]}return l.jsxs("div",{style:{padding:"10px 8px",borderBottom:"1px solid #f1f1f1"},children:[l.jsxs("div",{style:{fontWeight:600},children:["Question ",O+1]}),l.jsx("div",{style:{marginTop:6},children:A.question}),H.length>0?l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Options:"}),l.jsx("div",{style:{marginTop:8},children:H.map((X,$)=>{const _=A.answer!==void 0&&A.answer!==null&&String(X)===String(A.answer),de=ee!==null&&String(X)===String(ee),T={padding:"8px 10px",borderRadius:6,marginBottom:6,border:"1px solid #eef0f3",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"};return de?_?(T.background="#e6ffed",T.border="1px solid #7be29a"):(T.background="#ffecec",T.border="1px solid #ff9b9b"):_&&(T.background="#f3fff6",T.border="1px solid #9ee3b5"),l.jsxs("div",{style:T,children:[l.jsx("div",{style:{flex:1},children:X}),l.jsx("div",{style:{marginLeft:12,fontSize:12,color:"#444",minWidth:80,textAlign:"right"},children:de?l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:_?"#0f9d58":"#e55a4e",color:"#fff",fontSize:12},children:_?"Selected - correct":"Selected - wrong"}):null})]},$)})})]}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Student answer:"}),l.jsx("div",{style:{marginTop:6,color:ee?"#111":"#666"},children:(()=>{const X=$=>{if(!$||typeof $!="string")return!1;const _=$.toLowerCase();return!!(_.startsWith("/")||_.includes("/uploads/")||/\.(pdf|png|jpg|jpeg|gif|webp)$/i.test(_))};if(R&&R.length>0)return l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:R.map(($,_)=>k($,_))});if(X(ee))return l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:k(ee,0)});if(ee){if(A.type==="Identification"){const $=(A.answer||"").toString().trim().toLowerCase()===String(ee).toString().trim().toLowerCase();return l.jsx("div",{style:{marginTop:8},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:10,borderRadius:8,background:$?"#e6ffed":"#ffecec",border:$?"1px solid #7be29a":"1px solid #ff9b9b"},children:[l.jsx("div",{style:{flex:1},children:String(ee)}),l.jsx("div",{style:{marginLeft:12},children:$?null:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:"#e55a4e",color:"#fff",fontSize:12},children:"wrong"})})]})})}return String(ee)}return l.jsx("em",{children:"No answer"})})()}),A.answer&&l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Correct answer:"}),l.jsx("div",{style:{marginTop:6,color:"#666"},children:A.answer})]})]})]},A.id)})]})]})})]})}function uj(){const[i,r]=x.useState([]),[o,u]=x.useState(null),[d,m]=x.useState(null),[h,y]=x.useState({}),b=jt();x.useEffect(()=>{(async()=>{try{const w=await fetch("http://localhost:5000/quizzes/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!w.ok){console.error("Failed to load quizzes");return}const S=await w.json();r(Array.isArray(S)?S:[])}catch(w){console.error("Error fetching quizzes:",w)}})()},[]);const p=D=>{u(w=>w===D?null:D),m(null)},j=D=>{if(!D)return"No Due Date";const w=String(D).split("T"),S=w[0]||"",U=w[1]?w[1].split("Z")[0].split("+")[0]:"",B=U?U.slice(0,5):"";if(S==="1970-01-01")return B?`Due: ${new Date(`1970-01-01T${B}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`:"Due: --:--";if(!B){const[K,A,O]=S.split("-").map(N=>Number(N));if(!K||!A||!O)return`Due: ${S}`;const g=new Date(K,A-1,O,23,59,0,0);return`Due: ${g.toLocaleDateString()} ${g.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`}const k=new Date(D);return isNaN(k.getTime())?"No Due Date":`Due: ${k.toLocaleDateString()} ${k.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`},C=D=>{b("/teacher/quiz-builder",{state:{quizId:D.id,moduleId:D.moduleId,title:D.title}})},V=async D=>{if(await window.customConfirm("Delete this quiz? This action cannot be undone."))try{const w=await fetch(`http://localhost:5000/quizzes/${D}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!w.ok){const S=await w.json().catch(()=>null);console.error("Delete quiz failed",S),alert("Failed to delete quiz");return}r(S=>S.map(U=>({...U,quizzes:(U.quizzes||[]).filter(B=>B.id!==D)}))),y(S=>{const U={...S};return delete U[D],U}),d===D&&m(null),alert("Quiz deleted")}catch(w){console.error("Error deleting quiz:",w),alert("Error deleting quiz")}},le=async(D,w)=>{if(await window.customConfirm("Delete this question?"))try{if(!(await fetch(`http://localhost:5000/quizzes/question/${D}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok){console.error("Failed to delete question"),alert("Failed to delete question");return}y(U=>{const B=U[w];return B?{...U,[w]:{...B,questions:B.questions.filter(k=>k.id!==D)}}:U}),alert("Question deleted")}catch(S){console.error("Error deleting question:",S),alert("Error deleting question")}};return l.jsxs("div",{className:"page-wrap",children:[l.jsxs("div",{className:"page-header-box",children:[l.jsx("h1",{className:"page-title",children:"Quizzes"}),l.jsx("p",{className:"page-subtitle",children:"Module-Specific Quizzes"})]}),l.jsxs("div",{className:"quiz-module-list",children:[i.length===0&&l.jsx("p",{className:"empty-text",children:"No quizzes created yet."}),i.map((D,w)=>l.jsxs("div",{className:"module-block",children:[l.jsxs("div",{className:"module-block-header",onClick:()=>p(D.id),children:[l.jsx("h2",{className:"module-title",children:D.title}),o===D.id?l.jsx(Hp,{size:20}):l.jsx(qp,{size:20})]}),o===D.id&&l.jsxs("div",{className:"module-block-content",children:[D.description&&l.jsx("p",{className:"module-desc",children:D.description}),D.document&&l.jsx("a",{href:`http://localhost:5000/${D.document}`,target:"_blank",rel:"noopener noreferrer",className:"module-doc-link",children:" View Attached Document"}),l.jsx("h3",{className:"module-subtitle",children:"Quizzes"}),(D.quizzes??[]).length===0&&l.jsx("p",{children:"No quizzes yet for this module"}),(D.quizzes??[]).map(S=>{const U=d===S.id,B=h[S.id];return l.jsxs("div",{className:"quiz-item",children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{className:"quiz-title",children:S.title}),l.jsxs("p",{className:"quiz-meta",children:[B&&Array.isArray(B.questions)?B.questions.reduce((k,K)=>k+(Number(K.points)||1),0):S.totalPoints??0," pts "," ",j(S.dueDate)]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>b(`/teacher/quiz/${S.id}/view`),children:"View"}),l.jsx("button",{type:"button",className:"quiz-edit-btn",onClick:()=>C({id:S.id,title:S.title,moduleId:D.id}),title:"Edit quiz",children:l.jsx(Qp,{size:16})}),l.jsx("button",{type:"button",className:"quiz-delete-btn",onClick:()=>V(S.id),title:"Delete quiz",children:l.jsx(ar,{size:16})})]}),U&&B&&l.jsxs("div",{className:"quiz-questions",children:[B.questions.length===0&&l.jsx("p",{children:"No questions yet."}),B.questions.map(k=>{let K=[],A=[];try{K=k.options?JSON.parse(k.options):[]}catch{}try{A=k.files?JSON.parse(k.files):[]}catch{}return l.jsxs("div",{className:"quiz-question-item",children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("p",{style:{margin:0,fontWeight:600},children:k.question||"(no text)"}),l.jsx("span",{style:{fontSize:12,color:"#666"},children:`${Number(k.points)||1} pts`})]}),l.jsxs("small",{children:["Type: ",k.type]}),K.length>0&&l.jsx("div",{children:l.jsxs("small",{children:["Options: ",K.join(" | ")]})}),l.jsx("div",{children:l.jsxs("small",{children:["Answer: ",k.answer||"(none)"]})}),A.length>0&&l.jsxs("div",{children:[l.jsx("small",{children:"Files:"}),l.jsx("ul",{children:A.map((O,g)=>l.jsx("li",{children:l.jsx("a",{href:`http://localhost:5000${O}`,target:"_blank",rel:"noreferrer",children:O})},g))})]})]}),l.jsx("div",{style:{display:"flex",gap:8},children:l.jsx("button",{className:"delete-option-btn",onClick:()=>le(k.id,S.id),title:"Delete question",children:l.jsx(ar,{size:14})})})]},k.id)})]}),U&&!B&&l.jsx("div",{className:"loader-small",children:"Loading..."})]},S.id)})]})]},D.id??`mod-${w}`))]})]})}function dj(){const[i,r]=x.useState([]),o=h=>h?String(h).split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"",u=async()=>{const h=await Ke.get("http://localhost:5000/auth/pending",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});r(h.data)},d=async h=>{try{await Ke.post(`http://localhost:5000/auth/approve/${h}`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),r(y=>y.filter(b=>b.id!==h));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}catch(y){console.error("Approve failed",y),alert("Failed to approve registrant"),u()}},m=async h=>{if(await window.customConfirm("Reject this registrant?"))try{await Ke.post(`http://localhost:5000/auth/deny/${h}`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),r(y=>y.filter(b=>b.id!==h));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}catch(y){console.error("Deny failed",y),alert("Failed to reject registrant"),u()}};return x.useEffect(()=>{u()},[]),l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Pending Registrants"})}),l.jsx("div",{className:"card-container",children:i.length===0?l.jsx("p",{style:{textAlign:"center",padding:"1rem",color:"#777"},children:"No Pending Registrants."}):i.map(h=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ft,{name:h.name,email:h.email||null,className:"avatar-small"}),l.jsxs("div",{children:[l.jsx("div",{className:"student-name",children:o(h.name)}),l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:h.email||""})]})]}),l.jsxs("div",{className:"row-right",children:[l.jsx("button",{className:"approval-btn approval-approve",onClick:()=>d(h.id),children:"Approve"}),l.jsx("button",{className:"approval-btn approval-reject",onClick:()=>m(h.id),style:{marginLeft:"10px"},children:"Reject"})]})]},h.id))})]})}function fj(){const i=jt(),{state:r}=xn(),o=r?.quizId;r?.moduleId;const[u,d]=x.useState(""),[m,h]=x.useState(""),[y,b]=x.useState(""),[p,j]=x.useState(""),[C,V]=x.useState([{type:"Multiple Choice",question:"",options:["",""],answer:"",points:1,files:[]}]);x.useEffect(()=>{if(!r?.questions)return;if(d(r.description||""),h(r.timeLimit?String(r.timeLimit):""),r.dueDate){const O=r.dueDate.split("T"),g=O[0]||"",N=O[1]?O[1].split("Z")[0].split("+")[0]:"",H=N?N.slice(0,5):"";g==="1970-01-01"?(b(""),j(H)):(b(g),j(H))}else b(""),j("");const A=r.questions.map(O=>({type:O.type,question:O.question,options:O.options?JSON.parse(O.options):[],answer:O.answer,points:O.points!==void 0?O.points:1,files:O.files?JSON.parse(O.files):[]}));V(A)},[r]);const le=()=>{V([...C,{type:"Multiple Choice",question:"",options:["",""],answer:"",points:1,files:[]}])},D=A=>{C.length!==1&&V(C.filter((O,g)=>g!==A))},w=(A,O,g)=>{const N=[...C];N[A][O]=g,O==="type"&&(g==="Multiple Choice"?(N[A].options=["",""],N[A].answer=""):g==="Identification"?(N[A].options=[],N[A].answer=""):g==="Activity"&&(N[A].options=[],N[A].answer="",N[A].files=[])),V(N)},S=A=>{const O=[...C];O[A].options.push(""),V(O)},U=(A,O)=>{const g=[...C];g[A].options.splice(O,1),V(g)},B=(A,O,g)=>{const N=[...C];N[A].options[O]=g,V(N)},k=(A,O)=>{const g=[...C];g[A].files=O,V(g)},K=async()=>{try{const A=new FormData;A.append("quizId",o),A.append("description",u),A.append("timeLimit",m);let O="";y?O=p?`${y}T${p}`:y:p?O=`1970-01-01T${p}`:O="",A.append("dueDate",O);const g=C.map(H=>({type:H.type,question:H.question,options:H.options,answer:H.answer,points:H.points??1}));A.append("questions",JSON.stringify(g)),C.forEach((H,ee)=>{H.type==="Activity"&&Array.isArray(H.files)&&H.files.forEach(R=>{R instanceof File&&A.append(`files_q${ee}`,R)})});const N=localStorage.getItem("token");await Ke.post("http://localhost:5000/quizzes/save-questions",A,{headers:{Authorization:`Bearer ${N}`,"Content-Type":"multipart/form-data"}}),alert("Quiz saved!");try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}i("/teacher/quizzes")}catch(A){console.error("Error saving quiz:",A),alert("Error saving quiz")}};return l.jsxs("div",{className:"quiz-builder-container",children:[l.jsx("h1",{children:"Quiz Builder"}),l.jsxs("div",{className:"quiz-card",children:[l.jsx("label",{children:"Description"}),l.jsx("textarea",{value:u,onChange:A=>d(A.target.value)}),l.jsx("label",{children:"Time Limit (minutes)"}),l.jsx("input",{type:"number",value:m,onChange:A=>h(A.target.value)}),l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{children:"Due Date"}),l.jsx("input",{type:"date",value:y,onChange:A=>b(A.target.value)})]}),l.jsxs("div",{style:{width:170},children:[l.jsx("label",{children:"Time"}),l.jsx("input",{type:"time",value:p,onChange:A=>j(A.target.value)})]})]})]}),l.jsx("h2",{children:"Questions"}),C.map((A,O)=>l.jsxs("div",{className:"quiz-card",children:[l.jsx("label",{children:"Question Text"}),l.jsx("input",{type:"text",value:A.question,onChange:g=>w(O,"question",g.target.value),placeholder:"Enter question"}),A.type!=="Activity"&&l.jsxs("div",{className:"question-points",style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:[l.jsx("label",{style:{fontSize:12,color:"#666",marginRight:8},children:"Points"}),l.jsx("input",{type:"number",min:0,value:A.points??1,onChange:g=>w(O,"points",Number(g.target.value)),style:{width:72,padding:"6px 8px",borderRadius:6,border:"1px solid #ddd"}})]}),l.jsx("label",{children:"Question Type"}),l.jsxs("select",{value:A.type,onChange:g=>w(O,"type",g.target.value),children:[l.jsx("option",{value:"Multiple Choice",children:"Multiple Choice"}),l.jsx("option",{value:"Identification",children:"Identification"}),l.jsx("option",{value:"Activity",children:"Activity"})]}),A.type==="Multiple Choice"&&l.jsxs(l.Fragment,{children:[l.jsx("label",{children:"Options"}),A.options.map((g,N)=>l.jsxs("div",{className:"option-row",children:[l.jsx("input",{type:"text",value:g,placeholder:`Option ${N+1}`,onChange:H=>B(O,N,H.target.value)}),l.jsx("button",{className:"delete-option-btn",onClick:()=>U(O,N),children:""})]},N)),l.jsx("button",{className:"add-option-btn",onClick:()=>S(O),children:"+ Add Option"}),l.jsx("label",{children:"Correct Answer"}),l.jsxs("select",{value:A.answer,onChange:g=>w(O,"answer",g.target.value),children:[l.jsx("option",{value:"",children:"-- Select Answer --"}),A.options.map((g,N)=>l.jsx("option",{value:g,children:g},N))]})]}),A.type==="Identification"&&l.jsxs(l.Fragment,{children:[l.jsx("label",{children:"Correct Answer"}),l.jsx("input",{type:"text",value:A.answer,placeholder:"Correct answer",onChange:g=>w(O,"answer",g.target.value)})]}),A.type==="Activity"&&l.jsxs(l.Fragment,{children:[l.jsx("label",{children:"Upload File(s)"}),l.jsx("input",{type:"file",multiple:!0,onChange:g=>k(O,Array.from(g.target.files||[]))}),Array.isArray(A.files)&&A.files.map((g,N)=>typeof g=="string"&&l.jsxs("p",{style:{fontSize:"14px"},children:[" Existing File:"," ",l.jsx("a",{href:`http://localhost:5000${g}`,target:"_blank",rel:"noreferrer",children:g})]},N))]}),l.jsx("div",{className:"question-tools",children:l.jsx("button",{onClick:()=>D(O),children:" Delete"})})]},O)),l.jsxs("div",{className:"quiz-actions",children:[l.jsx("button",{className:"add-option-btn",onClick:le,children:"+ Add Question"}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsx("button",{className:"save-quiz-btn",onClick:K,children:"Save Quiz"}),l.jsx("button",{className:"cancel-quiz-btn",onClick:()=>i("/teacher/dashboard"),children:"Cancel"})]})]})]})}function $h(i){const r=new Date(i),u=Math.floor((new Date().getTime()-r.getTime())/1e3),d={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const m in d){const h=Math.floor(u/d[m]);if(h>=1)return`${h} ${m}${h>1?"s":""} ago`}return"Just now"}function Vh(){const{id:i}=ir(),{user:r}=Bt(),[o,u]=x.useState(null),[d,m]=x.useState([]),[h,y]=x.useState(""),[b,p]=x.useState({}),[j,C]=x.useState(null),[V,le]=x.useState(null),[D,w]=x.useState(""),S=localStorage.getItem("email")??"";x.useEffect(()=>{U(),B()},[i]);const U=async()=>{try{const N=await(await fetch(`http://localhost:5000/modules/${i}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();try{const H=await fetch("/api/auth/teachers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(H.ok){const ee=await H.json(),R=Array.isArray(ee)&&N.teacherEmail?ee.find($=>$.email===N.teacherEmail):null,X={};if(Array.isArray(ee))for(const $ of ee)$.email&&(X[$.email]=$);p(X),p(X),u({...N,teacherPicture:R?R.picture:N.picture||null,teacherName:R?R.username||R.name:N.teacherName||null,quizzes:Array.isArray(N.quizzes)?N.quizzes:[]})}else u({...N,teacherPicture:N.picture||null,teacherName:N.teacherName||null,quizzes:Array.isArray(N.quizzes)?N.quizzes:[]})}catch{u({...N,teacherPicture:N.picture||null,teacherName:N.teacherName||null,quizzes:Array.isArray(N.quizzes)?N.quizzes:[]})}}catch(g){console.error(g)}},B=async()=>{try{const N=await(await fetch(`http://localhost:5000/module-comments/${i}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();m(Array.isArray(N)?N:[])}catch(g){console.error("Error loading comments:",g)}},k=async()=>{if(h.trim())try{const g=await fetch(`http://localhost:5000/module-comments/${i}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:h})});if(!g.ok){const N=await g.json().catch(()=>null);console.error("Failed to post comment:",N),alert("Failed to post comment");return}y(""),B()}catch(g){console.error("Error posting comment:",g),alert("Error posting comment")}},K=async g=>{if(await window.customConfirm("Delete this comment?"))try{const N=await fetch(`http://localhost:5000/module-comments/delete/${g}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!N.ok){const H=await N.json().catch(()=>null);console.error("Failed to delete comment:",H),alert("Failed to delete comment");return}C(null),B()}catch(N){console.error("Error deleting comment:",N),alert("Error deleting comment")}},A=g=>{le(g.id),w(g.text),C(null)},O=async g=>{if(D.trim())try{const N=await fetch(`http://localhost:5000/module-comments/${g}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:D})});if(!N.ok){const H=await N.json().catch(()=>null);console.error("Failed to edit comment:",H),alert("Failed to edit comment");return}le(null),w(""),B()}catch(N){console.error("Error editing comment:",N),alert("Error editing comment")}};return o?l.jsxs("div",{className:"gc-module-page",children:[l.jsx("div",{className:"gc-header",children:l.jsxs("div",{className:"gc-header-left",children:[l.jsx(ft,{src:o.teacherPicture||void 0,name:o.teacherName||o.teacherEmail.split("@")[0],email:o.teacherEmail,className:"gc-profile-circle"}),l.jsxs("div",{children:[l.jsx("h1",{className:"gc-title",children:o.teacherName||o.teacherEmail.split("@")[0]}),l.jsx("p",{className:"gc-subtitle",children:o.teacherEmail}),o.createdAt&&l.jsxs("p",{className:"gc-date-small",children:["Posted ",$h(o.createdAt)]})]})]})}),l.jsxs("div",{className:"gc-material-card",children:[l.jsx("h1",{className:"gc-section-title",children:o.title}),l.jsx("hr",{style:{margin:"10px 0",opacity:.3}}),o.description&&l.jsx("p",{style:{marginBottom:"15px"},children:o.description}),l.jsx("hr",{style:{margin:"10px 0",opacity:.3}}),!o.documentPath&&l.jsx("p",{children:"No material uploaded."}),o.documentPath&&(()=>{const g=o.documentPath.split("\\").pop()?.split("/").pop();return g?.split(".").pop()?.toLowerCase()==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:`http://localhost:5000/${o.documentPath}`,className:"gc-pdf-preview"}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:g}),l.jsx("a",{href:`http://localhost:5000/${o.documentPath}`,target:"_blank",className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:g}),l.jsx("a",{href:`http://localhost:5000/${o.documentPath}`,target:"_blank",className:"gc-open-btn",children:"Open"})]})]})})(),(o.videoPath||o.mediaPath||o.videoUrl||o.mediaUrl)&&(()=>{const g=o.videoPath||o.mediaPath||null,N=o.videoUrl||o.mediaUrl||null;return l.jsxs("div",{className:"gc-media-card",children:[g&&(()=>{const H=String(g).split("\\").pop()?.split("/").pop(),ee=H?.split(".").pop()?.toLowerCase();return ee==="mp4"||ee==="webm"||ee==="mkv"?l.jsx("video",{src:`http://localhost:5000/${g}`,controls:!0,className:"gc-pdf-preview"}):ee==="mp3"||ee==="wav"||ee==="ogg"?l.jsx("audio",{src:`http://localhost:5000/${g}`,controls:!0,className:"gc-audio-preview"}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:H}),l.jsx("a",{href:`http://localhost:5000/${g}`,target:"_blank",className:"gc-open-btn",children:"Open"})]})]})})(),N&&(()=>{const H=String(N).trim(),ee=H.match(/(?:youtube\.com.*(?:v=|\/embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{6,})/);if(ee){const X=`https://www.youtube.com/embed/${ee[1]}`;return l.jsx("iframe",{src:X,className:"gc-pdf-preview",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}const R=H.match(/vimeo\.com\/(?:video\/)?(\d+)/);if(R){const X=`https://player.vimeo.com/video/${R[1]}`;return l.jsx("iframe",{src:X,className:"gc-pdf-preview",title:"Vimeo video",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})}return H.match(/\.(mp3|wav|ogg)(?:\?.*)?$/i)?l.jsx("audio",{src:H,controls:!0,className:"gc-audio-preview"}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:H,target:"_blank",rel:"noreferrer",className:"module-doc-link",children:H})]})})()]})})()]}),l.jsxs("div",{className:"gc-comments-section",children:[l.jsx("h3",{className:"gc-section-title",children:"Class comments"}),l.jsx("div",{className:"gc-comment-list",children:d.map(g=>l.jsxs("div",{className:"gc-comment",children:[l.jsx(ft,{src:g.authorEmail===S?r&&r.picture:g.authorPicture||b[g.authorEmail]&&b[g.authorEmail].picture,name:g.username||g.authorEmail&&b[g.authorEmail]&&(b[g.authorEmail].username||b[g.authorEmail].name)||g.authorName,email:g.authorEmail,className:"gc-comment-avatar"}),l.jsxs("div",{className:"gc-comment-body",children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"baseline"},children:[l.jsx("p",{className:"gc-comment-author",children:g.username||g.authorEmail&&b[g.authorEmail]&&(b[g.authorEmail].username||b[g.authorEmail].name)||g.authorName}),l.jsx("p",{className:"gc-comment-time",children:$h(g.createdAt)}),g.updatedAt&&new Date(g.updatedAt)>new Date(g.createdAt)&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#999"},children:"(edited)"})]}),V===g.id?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"gc-comment-input",value:D,onChange:N=>w(N.target.value),style:{marginTop:8,marginBottom:8}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"gc-send-btn",onClick:()=>O(g.id),style:{background:"#16a34a",fontSize:"0.9rem"},children:"Save"}),l.jsx("button",{className:"gc-send-btn",onClick:()=>le(null),style:{background:"#6b7280",fontSize:"0.9rem"},children:"Cancel"})]})]}):l.jsx("p",{className:"gc-comment-text",children:g.text})]}),(S===g.authorEmail||r?.role==="teacher"||r?.role==="superteacher")&&l.jsxs("div",{style:{marginLeft:8,position:"relative"},children:[l.jsx("button",{className:"module-more-btn",onClick:()=>C(N=>N===g.id?null:g.id),children:""}),j===g.id&&l.jsxs("div",{className:"module-dropdown",style:{left:"100%",top:28},children:[(S===g.authorEmail||r?.role==="teacher"||r?.role==="superteacher")&&l.jsx("div",{className:"module-dropdown-item",onClick:()=>A(g),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>K(g.id),children:" Delete"})]})]})]},g.id))}),l.jsxs("div",{className:"gc-comment-input-row",children:[l.jsx(ft,{src:r?.picture,name:r?.name||S.split("@")[0],email:r?.email||S,className:"gc-comment-avatar small"}),l.jsx("input",{className:"gc-comment-input",placeholder:"Add class comment...",value:h,onChange:g=>y(g.target.value),onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),k())}}),l.jsx("button",{className:"gc-send-btn",onClick:k,children:""})]})]})]}):l.jsx("p",{children:"Loading..."})}function mj(){const{id:i}=ir(),r=jt(),[o,u]=x.useState(null),[d,m]=x.useState(!0),[h,y]=x.useState("test"),[b,p]=x.useState([]),[j,C]=x.useState(null),[V,le]=x.useState(!1),[D,w]=x.useState(!0),[S,U]=x.useState(!0),[B,k]=x.useState(!1),K=x.useRef(null);x.useEffect(()=>{(async()=>{try{const $=await(await fetch(`http://localhost:5000/quizzes/${i}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();u($)}catch(X){console.error("Failed to load quiz",X)}finally{m(!1)}})(),A()},[i]),x.useEffect(()=>{const R=X=>{B&&K.current&&!K.current.contains(X.target)&&k(!1)};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[B]);const A=async()=>{try{const X=await(await fetch(`http://localhost:5000/quizzes/${i}/scores`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();p(Array.isArray(X)?X:[])}catch(R){console.error("Failed to load scores",R)}},O=async R=>{try{const X=R.startsWith("http")?R:`http://localhost:5000${R}`,$=await fetch(X,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!$.ok){alert("Failed to download file");return}const _=await $.blob(),de=URL.createObjectURL(_),T=document.createElement("a");T.href=de;const J=R.split("/");T.download=J[J.length-1]||"download",document.body.appendChild(T),T.click(),T.remove(),URL.revokeObjectURL(de)}catch(X){console.error("Download error",X),alert("Download failed")}},g=R=>{if(!R||typeof R!="string")return[];let X=R.trim();if((X.startsWith('"')&&X.endsWith('"')||X.startsWith("'")&&X.endsWith("'"))&&(X=X.slice(1,-1)),X=X.replace(/\\\\/g,"\\").replace(/\\/g,"/"),X.startsWith("["))try{const de=JSON.parse(X);if(Array.isArray(de))return de.map(String)}catch{}const $=/(https?:\/\/[^\s"']+|\/uploads\/[^\s"']+)/g,_=X.match($);return _&&_.length?_.map(de=>de.trim()):X.startsWith("/")||X.includes("/uploads/")||/\.(pdf|png|jpg|jpeg|gif|webp|docx?|pptx?)$/i.test(X)?[X]:[]},N=(R,X)=>{if(!R)return null;const $=String(R),_=$.startsWith("http")?$:`http://localhost:5000${$}`,de=$.split("/").pop(),T=(de||"").split(".").pop()?.toLowerCase();return T==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:_,className:"gc-pdf-preview",title:de}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:de}),l.jsxs("div",{children:[l.jsx("a",{href:_,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>O($),children:"Download"})]})]})]},X):["png","jpg","jpeg","gif","webp"].includes(T)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:_,alt:de,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:de}),l.jsxs("div",{children:[l.jsx("a",{href:_,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>O($),children:"Download"})]})]})]},X):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:de}),l.jsx("a",{href:_,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},X)},H=async()=>{if(!await window.customConfirm("Delete this entire quiz?"))return;(await fetch(`http://localhost:5000/quizzes/${i}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok&&(alert("Quiz deleted"),r("/teacher/quizzes"))},ee=async R=>{if(!await window.customConfirm("Delete this question?"))return;(await fetch(`http://localhost:5000/quizzes/question/${R}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok&&u({...o,questions:o.questions.filter($=>$.id!==R)})};return d?l.jsx("p",{className:"loader",children:"Loading..."}):o?l.jsxs("div",{className:"tqv-container",children:[l.jsxs("div",{className:"tqv-card",style:{position:"relative"},children:[l.jsx("button",{onClick:()=>r("/teacher/quizzes"),"aria-label":"Close and go back",title:"Back to quizzes",className:"tqv-close-btn",children:"Close"}),l.jsxs("div",{className:"tqv-tabs",children:[l.jsx("div",{className:`tqv-tab ${h==="test"?"active":""}`,onClick:()=>y("test"),children:"Test"}),l.jsx("div",{className:`tqv-tab ${h==="scores"?"active":""}`,onClick:()=>y("scores"),children:"Scores"})]}),h==="test"&&l.jsxs("div",{className:"tqv-header-content",children:[l.jsx("h1",{className:"tqv-title",children:o.title}),l.jsxs("p",{className:"tqv-subinfo",children:[o.totalPoints||0," points",o.dueDate&&l.jsxs(l.Fragment,{children:["  Due ",new Date(o.dueDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"tqv-btn-row",children:[l.jsxs("button",{className:"tqv-edit-btn",onClick:()=>r("/teacher/quiz-builder",{state:{quizId:o.id,moduleId:o.moduleId,title:o.title,description:o.description,timeLimit:o.timeLimit,dueDate:o.dueDate,questions:o.questions}}),children:[l.jsx(Qp,{size:16})," Edit Quiz"]}),l.jsxs("button",{className:"tqv-delete-btn",onClick:H,children:[l.jsx(ar,{size:16})," Delete Quiz"]})]})]})]}),h==="test"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"tqv-section-title",children:"Questions"}),o.questions.map((R,X)=>{let $=[],_=[];try{$=R.options?JSON.parse(R.options):[]}catch{}try{_=R.files?JSON.parse(R.files):[]}catch{}return l.jsxs("div",{className:"tqv-card",children:[l.jsxs("div",{className:"tqv-question-header",children:[l.jsxs("h3",{className:"tqv-question-number",children:["Question ",X+1]}),l.jsx("button",{className:"tqv-trash",onClick:()=>ee(R.id),children:l.jsx(ar,{size:16})})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:6},children:[l.jsx("p",{className:"tqv-question-text",style:{margin:0,flex:1},children:R.question}),l.jsx("span",{style:{fontSize:12,color:"#666",marginLeft:12},children:`${Number(R.points)||1} pts`})]}),l.jsxs("p",{className:"tqv-type",children:["Type: ",R.type]}),R.type==="Multiple Choice"&&l.jsx("div",{className:"tqv-option-list",children:$.map((de,T)=>l.jsx("div",{className:`tqv-option-item ${de===R.answer?"correct":""}`,children:de},T))}),R.type==="Identification"&&l.jsxs("p",{className:"tqv-identification-answer",children:[l.jsx("strong",{children:"Answer:"})," ",R.answer]}),_.length>0&&l.jsxs("div",{className:"tqv-files",children:[l.jsx("strong",{children:"Files:"}),_.map((de,T)=>{const J=de.startsWith("http")?de:`http://localhost:5000${de}`,G=String(de).split("/").pop(),se=(G||"").split(".").pop()?.toLowerCase();return se==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:J,className:"gc-pdf-preview"}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:G}),l.jsx("a",{href:J,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},T):["png","jpg","jpeg","gif","webp"].includes(se)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:J,alt:G,style:{maxWidth:"100%",maxHeight:"160px",objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:G}),l.jsx("a",{href:J,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},T):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:G}),l.jsx("a",{href:J,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},T)})]})]},R.id)})]}),h==="scores"&&l.jsxs("div",{children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("h2",{className:"tqv-section-title",children:"Student Scores"}),l.jsxs("div",{ref:K,className:"tqv-filter-wrap",children:[l.jsx("button",{className:"tqv-filter-btn","aria-expanded":B,onClick:R=>{R.stopPropagation(),k(X=>!X)},children:"Filters "}),B&&l.jsxs("div",{className:"tqv-filter-dropdown",onClick:R=>R.stopPropagation(),children:[l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:D,onChange:R=>w(R.target.checked),style:{marginRight:8}}),"Taken"]}),l.jsxs("label",{style:{display:"block",marginTop:6},children:[l.jsx("input",{type:"checkbox",checked:S,onChange:R=>U(R.target.checked),style:{marginRight:8}}),"Missing"]})]})]})]}),b.length===0&&l.jsx("p",{children:"No students are enrolled in this module yet."}),(()=>{const X=!D&&!S?b:b.filter($=>{const _=$.score!==null&&$.score!==void 0;return!!(_&&D||!_&&S)});return b.length>0&&X.length===0?l.jsx("p",{children:"No students match the selected filters."}):l.jsx("div",{className:"tqv-score-list",children:X.map($=>l.jsxs("div",{className:"tqv-score-item",children:[l.jsxs("div",{className:"tqv-score-left",children:[l.jsx(ft,{src:$.profilePic||null,name:$.name,className:"tqv-pfp"}),l.jsx("span",{className:"tqv-score-name",children:$.name})]}),l.jsxs("div",{className:"tqv-score-right",children:[l.jsx("b",{style:{marginRight:12},children:$.score!==null&&$.score!==void 0?`${$.score}/${$.total??o.totalPoints??(o.questions?o.questions.reduce((_,de)=>_+(Number(de.points)||1),0):0)}`:"missing"}),l.jsx("button",{className:"tqv-view-btn",onClick:async()=>{le(!0);try{const _=await fetch(`http://localhost:5000/quizzes/${i}/attempts/list`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!_.ok){alert("Failed to load attempts");return}const de=await _.json(),J=(Array.isArray(de)?de:[]).filter(G=>G.studentEmail===$.email||G.studentId===$.studentId||G.studentId===Number($.studentId));if(J.length===0){console.log("No quiz attempt found for student, checking module submissions",$);try{const G=await fetch(`http://localhost:5000/quizzes/${i}/submissions`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(G.ok){const se=await G.json(),me=Array.isArray(se)?se.find(E=>E.studentEmail===$.email):null;if(me){C({name:$.name||$.email||"Student",email:$.email,noAttempt:!0,createdAt:me.createdAt,answers:[],submittedFiles:me.filePath?[me.filePath]:[]});return}}}catch(G){console.error("Error loading submissions",G)}C({name:$.name||$.email||"Student",email:$.email,noAttempt:!0,createdAt:null,answers:[]});return}J.sort((G,se)=>{const me=G.createdAt?new Date(G.createdAt).getTime():G.id||0;return(se.createdAt?new Date(se.createdAt).getTime():se.id||0)-me}),console.log("Selected attempt for student",$,J[0]),C(J[0]);try{const G=await fetch(`http://localhost:5000/quizzes/${i}/submissions`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(G.ok){const se=await G.json(),me=Array.isArray(se)?se.find(E=>E.studentEmail===J[0].studentEmail||E.studentEmail===$.email):null;me&&me.filePath&&C(E=>({...E||{},submittedFiles:[me.filePath]}))}}catch(G){console.error("Error loading submissions after selecting attempt",G)}}catch(_){console.error(_),alert("Error loading attempt")}finally{le(!1)}},children:"View"})]})]},$.studentId))})})(),j&&l.jsx("div",{className:"modal-overlay",onClick:()=>C(null),children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:R=>R.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{children:[l.jsx("strong",{children:j.name||j.email||"Student Attempt"}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:j.createdAt?new Date(j.createdAt).toLocaleString():""})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn",onClick:()=>C(null),children:"Close"})})]}),V?l.jsx("p",{children:"Loading attempt..."}):l.jsxs("div",{children:[j.noAttempt&&l.jsxs("div",{style:{padding:10,background:"#fff7e6",border:"1px solid #ffe5b4",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"No attempt found."})," Showing the quiz questions and correct answers only."]}),j.submittedFiles&&j.submittedFiles.length>0&&l.jsxs("div",{style:{padding:10,background:"#f7f9ff",border:"1px solid #e1e9ff",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"Submitted files (module):"}),l.jsx("ul",{style:{marginTop:6,listStyle:"none",paddingLeft:0},children:j.submittedFiles.map((R,X)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,padding:"6px 0"},children:[l.jsx("a",{style:{color:"#0b5fff",textDecoration:"underline"},href:R.startsWith("http")?R:`http://localhost:5000${R}`,target:"_blank",rel:"noreferrer",children:R.split("/").pop()}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>{const $=R.startsWith("http")?R:`http://localhost:5000${R}`;window.open($,"_blank")},style:{padding:"6px 10px",borderRadius:6,border:"1px solid #dfe8ff",background:"#fff",cursor:"pointer"},children:"View"}),l.jsx("button",{onClick:()=>O(R),title:"Download",style:{width:34,height:34,borderRadius:999,background:"#e74c3c",color:"#fff",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:""})]})]},X))})]}),l.jsx("h3",{style:{marginTop:0},children:"Answers"}),l.jsx("div",{className:"student-modal-divider"}),o.questions.map((R,X)=>{let $=[];try{if(j.answers)if(Array.isArray(j.answers))$=j.answers;else{const G=typeof j.answers=="string"?JSON.parse(j.answers):j.answers;Array.isArray(G)?$=G:G&&typeof G=="object"&&($=Object.entries(G).map(([se,me])=>({questionId:Number(se),answer:me})))}}catch{$=[]}const _=$.find(G=>G.questionId===R.id||G.qid===R.id||G.questionId===Number(R.id));let de=[];try{de=R.options?JSON.parse(R.options):[]}catch{}const T=_?_.answer??_.selected??_.value??null:null;let J=[];try{if(_){if(Array.isArray(_.files)&&_.files.length>0)J=_.files;else if(Array.isArray(_.uploads)&&_.uploads.length>0)J=_.uploads;else if(typeof _.answer=="string")try{const G=JSON.parse(_.answer);Array.isArray(G)&&G.length>0&&G.every(se=>typeof se=="string")&&(J=G)}catch{if(_.answer&&(_.answer.includes("/uploads")||_.answer.startsWith("/")))J=[_.answer];else if(_.answer&&_.answer.startsWith("__FILE__:"))try{const me=_.answer.split(":").slice(2).join(":");if(me&&selectedQuizAttempt&&Array.isArray(selectedQuizAttempt.submittedFiles)){const E=selectedQuizAttempt.submittedFiles.filter(z=>String(z).endsWith(me)||String(z).includes(me));E.length&&(J=E)}}catch{}}}}catch{J=[]}return l.jsxs("div",{style:{padding:"10px 8px",borderBottom:"1px solid #f1f1f1"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{fontWeight:600},children:["Question ",X+1]}),l.jsx("span",{style:{fontSize:12,color:"#666"},children:R.type==="Activity"?J&&J.length>0||T!==null&&String(T).trim()!==""?"Submitted":"Not submitted":`${Number(R.points)||1} pts`})]}),l.jsx("div",{style:{marginTop:6},children:R.question}),de.length>0?l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Options:"}),l.jsx("div",{style:{marginTop:8},children:de.map((G,se)=>{const me=R.answer!==void 0&&R.answer!==null&&String(G)===String(R.answer),E=T!==null&&String(G)===String(T),z={padding:"8px 10px",borderRadius:6,marginBottom:6,border:"1px solid #eef0f3",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"};return E?me?(z.background="#e6ffed",z.border="1px solid #7be29a"):(z.background="#ffecec",z.border="1px solid #ff9b9b"):me&&(z.background="#f3fff6",z.border="1px solid #9ee3b5"),l.jsx("div",{style:z,children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{flex:1},children:G}),l.jsx("div",{style:{minWidth:80,textAlign:"right",marginLeft:12},children:E?l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:me?"#9ee3b5":"#ff9b9b",color:"#fff",fontSize:12},children:me?"  ":"   "}):null})]})},se)})})]}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Student answer:"}),l.jsx("div",{style:{marginTop:6,color:T?"#111":"#666"},children:T?(()=>{if(R.type==="Identification"){const G=(R.answer||"").toString().trim().toLowerCase()===String(T).toString().trim().toLowerCase(),se=typeof T=="string"?T:JSON.stringify(T);return l.jsxs("div",{style:{marginTop:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:10,borderRadius:8,background:G?"#e6ffed":"#ffecec",border:G?"1px solid #7be29a":"1px solid #ff9b9b"},children:[l.jsx("div",{style:{flex:1},children:se}),l.jsx("div",{style:{marginLeft:12},children:G?null:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:"#e55a4e",color:"#fff",fontSize:12},children:"wrong"})})]})]})}if(typeof T=="string"&&T.startsWith("__FILE__:")){const G=T.replace("__FILE__:",""),se=j&&Array.isArray(j.submittedFiles)?j.submittedFiles:[],me=se.filter(L=>String(L).endsWith(G)||String(L).includes(G)),E=me.length?me[0]:se.length?se[0]:null;if(E){const L=E.startsWith("http")?E:`http://localhost:5000${E}`,Q=String(E).split("/").pop(),Y=(Q||"").split(".").pop()?.toLowerCase();return Y==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:L,className:"gc-pdf-preview",title:Q}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Q}),l.jsxs("div",{children:[l.jsx("a",{href:L,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>O(E),children:"Download"})]})]})]}):["png","jpg","jpeg","gif","webp"].includes(Y)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("img",{src:L,alt:Q,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Q}),l.jsxs("div",{children:[l.jsx("a",{href:L,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>O(E),children:"Download"})]})]})]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("a",{href:L,target:"_blank",rel:"noreferrer",style:{color:"#0b5fff",textDecoration:"underline"},children:String(Q)}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>window.open(L,"_blank"),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #eef0f3",background:"#fff",cursor:"pointer"},children:"View"}),l.jsx("button",{onClick:()=>O(E),title:"Download",style:{width:34,height:34,borderRadius:999,background:"#e74c3c",color:"#fff",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:""})]})]})}const z=j&&j.submittedFiles&&j.submittedFiles[0]?j.submittedFiles[0]:null;if(z){const L=z.startsWith("http")?z:`http://localhost:5000${z}`,Q=String(z).split("/").pop();return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("a",{href:L,target:"_blank",rel:"noreferrer",style:{color:"#0b5fff",textDecoration:"underline"},children:Q}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>window.open(L,"_blank"),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #eef0f3",background:"#fff",cursor:"pointer"},children:"View"}),l.jsx("button",{onClick:()=>O(z),title:"Download",style:{width:34,height:34,borderRadius:999,background:"#e74c3c",color:"#fff",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:""})]})]})}return l.jsx("em",{children:"File submitted (not previewable)"})}if(typeof T=="string"){const G=g(T);if(G&&G.length>0)return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[G.map((se,me)=>N(se,me))]})}if(typeof T=="string"&&(T.startsWith("/")||T.startsWith("http")||/\.(pdf|png|jpg|jpeg|gif|webp)$/i.test(String(T)))){const G=T.startsWith("http")?T:`http://localhost:5000${T}`,se=String(T).split("/").pop(),me=(se||"").split(".").pop()?.toLowerCase();return me==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:G,className:"gc-pdf-preview",title:se}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:se}),l.jsxs("div",{children:[l.jsx("a",{href:G,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>O(T),children:"Download"})]})]})]}):["png","jpg","jpeg","gif","webp"].includes(me)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("img",{src:G,alt:se,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:se}),l.jsxs("div",{children:[l.jsx("a",{href:G,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>O(T),children:"Download"})]})]})]}):String(T)}return String(T)})():l.jsx("em",{children:"No answer"})}),R.answer&&l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Correct answer:"}),l.jsx("div",{style:{marginTop:6,color:"#666"},children:R.answer})]})]}),l.jsx("hr",{style:{marginTop:8,border:"none",borderTop:"1px solid #eee"}}),R.files&&(()=>{let G=[];try{G=Array.isArray(R.files)?R.files:JSON.parse(R.files)}catch{G=[]}return G.length===0?null:l.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:8},children:[l.jsx("strong",{children:"Files (question):"}),G.map((se,me)=>{const E=se.startsWith("http")?se:`http://localhost:5000${se}`,z=String(se).split("/").pop(),L=(z||"").split(".").pop()?.toLowerCase();return L==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:E,className:"gc-pdf-preview",title:z}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:z}),l.jsx("a",{href:E,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},me):["png","jpg","jpeg","gif","webp"].includes(L)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:E,alt:z,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:z}),l.jsx("a",{href:E,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},me):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:z}),l.jsx("a",{href:E,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},me)})]})})(),J&&J.length>0&&l.jsxs("div",{style:{marginTop:8,display:"none",flexDirection:"column",gap:8},children:[l.jsx("strong",{children:"Files (submitted):"}),J.map((G,se)=>{const me=G.startsWith("http")?G:`http://localhost:5000${G}`,E=String(G).split("/").pop(),z=(E||"").split(".").pop()?.toLowerCase();return z==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:me,className:"gc-pdf-preview",title:E}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:E}),l.jsxs("div",{children:[l.jsx("a",{href:me,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>O(G),style:{marginLeft:8},children:"Download"})]})]})]},se):["png","jpg","jpeg","gif","webp"].includes(z)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:me,alt:E,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:E}),l.jsxs("div",{children:[l.jsx("a",{href:me,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>O(G),style:{marginLeft:8},children:"Download"})]})]})]},se):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:E}),l.jsxs("div",{children:[l.jsx("a",{href:me,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>O(G),style:{marginLeft:8},children:"Download"})]})]})]},se)})]})]},R.id)})]})]})})]})]}):l.jsx("p",{children:"Quiz not found"})}function hj({src:i,onCancel:r,onCrop:o,exportSize:u=320}){const d=x.useRef(null),m=x.useRef(null),[h,y]=x.useState(null),[b,p]=x.useState(1),[j,C]=x.useState({x:0,y:0}),V=x.useRef(!1),le=x.useRef({x:0,y:0}),D=x.useRef({x:0,y:0});x.useEffect(()=>{if(!i)return;const B=new Image;B.onload=()=>{y(B);const k=400,K=400,A=B.naturalWidth,O=B.naturalHeight,g=Math.max(k/A,K/O);p(g);const N=A*g,H=O*g;C({x:(k-N)/2,y:(K-H)/2})},B.src=i},[i]),x.useEffect(()=>{const B=K=>{if(!V.current)return;K.preventDefault();const A=K.clientX??(K.touches&&K.touches[0].clientX),O=K.clientY??(K.touches&&K.touches[0].clientY),g=A-le.current.x,N=O-le.current.y;C({x:D.current.x+g,y:D.current.y+N})},k=()=>{V.current=!1};return window.addEventListener("mousemove",B),window.addEventListener("mouseup",k),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",k),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",k),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",k)}},[]);const w=B=>{V.current=!0,le.current={x:B.clientX??(B.touches&&B.touches[0].clientX),y:B.clientY??(B.touches&&B.touches[0].clientY)},D.current={...j}},S=()=>{if(!h||!d.current)return;const B=400,k=320,K=(B-k)/2,A=(B-k)/2,O=Math.max(0,(K-j.x)/b),g=Math.max(0,(A-j.y)/b),N=k/b,H=Math.min(h.naturalWidth-O,N),ee=Math.min(h.naturalHeight-g,N),R=document.createElement("canvas");R.width=u,R.height=u;const X=R.getContext("2d");X.clearRect(0,0,u,u);try{X.save(),X.beginPath(),X.arc(u/2,u/2,u/2,0,Math.PI*2),X.closePath(),X.clip(),X.drawImage(h,O,g,H,ee,0,0,u,u),X.restore();const $=R.toDataURL("image/png");o&&o($)}catch($){console.error("crop error",$)}},U=B=>{if(!h)return;const k=b,K=Number(B),A=400,O=A/2,g=A/2,N=(O-j.x)/k,H=(g-j.y)/k,ee=O-N*K,R=g-H*K;p(K),C({x:ee,y:R})};return l.jsx("div",{style:{position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)"},children:l.jsxs("div",{style:{width:520,background:"#fff",padding:16,borderRadius:8},children:[l.jsx("h3",{style:{marginTop:0},children:"Adjust Profile Picture"}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsxs("div",{style:{width:400,height:400,position:"relative",background:"#222",overflow:"hidden",borderRadius:6},ref:d,children:[l.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",cursor:"grab"},onMouseDown:w,onTouchStart:w}),h&&l.jsx("img",{ref:m,src:h.src,alt:"to-crop",style:{position:"absolute",left:j.x,top:j.y,transform:`scale(${b})`,transformOrigin:"top left",userSelect:"none",pointerEvents:"none"},draggable:!1}),l.jsx("div",{style:{position:"absolute",left:80/2,top:80/2,width:320,height:320,boxShadow:"0 0 0 9999px rgba(0,0,0,0.45)",border:"2px solid rgba(255,255,255,0.9)",boxSizing:"border-box",pointerEvents:"none",borderRadius:"50%"}})]}),l.jsxs("div",{style:{flex:1,minWidth:140},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("label",{style:{display:"block",fontSize:13,color:"#333"},children:"Zoom"}),l.jsx("input",{type:"range",min:b,max:Math.max(3,b+2),step:.01,value:b,onChange:B=>U(B.target.value)})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn",onClick:r,children:"Cancel"}),l.jsx("button",{className:"btn btn-primary",onClick:S,children:"Crop & Save"})]}),l.jsx("p",{style:{marginTop:12,color:"#6b7280",fontSize:13},children:"Drag the image to position it inside the circle. Use zoom to scale."})]})]})]})})}function qo(){const{user:i,updateProfile:r}=Bt(),[o,u]=x.useState(i?.name||""),[d,m]=x.useState(i?.email||""),[h,y]=x.useState(i?.studentId||""),[b,p]=x.useState(i?.bio||""),[j,C]=x.useState(i?.picture||null),[V,le]=x.useState(!1),[D,w]=x.useState(null),[S,U]=x.useState(!1),B=async O=>{const g=O.target.files&&O.target.files[0];if(!g)return;const N=URL.createObjectURL(g);w(N),le(!0)},k=O=>{D&&D.startsWith("blob:")&&URL.revokeObjectURL(D),C(O),w(null),le(!1)},K=()=>{D&&D.startsWith("blob:")&&URL.revokeObjectURL(D),w(null),le(!1)},A=async()=>{U(!0);try{let O=j;try{if(j&&j.startsWith("data:")&&xl){const N=await(await fetch(j)).blob(),H=new FormData;H.append("avatar",N,"avatar.png");const ee=`${xl.replace(/\/$/,"")}/profile/avatar`,R=localStorage.getItem("token"),X=await fetch(ee,{method:"POST",body:H,headers:R?{Authorization:"Bearer "+R}:void 0});if(X.ok){const $=await X.json();$?.url&&(O=$.url)}}}catch(g){console.error("Avatar upload failed",g)}try{const g=await r({name:o,email:d,bio:b,studentId:h,picture:O});g&&(g.picture&&C(g.picture),g.name&&u(g.name),g.email&&m(g.email),g.bio!==void 0&&p(g.bio||""),g.studentId!==void 0&&y(g.studentId||""))}catch(g){console.error("Profile save failed",g)}}catch(O){console.error(O)}finally{U(!1)}};return l.jsxs("div",{className:"profile-container",children:[l.jsxs("div",{className:"profile-left",children:[l.jsx("div",{className:"profile-avatar-wrapper",children:l.jsx(ft,{name:o,email:d,src:j,className:"profile-avatar"})}),l.jsxs("label",{className:"edit-profile-pic",children:["Edit Profile Picture",l.jsx("input",{type:"file",accept:"image/*",onChange:B,style:{display:"none"}})]}),l.jsx("button",{className:"save-btn",onClick:A,disabled:S,children:S?"Saving...":"SAVE"})]}),l.jsx("div",{className:"profile-right",children:l.jsxs("div",{className:"profile-form-card",children:[l.jsx("label",{className:"form-label",children:"Name"}),l.jsx("input",{className:"form-input",value:o,onChange:O=>u(O.target.value),placeholder:"Teacher"}),l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{className:"form-input",value:d,onChange:O=>m(O.target.value),placeholder:"admin@gmail.com"}),l.jsx("label",{className:"form-label",children:" ID"}),l.jsx("input",{className:"form-input",value:h,onChange:O=>y(O.target.value),placeholder:"add if you want"}),l.jsx("label",{className:"form-label",children:"Biography"}),l.jsx("textarea",{className:"form-textarea",rows:6,value:b,onChange:O=>p(O.target.value)})]})}),V&&D&&l.jsx(hj,{src:D,onCancel:K,onCrop:k,exportSize:320})]})}function pj(){const[i,r]=x.useState([]);x.useEffect(()=>{fetch("http://localhost:5000/auth/pending",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(d=>d.json()).then(r).catch(d=>console.error("Error loading pending users:",d))},[]);const o=async d=>{await fetch(`http://localhost:5000/auth/approve/${d}`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),r(m=>m.filter(h=>h.id!==d))},u=async d=>{await fetch(`http://localhost:5000/auth/deny/${d}`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),r(m=>m.filter(h=>h.id!==d))};return l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Pending Accounts"})}),l.jsx("div",{className:"card-container",children:i.length===0?l.jsx("p",{style:{textAlign:"center",padding:"1rem",color:"#777"},children:"No pending approval requests."}):i.map(d=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ft,{name:d.name,email:d.email||null,className:"avatar-small"}),l.jsx("div",{className:"student-name",children:d.name})]}),l.jsxs("div",{className:"row-right",children:[l.jsx("button",{className:"btn-accept",onClick:()=>o(d.id),children:"Accept"}),l.jsx("button",{className:"btn-deny",style:{marginLeft:"10px",background:"#ce3434",color:"white",padding:"8px 16px",borderRadius:"6px"},onClick:()=>u(d.id),children:"Deny"})]})]},d.id))})]})}function gj(){const{user:i}=Bt(),[r,o]=x.useState([]),[u,d]=x.useState(null),[m,h]=x.useState(new Date),[y,b]=x.useState(null),p=jt(),[j,C]=x.useState([]),[V,le]=x.useState([]),[D,w]=x.useState([]),[S,U]=x.useState([]),[B,k]=x.useState(!1);x.useEffect(()=>{let g=!0;return fetch("/api/modules/student",{headers:{Authorization:localStorage.getItem("token")?"Bearer "+localStorage.getItem("token"):void 0}}).then(N=>{if(!N.ok)throw new Error("network");return N.json()}).then(N=>{g&&Array.isArray(N)&&o(N)}).catch(()=>{g&&o([])}),()=>{g=!1}},[]);const K=g=>d(N=>N===g?null:g);x.useEffect(()=>{const g=N=>{const H=N.target;H&&(H.closest(".module-menu-wrapper")||H.closest(".module-dropdown")||d(null))};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)},[]),x.useMemo(()=>{const g=[...D.map(N=>({...N})),...j.map(N=>({...N})),...V.map(N=>({...N})),...S.map(N=>({...N}))];return g.sort((N,H)=>!N.created&&!H.created?0:N.created?H.created?H.created-N.created:-1:1),g},[D,j,V]),x.useEffect(()=>{let g=!0;k(!0);const N=localStorage.getItem("token"),H=N?{Authorization:"Bearer "+N}:{},ee=fetch("/api/announcement",{headers:H}).then(_=>_.ok?_.json():[]).catch(()=>[]),R=fetch("/api/modules/student",{headers:H}).then(_=>_.ok?_.json():[]).catch(()=>[]),X=fetch("/api/quizzes/student",{headers:H}).then(_=>_.ok?_.json():[]).catch(()=>[]),$=fetch("/api/auth/teachers",{headers:H}).then(_=>_.ok?_.json():[]).catch(()=>[]);return Promise.all([ee,R,X,$]).then(([_,de,T,J])=>{if(!g)return;const G=Array.isArray(_)?_.filter(L=>L.teacherEmail).map(L=>({id:L.id,title:L.title||(L.description?String(L.description).slice(0,60):"Announcement"),created:L.createdAt?new Date(L.createdAt):L.updatedAt?new Date(L.updatedAt):null,raw:L,type:"Announcement"})):[],se=Array.isArray(de)?de.filter(L=>L.teacherEmail).map(L=>({id:L.id,title:L.title||"Module",created:L.createdAt?new Date(L.createdAt):L.updatedAt?new Date(L.updatedAt):null,raw:L,type:"Module"})):[],me=Array.isArray(T)?T.filter(L=>L.teacherEmail).map(L=>({id:L.id,title:L.title||"Quiz",created:L.createdAt?new Date(L.createdAt):L.updatedAt?new Date(L.updatedAt):null,dueDate:L.dueDate?new Date(L.dueDate):null,raw:L,type:"Quiz"})):[],E=L=>L.slice().sort((Q,Y)=>!Q.created&&!Y.created?0:Q.created?Y.created?Y.created-Q.created:-1:1);w(E(G)),C(E(se)),le(E(me));const z=Array.isArray(J)?J.map(L=>({id:L.id,title:L.name||L.email,created:L.createdAt?new Date(L.createdAt):null,raw:L,type:"Teacher"})):[];U(z)}).catch(()=>{g&&(w([]),C([]),le([]),U([]))}).finally(()=>{g&&k(!1)}),()=>{g=!1}},[]),m.toLocaleString("default",{month:"long",year:"numeric"});function A(g){const H=(g.getDay()+6)%7,ee=new Date(g);return ee.setDate(g.getDate()-H),ee.setHours(0,0,0,0),ee}function O(g){const N=[],H=new Date(g.getFullYear(),g.getMonth(),1);let ee=A(H);for(let R=0;R<6;R++){const X=[];for(let $=0;$<7;$++){const _=new Date(ee);_.setDate(ee.getDate()+R*7+$),X.push(_)}N.push(X)}return N}return O(m),l.jsxs("div",{className:"gc-module-page",style:{display:"flex",gap:20},children:[l.jsxs("div",{style:{flex:1,maxWidth:"72%",paddingRight:20},children:[l.jsxs("div",{className:"gc-header",children:[l.jsxs("div",{className:"gc-header-left",children:[l.jsx("h1",{className:"gc-title",children:"Dashboard"}),l.jsx("p",{className:"gc-subtitle",children:"Welcome back  here's what's happening"})]}),l.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12},children:[l.jsx("div",{className:"icon-btn",title:"role-pill",children:"STUDENT"}),l.jsx("div",{className:"icon-btn",title:"notifications",children:""}),l.jsx(ft,{name:i?.name||null,email:i?.email||null,src:i?.picture,className:"gc-profile-circle"})]})]}),l.jsxs("div",{style:{display:"grid",gap:16,gridTemplateColumns:"repeat(4, 1fr)",marginBottom:18},children:[l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"All Modules"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Total modules enrolled"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:r.length})})]})}),l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"In Progress"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Course completion"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:"0%"})})]})}),l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"Completed"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Finished modules"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:"0"})})]})}),l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"Quiz Attempts"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Total taken"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:"0"})})]})})]}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:20},children:[l.jsxs("div",{className:"card-container",style:{flex:1},children:[l.jsx("h3",{style:{marginBottom:8},children:"Check Attendance"}),l.jsx("button",{className:"view-all-btn",children:"View Attendance"})]}),l.jsxs("div",{className:"card-container",style:{flex:1},children:[l.jsx("h3",{style:{marginBottom:8},children:"Take Quizzes/Test"}),l.jsx("button",{className:"view-all-btn",children:"Available Quiz"})]})]}),l.jsxs("div",{className:"module-list",style:{marginTop:8},children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"Continue Learning"}),l.jsx("div",{className:"module-list-subtitle",children:"Jump back into your current modules"})]}),l.jsx("button",{className:"view-all-btn",children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:r.length?r.map(g=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{className:"module-more-btn white",onClick:()=>K(g.id),children:""}),u===g.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>p(`/student/module/${g.id}`),children:"View"}),l.jsx("div",{className:"module-dropdown-item",onClick:()=>alert(g.description||"No description"),children:"Details"})]})]}),l.jsx("div",{className:"module-code",children:g.title}),l.jsx("div",{className:"module-desc",children:g.description}),l.jsx("button",{className:"module-view-btn",onClick:()=>p(`/student/module/${g.id}`),children:"View"})]},g.id)):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"module-card",children:[l.jsx("div",{className:"module-code",children:"GEC-105 MOD1"}),l.jsx("div",{className:"module-desc",children:"A container for content related to persuasive, professional, and cross-cultural communication techniques"}),l.jsx("button",{className:"module-view-btn",children:"View"})]}),l.jsxs("div",{className:"module-card",children:[l.jsx("div",{className:"module-code",children:"GEC-105 MOD2"}),l.jsx("div",{className:"module-desc",children:"Prepares you to navigate the complexities of communicating across diverse cultures and boundaries."}),l.jsx("button",{className:"module-view-btn",children:"View"})]})]})})]})]}),l.jsx(El,{})]})}function yj(){const[i,r]=x.useState([]),[o,u]=x.useState(null),d=jt(),[m,h]=x.useState(new Date),[y,b]=x.useState(null),[p,j]=x.useState([]),[C,V]=x.useState([]),[le,D]=x.useState([]),[w,S]=x.useState([]),[U,B]=x.useState(!1),k=O=>u(g=>g===O?null:O);x.useEffect(()=>{const O=g=>{const N=g.target;N&&(N.closest(".module-menu-wrapper")||N.closest(".module-dropdown")||u(null))};return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]),x.useEffect(()=>{(async()=>{const N=await(await fetch("/api/modules/student",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();r(Array.isArray(N)?N:[])})()},[]),x.useEffect(()=>{let O=!0;B(!0);const g=localStorage.getItem("token"),N=g?{Authorization:"Bearer "+g}:{},H=fetch("/api/announcement",{headers:N}).then($=>$.ok?$.json():[]).catch(()=>[]),ee=fetch("/api/modules/student",{headers:N}).then($=>$.ok?$.json():[]).catch(()=>[]),R=fetch("/api/quizzes/student",{headers:N}).then($=>$.ok?$.json():[]).catch(()=>[]),X=fetch("/api/auth/teachers",{headers:N}).then($=>$.ok?$.json():[]).catch(()=>[]);return Promise.all([H,ee,R,X]).then(([$,_,de,T])=>{if(!O)return;const J=Array.isArray($)?$.filter(z=>z.teacherEmail).map(z=>({id:z.id,title:z.title||(z.description?String(z.description).slice(0,60):"Announcement"),created:z.createdAt?new Date(z.createdAt):z.updatedAt?new Date(z.updatedAt):null,raw:z,type:"Announcement"})):[],G=Array.isArray(_)?_.filter(z=>z.teacherEmail).map(z=>({id:z.id,title:z.title||"Module",created:z.createdAt?new Date(z.createdAt):z.updatedAt?new Date(z.updatedAt):null,raw:z,type:"Module"})):[],se=Array.isArray(de)?de.filter(z=>z.teacherEmail).map(z=>({id:z.id,title:z.title||"Quiz",created:z.createdAt?new Date(z.createdAt):z.updatedAt?new Date(z.updatedAt):null,dueDate:z.dueDate?new Date(z.dueDate):null,raw:z,type:"Quiz"})):[],me=Array.isArray(T)?T.map(z=>({id:z.id,title:z.name||z.email,created:z.createdAt?new Date(z.createdAt):null,raw:z,type:"Teacher"})):[],E=z=>z.slice().sort((L,Q)=>!L.created&&!Q.created?0:L.created?Q.created?Q.created-L.created:-1:1);j(E(J)),V(E(G)),D(E(se)),S(E(me))}).catch(()=>{O&&(j([]),V([]),D([]),S([]))}).finally(()=>{O&&B(!1)}),()=>{O=!1}},[]),x.useMemo(()=>{const O=[...p,...C,...le,...w];return O.sort((g,N)=>!g.created&&!N.created?0:g.created?N.created?N.created-g.created:-1:1),O},[p,C,le,w]);function K(O){const N=(O.getDay()+6)%7,H=new Date(O);return H.setDate(O.getDate()-N),H.setHours(0,0,0,0),H}function A(O){const g=[],N=new Date(O.getFullYear(),O.getMonth(),1);let H=K(N);for(let ee=0;ee<6;ee++){const R=[];for(let X=0;X<7;X++){const $=new Date(H);$.setDate(H.getDate()+ee*7+X),R.push($)}g.push(R)}return g}return A(m),l.jsx("div",{className:"main-layout",children:l.jsx("div",{className:"dashboard-container",children:l.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[l.jsx("div",{style:{flex:1},children:l.jsxs("div",{className:"module-list",children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"List of Modules"}),l.jsx("div",{className:"module-list-subtitle",children:"Available course modules"})]}),l.jsx("button",{className:"view-all-btn",onClick:()=>d("/student/modules"),children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:i.map(O=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{className:"module-more-btn white",onClick:()=>k(O.id),children:""}),o===O.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>d(`/student/module/${O.id}`),children:"View"}),l.jsx("div",{className:"module-dropdown-item",onClick:()=>alert(O.description||"No description"),children:"Details"})]})]}),l.jsx("div",{className:"module-code",children:O.title}),l.jsx("div",{className:"module-desc",children:O.description}),l.jsx("button",{className:"module-view-btn",onClick:()=>d(`/student/module/${O.id}`),children:"View"})]},O.id))})]})}),l.jsx(El,{})]})})})}function Gh(i){const o=Date.now()-i.getTime(),u=Math.floor(o/6e4);if(u<1)return"Just now";if(u<60)return`${u} minutes ago`;const d=Math.floor(u/60);if(d<24)return`${d} hours ago`;const m=Math.floor(d/24);return m===1?"Yesterday":`${m} days ago`}function vj(i){if(!i)return null;try{const r=new Date(i),o=Date.now(),u=r.getTime()-o,d=r.getHours()===0&&r.getMinutes()===0&&r.getSeconds()===0,m=r.getFullYear&&r.getFullYear()===1970;if(u<=0)return{status:"timesUp",label:"Time's Up"};if(m)return{status:"timeOnly",timePart:r.toLocaleTimeString()};if(!d){const h=Math.floor(u/6e4);if(h<60)return{status:"relative",label:`Due in ${h}mins`};const y=Math.round(h/60);return y<24?{status:"relative",label:`Due in ${y}hrs`}:{status:"date",datePart:r.toLocaleDateString(),timePart:r.toLocaleTimeString()}}return{status:"date",datePart:r.toLocaleDateString(),timePart:null}}catch{return null}}function xj(){const{user:i}=Bt?Bt():{user:null},r=typeof window<"u"?localStorage.getItem("userEmail"):null,o=i?.email||r||"",[u,d]=x.useState([]),[m,h]=x.useState({}),[y,b]=x.useState(!0),[p,j]=x.useState({}),[C,V]=x.useState(null),[le,D]=x.useState(""),[w,S]=x.useState(null),[U,B]=x.useState(null),[k,K]=x.useState({}),[A,O]=x.useState([]),[g,N]=x.useState("all");x.useEffect(()=>{const Q=Y=>{const Z=Y.target;Z&&(Z.closest(".module-dropdown")||Z.closest(".module-more-btn")||(S(null),B(null)))};return document.addEventListener("click",Q),()=>document.removeEventListener("click",Q)},[]);const[H,ee]=x.useState(!1),[R,X]=x.useState(null),[$,_]=x.useState("");x.useEffect(()=>{(async()=>{try{const Z=await(await fetch("http://localhost:5000/announcement",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json(),ce=Array.isArray(Z)?Z.slice().sort((ge,he)=>new Date(he.createdAt).getTime()-new Date(ge.createdAt).getTime()):[];try{const ge=await fetch("/api/auth/teachers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(ge.ok){const he=await ge.json(),xe={};if(Array.isArray(he))for(const Be of he)Be.email&&(xe[Be.email]=Be);h(xe);const Ue=ce.map(Be=>({...Be,authorPicture:Be.picture||Be.teacherEmail&&xe[Be.teacherEmail]&&xe[Be.teacherEmail].picture||null,username:Be.username||(Be.teacherEmail?xe[Be.teacherEmail]&&xe[Be.teacherEmail].name:Be.username)}));d(Ue)}else d(ce)}catch{d(ce)}try{const he=await(await fetch("http://localhost:5000/attendance",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();if(Array.isArray(he)){const xe={};for(const Ue of he)Array.isArray(Ue.marks)&&Ue.marks.some(Be=>Be.studentEmail===o)&&(xe[Ue.id]=!0);K(xe),O(Array.isArray(he)?he:[])}}catch{}}catch(Y){console.error("Failed to load announcements:",Y)}finally{b(!1)}})()},[]);const de=async Q=>{const Y=(p[Q]||"").trim();if(Y)try{const Z=await fetch(`http://localhost:5000/announcement/${Q}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:Y})}),ce=await Z.json();if(!Z.ok){alert(ce.error||"Failed to add comment");return}const ge={...ce,username:ce.username||i?.username||i?.name||(ce.authorEmail?.split?.("@")?.[0]??ce.authorName??ce.authorEmail),authorPicture:ce.authorPicture||i?.picture||ce.authorEmail&&m[ce.authorEmail]&&m[ce.authorEmail].picture||null};d(he=>he.map(xe=>xe.id===Q?{...xe,comments:[...xe.comments,ge]}:xe)),j(he=>({...he,[Q]:""}))}catch(Z){console.error(Z),alert("Failed to add comment")}},T=Q=>{V(Q.id),D(Q.text),B(null)},J=async Q=>{if(!C)return;const Y=le.trim();if(!Y)return alert("Comment cannot be empty");try{const Z=await fetch(`http://localhost:5000/announcement/${Q}/comments/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:Y})}),ce=await Z.json();if(!Z.ok){alert(ce.error||"Failed to edit comment");return}const ge={...ce,username:ce.username||i?.username||i?.name||(ce.authorEmail?.split?.("@")?.[0]??ce.authorName??ce.authorEmail),authorPicture:ce.authorPicture||ce.authorEmail&&m[ce.authorEmail]&&m[ce.authorEmail].picture||i?.picture||null};d(he=>he.map(xe=>xe.id===Q?{...xe,comments:xe.comments.map(Ue=>Ue.id===ge.id?ge:Ue)}:xe)),V(null),D("")}catch(Z){console.error(Z),alert("Failed to edit comment")}},G=async(Q,Y)=>{if(await window.customConfirm("Delete this comment?"))try{const Z=await fetch(`http://localhost:5000/announcement/${Q}/comments/${Y}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),ce=await Z.json();if(!Z.ok){alert(ce.error||"Failed to delete comment");return}d(ge=>ge.map(he=>he.id===Q?{...he,comments:he.comments.filter(xe=>xe.id!==Y)}:he)),B(null)}catch(Z){console.error(Z),alert("Failed to delete comment")}},se=Q=>{X(Q.id),_(Q.description),ee(!0),S(null)},me=async()=>{if(R)try{const Q=await fetch(`http://localhost:5000/announcement/${R}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:$})}),Y=await Q.json();if(!Q.ok){alert(Y.error||"Failed to update announcement");return}d(Z=>Z.map(ce=>ce.id===Y.id?{...ce,description:Y.description}:ce)),ee(!1),X(null),_("")}catch(Q){console.error(Q),alert("Failed to update announcement")}},E=async Q=>{if(await window.customConfirm("Delete this announcement?"))try{const Y=await fetch(`http://localhost:5000/announcement/${Q}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),Z=await Y.json();if(!Y.ok){alert(Z.error||"Failed to delete announcement");return}d(ce=>ce.filter(ge=>ge.id!==Q)),S(null)}catch(Y){console.error(Y),alert("Failed to delete announcement")}},z=async Q=>{K(Y=>({...Y,[Q]:!0}));try{const Y=await fetch(`http://localhost:5000/attendance/${Q}/mark`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),Z=await Y.json().catch(()=>null);if(!Y.ok){if(Z&&Z.error&&Z.error.toLowerCase().includes("already"))return;K(ce=>{const ge={...ce};return delete ge[Q],ge}),alert(Z&&Z.error||"Failed to mark attendance");return}}catch(Y){console.error(Y),K(Z=>{const ce={...Z};return delete ce[Q],ce}),alert("Failed to mark attendance")}},L=Q=>{if(!Q)return{text:Q,attendanceId:null};const Y=Q.match(/\[ATTENDANCE_ID:(\d+)\]/);if(Y){const Z=Number(Y[1]);let ce=Q.replace(/\s*\[ATTENDANCE_ID:\d+\]/,"");return ce=ce.replace(/\s*\s*Due:\s*[^\[]*/,"").trim(),{text:ce,attendanceId:Z}}return{text:Q,attendanceId:null}};return l.jsxs("div",{style:{display:"flex",gap:20},children:[l.jsx("main",{style:{flex:1},children:l.jsxs("div",{className:"announcement-wrap",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>N("all"),style:{padding:"8px 12px",borderRadius:8,border:g==="all"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="all"?"#2563eb":"#fff",color:g==="all"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"All"}),l.jsx("button",{onClick:()=>N("announcement"),style:{padding:"8px 12px",borderRadius:8,border:g==="announcement"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="announcement"?"#2563eb":"#fff",color:g==="announcement"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Announcement"}),l.jsx("button",{onClick:()=>N("attendance"),style:{padding:"8px 12px",borderRadius:8,border:g==="attendance"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="attendance"?"#2563eb":"#fff",color:g==="attendance"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Attendance"})]}),l.jsx("h1",{className:"text-4xl font-bold mb-6",style:{margin:0},children:"Announcements"})]}),y&&l.jsx("p",{children:"Loading announcements..."}),!y&&u.length===0&&l.jsx("p",{children:"No announcements yet."}),(()=>{const Q=(u||[]).filter(Y=>{try{const{attendanceId:Z}=L(Y.description);return g==="attendance"?!!Z:g==="announcement"?!Z:!0}catch{return g!=="attendance"}});return!y&&Q.length===0?l.jsx("p",{children:"No items match this filter."}):Q.map(Y=>(Array.isArray(Y.comments)&&Y.comments,l.jsxs("div",{className:"announcement-card",children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("button",{className:"module-more-btn",onClick:()=>S(Z=>Z===Y.id?null:Y.id),"aria-label":"announcement menu",title:"Actions"}),w===Y.id&&l.jsx("div",{className:"module-dropdown",children:Y.teacherEmail===o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>se(Y),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>E(Y.id),children:" Delete"})]})}),l.jsxs("div",{className:"announcement-header",children:[l.jsx(ft,{src:Y.authorPicture||void 0,name:Y.username||Y.teacherEmail&&m[Y.teacherEmail]&&(m[Y.teacherEmail].username||m[Y.teacherEmail].name)||(Y.teacherEmail?.split?.("@")?.[0]??Y.teacherEmail),email:Y.teacherEmail,className:"announcement-avatar"}),l.jsxs("div",{className:"announcement-meta",children:[l.jsx("p",{children:Y.username||Y.teacherEmail&&m[Y.teacherEmail]&&(m[Y.teacherEmail].username||m[Y.teacherEmail].name)||(Y.teacherEmail?.split?.("@")?.[0]??Y.teacherEmail)}),l.jsx("p",{children:Gh(new Date(Y.createdAt))})]})]}),l.jsx("div",{className:"announcement-body",children:(()=>{const{text:Z,attendanceId:ce}=L(Y.description);return l.jsxs(l.Fragment,{children:[l.jsx("pre",{className:"announcement-text",children:Z}),Y.filePath&&(()=>{const ge=String(Y.filePath||""),he=Y.displayFileName||ge.split(/[/\\]/).pop()||ge,xe=(he.split(".").pop()||"").toLowerCase(),Ue=ge.replace(/^[/\\]+/,"").replace(/\\/g,"/"),Be=Ue.includes("/")?`http://localhost:5000/${Ue}`:`http://localhost:5000/uploads/announcements/${Ue}`;return xe==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("iframe",{src:Be,className:"gc-pdf-preview",title:he}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:he}),l.jsx("a",{href:Be,target:"_blank",rel:"noreferrer",download:he,className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:he}),l.jsx("a",{href:Be,target:"_blank",rel:"noreferrer",download:he,className:"gc-open-btn",children:"Open"})]})]})})(),ce&&i?.role!=="teacher"&&l.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:12},children:[(()=>{const ge=A.find(Ue=>Ue.id===ce),he=ge&&ge.dueDate?new Date(ge.dueDate):null,xe=he?Date.now()>he.getTime():!1;return k[ce]?l.jsx("button",{className:"attendance-badge",disabled:!0,children:"PRESENT"}):xe?l.jsx("button",{className:"attendance-btn",disabled:!0,style:{background:"#ef4444"},children:"Time's Up"}):l.jsx("button",{className:"attendance-btn",style:{background:"#0ea5e9"},onClick:()=>z(ce),children:"Present"})})(),(()=>{const ge=A.find(he=>he.id===ce);if(ge&&ge.dueDate){const he=vj(ge.dueDate);if(!he)return null;if(he.status==="timesUp")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#ef4444",fontWeight:600},children:he.label});if(he.status==="relative")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:`(${he.label}) ${new Date(ge.dueDate).toLocaleString()}`});if(he.status==="timeOnly")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:he.timePart});if(he.status==="date")return l.jsxs("div",{style:{fontSize:"0.9rem",color:"#374151",display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{children:`Due on ${he.datePart}`}),he.timePart&&l.jsx("span",{style:{fontWeight:600,color:"#374151"},children:he.timePart})]})}return null})()]})]})})()})]}),l.jsx("div",{className:"announcement-comments-list",children:(Array.isArray(Y.comments)?Y.comments.slice().sort((Z,ce)=>new Date(Z.createdAt).getTime()-new Date(ce.createdAt).getTime()):[]).map(Z=>l.jsxs("div",{className:"gc-comment",children:[l.jsx(ft,{src:Z.authorEmail===o?i&&i.picture:Z.authorPicture||m[Z.authorEmail]&&m[Z.authorEmail].picture,name:Z.username||Z.authorEmail&&m[Z.authorEmail]&&(m[Z.authorEmail].username||m[Z.authorEmail].name)||Z.authorName,email:Z.authorEmail,className:"gc-comment-avatar"}),l.jsxs("div",{className:"gc-comment-body",children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"baseline"},children:[l.jsx("p",{className:"gc-comment-author",children:Z.username||Z.authorEmail&&m[Z.authorEmail]&&(m[Z.authorEmail].username||m[Z.authorEmail].name)||Z.authorName}),l.jsx("p",{className:"gc-comment-time",children:Gh(new Date(Z.createdAt))}),Z.updatedAt&&new Date(Z.updatedAt)>new Date(Z.createdAt)&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#999"},children:"(edited)"})]}),C===Z.id?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"gc-comment-input",value:le,onChange:ce=>D(ce.target.value),style:{marginTop:8,marginBottom:8}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"gc-send-btn",onClick:()=>J(Y.id),style:{background:"#16a34a",fontSize:"0.9rem"},children:"Save"}),l.jsx("button",{className:"gc-send-btn",onClick:()=>V(null),style:{background:"#6b7280",fontSize:"0.9rem"},children:"Cancel"})]})]}):l.jsx("p",{className:"gc-comment-text",children:Z.text})]}),(Z.authorEmail===o||i?.role==="teacher"||i?.role==="superteacher")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"module-more-btn",onClick:()=>B(ce=>ce===Z.id?null:Z.id),children:""}),U===Z.id&&l.jsxs("div",{className:"module-dropdown",style:{right:12,top:28},children:[Z.authorEmail===o&&l.jsx("div",{className:"module-dropdown-item",onClick:()=>T(Z),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>G(Y.id,Z.id),children:" Delete"})]})]})]},Z.id))}),l.jsxs("div",{className:"announcement-comment",children:[l.jsx(ft,{src:i?.picture,name:i?.username||i?.name||"",email:o,className:"gc-comment-avatar small"}),l.jsx("input",{className:"announcement-input",placeholder:"Add a comment",value:p[Y.id]||"",onChange:Z=>j(ce=>({...ce,[Y.id]:Z.target.value})),onKeyDown:Z=>{Z.key==="Enter"&&de(Y.id)}}),l.jsx("button",{className:"gc-send-btn",onClick:()=>de(Y.id),title:"Send comment",children:""})]})]},Y.id)))})(),H&&l.jsx("div",{className:"modal-overlay",onClick:()=>ee(!1),children:l.jsxs("div",{className:"modal-content",onClick:Q=>Q.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Announcement"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{value:$,onChange:Q=>_(Q.target.value),className:"announcement-edit-box"})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>ee(!1),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:me,children:"Save"})]})]})})]})}),l.jsx(El,{})]})}function bj(){const i=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"http://localhost:5000":"",[r,o]=x.useState([]),[u,d]=x.useState({}),[m,h]=x.useState(null),[y,b]=x.useState(!0),[p,j]=x.useState(null),[C,V]=x.useState(!1),le=jt();x.useEffect(()=>{D()},[]);const D=async()=>{b(!0);try{const A=await fetch(`${i}/modules/student`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!A.ok){console.error("Failed to load modules"),b(!1);return}const O=await A.json(),N=(Array.isArray(O)?O:[]).map(H=>({id:H.id,title:H.title,description:H.description,document:H.document,quizzes:Array.isArray(H.quizzes)?H.quizzes:[]}));N.forEach(H=>{(H.quizzes||[]).forEach(ee=>w(ee.id))}),o(N)}catch(A){console.error("Error loading data:",A)}finally{b(!1)}},w=async A=>{try{const O=await fetch(`${i}/quizzes/${A}/attempts`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!O.ok)return;const g=await O.json();d(N=>({...N,[A]:{usedAttempts:g.used??0,remainingAttempts:g.remaining??0}}))}catch(O){console.error("Error loading attempt status:",O)}},S=A=>{h(O=>O===A?null:A)},U=A=>{if(!A)return!1;const O=String(A).split("T"),g=O[0]||"",N=O[1]?O[1].split("Z")[0].split("+")[0]:"",H=N?N.slice(0,5):"",ee=Date.now();if(g==="1970-01-01"){if(!H)return!1;const[X,$]=H.split(":"),_=new Date;return _.setHours(Number(X||0),Number($||0),0,0),_.getTime()<=ee}if(!H){const[X,$,_]=g.split("-").map(T=>Number(T));return!X||!$||!_?!1:new Date(X,$-1,_,23,59,59,0).getTime()<=ee}const R=new Date(A);return isNaN(R.getTime())?!1:R.getTime()<=ee},B=A=>{if(!A)return"No Due Date";const O=String(A).split("T"),g=O[0]||"",N=O[1]?O[1].split("Z")[0].split("+")[0]:"",H=N?N.slice(0,5):"";if(g==="1970-01-01")return H?`Due: ${new Date(`1970-01-01T${H}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`:"Due: --:--";if(!H){const[R,X,$]=g.split("-").map(de=>Number(de));if(!R||!X||!$)return`Due: ${g}`;const _=new Date(R,X-1,$,23,59,0,0);return`Due: ${_.toLocaleDateString()} ${_.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`}const ee=new Date(A);return isNaN(ee.getTime())?"No Due Date":`Due: ${ee.toLocaleDateString()} ${ee.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`},k=A=>{const O=A.files&&A.files[0]||A.document||A.file||null;if(!O)return l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{fontSize:36},children:""})}),l.jsx("div",{className:"gc-pdf-info",children:l.jsx("p",{className:"gc-pdf-name",children:"No attachment"})})]});const g=String(O),N=g.startsWith("http")?g:`http://localhost:5000${g}`,H=g.split("/").pop(),ee=(H||"").split(".").pop()?.toLowerCase();return ee==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:N,className:"gc-pdf-preview",title:H}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:H}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&le(`/student/quiz/${A.id}?start=1`)},children:"Take Quiz"})]})]})]}):["png","jpg","jpeg","gif","webp"].includes(ee)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:N,alt:H,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:H}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&le(`/student/quiz/${A.id}?start=1`)},children:"Take Quiz"})]})]})]}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:H}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&le(`/student/quiz/${A.id}?start=1`)},children:"Take Quiz"})]})]})]})},K=(A,O)=>{if(!A)return null;const g=String(A),N=g.startsWith("http")?g:g.startsWith("/")?`http://localhost:5000${g}`:`http://localhost:5000/${g}`,H=g.split("/").pop(),ee=(H||"").split(".").pop()?.toLowerCase(),X=Object.assign({},{width:260,borderRadius:8,border:"1px solid #eef0f3",background:"#fff",overflow:"hidden"},{display:"flex",alignItems:"center",gap:12,padding:10}),$={width:120,height:80,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:4,background:"#f7fafc"};return ee==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:X,children:[l.jsx("div",{className:"gc-pdf-preview",style:$,children:l.jsx("iframe",{src:N,title:H,style:{width:"100%",height:"100%",border:"none"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:H}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O):["png","jpg","jpeg","gif","webp"].includes(ee)?l.jsxs("div",{className:"gc-pdf-card",style:X,children:[l.jsx("div",{className:"gc-pdf-preview",style:$,children:l.jsx("img",{src:N,alt:H,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:H}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O):l.jsxs("div",{className:"gc-pdf-card",style:X,children:[l.jsx("div",{className:"gc-pdf-preview",style:$,children:l.jsx("div",{style:{fontSize:28},children:""})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:H}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:N,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O)};return l.jsxs("div",{style:{display:"flex",gap:20},children:[l.jsx("main",{style:{flex:1},children:l.jsxs("div",{className:"page-wrap",children:[l.jsxs("div",{className:"page-header-box",children:[l.jsx("h1",{className:"page-title",children:"Quizzes"}),l.jsx("p",{className:"page-subtitle",children:"All available quizzes, grouped by module."})]}),y&&l.jsx("p",{className:"empty-text",children:"Loading modules and quizzes..."}),!y&&r.length===0&&l.jsx("p",{className:"empty-text",children:"No modules available."}),!y&&r.length>0&&l.jsx("div",{className:"quiz-module-list",children:r.map(A=>{const O=m===A.id,g=A.quizzes??[];return l.jsxs("div",{className:"module-block",children:[l.jsxs("div",{className:"module-block-header",onClick:()=>S(A.id),children:[l.jsx("h2",{className:"module-title",children:A.title}),O?l.jsx(Hp,{size:20}):l.jsx(qp,{size:20})]}),O&&l.jsxs("div",{className:"module-block-content",children:[A.description&&l.jsx("p",{className:"module-desc",children:A.description}),A.document&&l.jsx("a",{href:`http://localhost:5000/${A.document}`,target:"_blank",rel:"noopener noreferrer",className:"module-doc-link",children:" View Attached Document"}),l.jsx("h3",{className:"module-subtitle",children:"Quizzes"}),g.length===0&&l.jsx("p",{className:"no-quizzes-text",children:"No quizzes in this module"}),g.map(N=>{const H=u[N.id];return l.jsxs("div",{className:"quiz-item",children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{className:"quiz-title",children:N.title}),l.jsxs("p",{className:"quiz-meta",children:[N.totalPoints||0," pts "," ",B(N.dueDate)]}),N.description&&l.jsx("p",{className:"quiz-desc",children:N.description}),H&&l.jsxs("p",{className:"quiz-status",children:[(H.remainingAttempts??0)>0?l.jsx(l.Fragment,{children:l.jsxs("span",{style:{color:"#16a34a"},children:[" ",H.remainingAttempts," attempts remaining"]})}):l.jsx("span",{style:{color:"#dc2626"},children:"No attempts remaining"}),(H.usedAttempts??0)>0&&l.jsxs("span",{style:{marginLeft:"12px",color:"#666"},children:["(",H.usedAttempts," completed)"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[N.type==="activity"||N.activityType==="activity"?l.jsx("div",{children:k(N)}):U(N.dueDate)?l.jsx("span",{style:{fontSize:"0.95rem",color:"#c43030ff",fontWeight:700},children:"Time's up"}):(!H||(H.usedAttempts??0)===0)&&l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&le(`/student/quiz/${N.id}?start=1`)},children:"Take Quiz"}),!U(N.dueDate)&&H&&(H.usedAttempts??0)>0&&l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:async()=>{try{V(!0);const[ee,R]=await Promise.all([fetch(`${i}/quizzes/${N.id}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),fetch(`${i}/quizzes/${N.id}/score`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})]);if(!ee.ok||!R.ok){alert("Failed to load score or quiz details"),V(!1);return}const X=await ee.json(),$=await R.json();j({quiz:X,quizTitle:$.quizTitle,score:$.score,total:$.total,details:$.details})}catch(ee){console.error(ee),alert("Error loading score")}finally{V(!1)}},style:{background:"#7c3aed"},children:C?"Loading...":"View Score"}),!H&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:"Loading..."})]})]},N.id)})]})]},A.id)})})]})}),p&&l.jsx("div",{className:"modal-overlay",onClick:()=>j(null),children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{fontSize:16},children:`Points ${p?.score??0}/${p?.total??0}`}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:(()=>{const A=p&&(p.createdAt||p.attemptedAt||p.submittedAt||p.timestamp);if(A)try{const O=new Date(A);if(!isNaN(O.getTime()))return O.toLocaleString()}catch{}return""})()})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn",onClick:()=>j(null),children:"Close"})})]}),C?l.jsx("p",{children:"Loading score..."}):l.jsxs("div",{children:[l.jsx("h3",{style:{marginTop:0},children:"Answers"}),l.jsx("div",{className:"student-modal-divider"}),p.quiz&&p.quiz.questions&&p.quiz.questions.map((A,O)=>{let g=[];try{g=Array.isArray(p.details)?p.details:p.details?JSON.parse(p.details):[]}catch{g=[]}const N=g.find(J=>J.id===A.id||J.questionId===A.id||J.questionId===Number(A.id)||J.qid===A.id||J.questionId===Number(A.id));let H=[];try{H=A.options?JSON.parse(A.options):[]}catch{H=[]}const ee=N?N.userAnswer??N.answer??N.selected??N.value??null:null,R=J=>{try{return J==null?"":String(J).trim().toLowerCase()}catch{return""}},X=R(ee),$=R(A.answer);let _=[];try{if(N){if(Array.isArray(N.files)&&N.files.length>0)_=N.files;else if(Array.isArray(N.uploads)&&N.uploads.length>0)_=N.uploads;else if(typeof N.answer=="string")try{const J=JSON.parse(N.answer);Array.isArray(J)&&J.every(G=>typeof G=="string")&&(_=J)}catch{N.answer&&(N.answer.includes("/uploads")||N.answer.startsWith("/"))&&(_=[N.answer])}}}catch{_=[]}const de=Number(A.points)||1;let T=0;try{N&&(N.points!==void 0?T=Number(N.points)||0:N.score!==void 0?T=Number(N.score)||0:N.pointsEarned!==void 0&&(T=Number(N.pointsEarned)||0)),T||(Array.isArray(H)&&H.length>0?X!==""&&$!==""&&X===$?T=de:T=T||0:X!==""&&$!==""&&X===$&&(T=de))}catch{T=T||0}return l.jsxs("div",{style:{padding:"10px 8px",borderBottom:"1px solid #f1f1f1"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{fontWeight:600},children:["Question ",O+1]}),l.jsxs("span",{style:{fontSize:12,color:"#666",display:"flex",alignItems:"center",gap:8},children:[A.type==="Activity"?_&&_.length>0||ee!==null&&String(ee).trim()!==""?l.jsx("span",{children:"Submitted"}):l.jsx("span",{children:"Not submitted"}):null,l.jsx("span",{style:{background:"#e8f0ff",color:"#1e40af",padding:"2px 6px",borderRadius:6,fontSize:12,fontWeight:600},children:`${T}/${de} pts`})]})]}),l.jsx("div",{style:{marginTop:6},children:A.question}),H.length>0?l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Options:"}),l.jsx("div",{style:{marginTop:8},children:H.map((J,G)=>{const se=$!==""&&R(J)===$,me=X!==""&&R(J)===X,E={padding:"8px 10px",borderRadius:6,marginBottom:6,border:"1px solid #eef0f3",background:"#fff"};return se&&me?(E.background="#e6ffed",E.border="1px solid #7be29a"):se?(E.background="#f3fff6",E.border="1px solid #9ee3b5"):me&&(E.background="#fff2f2",E.border="1px solid #ff9b9b"),l.jsx("div",{style:E,children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{children:J}),l.jsxs("div",{style:{fontSize:12,color:"#555"},children:[me?l.jsx("em",{children:"Selected"}):null,se?me?l.jsx("span",{style:{marginLeft:8,color:"#117a3a"},children:" correct"}):l.jsx("span",{style:{marginLeft:8,color:"#117a3a"},children:""}):null]})]})},G)})})]}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Student answer:"}),l.jsx("div",{style:{marginTop:6,color:ee?"#111":"#666"},children:ee?typeof ee=="string"&&ee.startsWith("__FILE__:")?(()=>{const J=ee.replace("__FILE__:",""),G=p.submittedFiles&&p.submittedFiles.length>0?p.submittedFiles[0]:_.length>0?_[0]:null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsx("a",{style:{color:"#0b5fff",textDecoration:"underline"},href:G?G.startsWith("http")?G:`http://localhost:5000${G}`:"#",target:"_blank",rel:"noreferrer",onClick:se=>{G||(se.preventDefault(),alert("File not found on server"))},children:J}),l.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[_&&_.length>0?_.map((se,me)=>K(se,me)):null]})]})})():String(ee):l.jsx("em",{children:"No answer"})}),A.answer&&A.type!=="Activity"&&l.jsxs("div",{style:Object.assign({marginTop:8},$!==""&&X===$?{background:"#e6ffed",border:"1px solid #9ee3b5",padding:8,borderRadius:6}:{}),children:[l.jsx("strong",{children:"Correct answer:"}),l.jsxs("div",{style:{marginTop:6,color:$!==""&&X===$?"#117a3a":"#666",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:A.answer}),$!==""&&X===$?l.jsx("span",{style:{color:"#117a3a",marginLeft:8},children:" correct"}):null]})]})]})]},A.id)})]})]})}),l.jsx(El,{})]})}function jj(){const{id:i}=ir(),r=jt(),[o,u]=x.useState(null),[d,m]=x.useState(1),[h,y]=x.useState({}),[b,p]=x.useState(null),[j,C]=x.useState(!1),[V,le]=x.useState(null),[D,w]=x.useState(null),S=x.useRef(null),[U,B]=x.useState([]),[k,K]=x.useState(!1),A=!!(o&&(o.activityType==="activity"||o.type==="Activity"||o.type==="activity"||Array.isArray(o.questions)&&o.questions.some(z=>(z.type||"").toString().toLowerCase()==="activity"))),O=z=>{if(z===null)return"";if(z<=0)return"Time's up";const L=Math.floor(z/1e3),Q=Math.floor(L/3600),Y=Math.floor(L%3600/60),Z=L%60;return Q>0?`${Q}:${String(Y).padStart(2,"0")}:${String(Z).padStart(2,"0")}`:`${String(Y).padStart(2,"0")}:${String(Z).padStart(2,"0")}`},g=xn(),N=o?o.timeLimit?Number(o.timeLimit)*60*1e3:o.dueDate?Math.max(0,new Date(o.dueDate).getTime()-Date.now()):null:null,H=o?!o.timeLimit&&!o.dueDate?"No Time limit":O(V!==null?V:N):"",ee=V!==null&&V<=0;x.useEffect(()=>{if(!o)return;if(new URLSearchParams(g.search).get("start")){if(o.timeLimit){const L=Date.now()+Number(o.timeLimit)*60*1e3;w(L);try{localStorage.setItem("active_quiz_endAt",String(L)),localStorage.setItem("active_quiz_id",String(i))}catch{}}else if(o.dueDate){const L=new Date(o.dueDate).getTime();if(!isNaN(L)){w(L);try{localStorage.setItem("active_quiz_endAt",String(L)),localStorage.setItem("active_quiz_id",String(i))}catch{}}}m(1)}},[o,g.search]),x.useEffect(()=>{try{const z=localStorage.getItem("active_quiz_endAt"),L=localStorage.getItem("active_quiz_id");if(z&&L===String(i)){const Q=Number(z);!isNaN(Q)&&Q>Date.now()&&w(Q)}}catch{}},[i]),x.useEffect(()=>{if(!D)return;le(Math.max(0,D-Date.now()));const z=setInterval(()=>{const L=Math.max(0,D-Date.now());if(le(L),L<=0){clearInterval(z);try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}}},1e3);return()=>clearInterval(z)},[D]),x.useEffect(()=>{R(),X()},[i]);const R=async()=>{const z=await fetch(`http://localhost:5000/quizzes/${i}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});z.ok&&u(await z.json())},X=async()=>{const z=await fetch(`http://localhost:5000/quizzes/${i}/attempts`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});z.ok&&p(await z.json())},$=(z,L)=>{y(Q=>({...Q,[z]:L}))},_=async()=>{if(!o)return;const z=[];if(o.questions.forEach(Y=>{const Z=h[Y.id];Y.type==="Multiple Choice"?(Z==null||Z==="")&&z.push(Y.id):Y.type==="Identification"?(!Z||typeof Z=="string"&&Z.trim()==="")&&z.push(Y.id):Y.type==="Activity"?Z||z.push(Y.id):(Z==null||Z==="")&&z.push(Y.id)}),z.length>0)try{if(!await(window.customConfirm||(ce=>Promise.resolve(window.confirm(ce))))("Some questions are unanswered. Submit anyway?")){m(ce=>{const ge=z[0],he=o.questions.findIndex(xe=>xe.id===ge);return he>=0?he+1:ce});return}}catch{return}try{if(U&&U.length>0){const Y=new FormData,Z={};if(Object.keys(h).forEach(ge=>{const he=Number(ge),xe=h[he];xe instanceof File?(Z[he]=`__FILE__:${he}:${xe.name}`,Y.append(`files_q${he}`,xe,xe.name)):Array.isArray(xe)&&xe.length&&xe[0]instanceof File?(Z[he]=`__FILE__:${he}:${xe.map(Ue=>Ue.name).join(",")}`,xe.forEach(Ue=>Y.append(`files_q${he}`,Ue,Ue.name))):Z[he]=xe}),Y.append("answers",JSON.stringify(Z)),(await fetch(`http://localhost:5000/quizzes/${i}/submit`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:Y})).ok){if(A){try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}K(!0);return}try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}r(`/student/quizzes/${i}/score`);return}}}catch(Y){console.error("Multipart submit failed:",Y)}const L={};if(Object.keys(h).forEach(Y=>{const Z=Number(Y),ce=h[Z];ce instanceof File?L[Z]=`__FILE__:${Z}:${ce.name}`:Array.isArray(ce)&&ce.length&&ce[0]instanceof File?L[Z]=`__FILE__:${Z}:${ce.map(ge=>ge.name).join(",")}`:L[Z]=ce}),(await fetch(`http://localhost:5000/quizzes/${i}/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({answers:L})})).ok)if(A){try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}K(!0)}else{try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}r(`/student/quizzes/${i}/score`)}},de=async()=>{try{(await fetch(`http://localhost:5000/quizzes/${i}/unsubmit`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok}catch{}K(!1)};if(!o||!b)return l.jsx("p",{children:"Loading..."});if(b.remaining<=0)return l.jsx("h2",{children:"You have used all attempts for this quiz."});if(j)return l.jsx("div",{className:"quiz-end-screen",children:l.jsxs("div",{className:"card end-card",children:[l.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3159/3159066.png",width:"80"}),A&&l.jsx("div",{className:"card",style:{padding:12,marginTop:12,textAlign:"center"},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"Your work"}),l.jsx("div",{children:"+ Add or create"}),l.jsx("div",{style:{marginTop:8},children:l.jsx("button",{className:"gc-open-btn",onClick:()=>_(),children:"Mark as done"})})]})})]})});o.questions[d-1];const T=z=>{if(!z)return null;const L=String(z),Q=L.startsWith("http")?L:`http://localhost:5000${L}`,Y=L.split("/").pop(),Z=(Y||"").split(".").pop()?.toLowerCase();return Z==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:Q,className:"gc-pdf-preview",title:Y}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Y}),l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]}):["png","jpg","jpeg","gif","webp"].includes(Z)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:Q,alt:Y,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Y}),l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Y}),l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]})},J=()=>{k||S.current?.click()},G=z=>{try{const L=URL.createObjectURL(z),Q=document.createElement("a");Q.href=L,Q.download=z.name||"download",document.body.appendChild(Q),Q.click(),Q.remove(),URL.revokeObjectURL(L)}catch(L){console.error("Local download failed",L)}},se=z=>{const L=Array.from(z.target.files||[]);if(!L||L.length===0)return;B(Y=>[...Y,...L]);const Q=o.questions.find(Y=>Y.type==="Activity"||Y.type==="activity");Q&&$(Q.id,L[0]),z.target.value=""},me=z=>{k||B(L=>{const Q=L.slice(),Y=Q.splice(z,1)[0],Z=o.questions.find(ce=>ce.type==="Activity"||ce.type==="activity");if(Z){const ce=h[Z.id];if(ce instanceof File&&ce.name===Y.name){const ge=Q[0]||null;$(Z.id,ge)}}return Q})},E=()=>{try{r(-1)}catch{r("/student/quizzes")}};return l.jsxs("div",{className:"student-quiz-take",style:{display:"flex",gap:80,alignItems:"flex-start"},children:[l.jsxs("main",{style:{flex:1,paddingLeft:60,maxWidth:"900px"},children:[o.questions.map((z,L)=>l.jsxs("div",{className:"card question-card",style:{position:"relative"},children:[String(z.type).toLowerCase()==="activity"?null:l.jsx("div",{className:"question-points",children:`${z.points?z.points:1} pts`}),l.jsx("h2",{children:String(z.type).toLowerCase()==="activity"?"Submission":["Question ",L+1,"/",o.questions.length]}),l.jsx("p",{className:"subtext",children:"Contextualize your topic with a subtitle"}),l.jsx("div",{className:"question-text",children:z.question}),z.type==="Multiple Choice"&&z.options&&l.jsx("div",{children:JSON.parse(z.options).map((Q,Y)=>l.jsxs("div",{className:"approval-row",children:[l.jsx("div",{className:"approval-avatar",children:l.jsx("span",{children:(Y+1).toString()})}),l.jsx("div",{className:"approval-text",children:Q}),l.jsx("div",{className:"approval-actions",children:l.jsx("button",{type:"button",className:h[z.id]===Q?"accept-btn selected":"accept-btn",onClick:()=>$(z.id,Q),children:h[z.id]===Q?"Selected":"Select"})})]},Y))}),z.type==="Identification"&&l.jsxs("div",{className:"id-row",children:[l.jsx("div",{className:"approval-avatar",children:l.jsx("span",{children:"A"})}),l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center"},children:l.jsx("input",{type:"text",className:"input",placeholder:"Type your answer...",value:h[z.id]||"",onChange:Q=>$(z.id,Q.target.value),style:{padding:"12px 14px",borderRadius:8,border:"1px solid #e6e6e6",width:"100%"}})})]}),z.type==="Activity"&&l.jsxs("div",{style:{marginTop:12},children:[(()=>{try{const Q=z.files?JSON.parse(z.files):z.filePath?[z.filePath]:[];return!Q||Q.length===0?null:l.jsxs("div",{children:Q.map((Y,Z)=>l.jsxs("div",{className:"card",style:{padding:12,marginBottom:12},children:[l.jsx("div",{style:{fontWeight:700,marginBottom:8},children:z.title||z.question||"Files"}),l.jsx("div",{children:T(Y)})]},Z))})}catch{return null}})()]}),l.jsx("button",{type:"button","aria-label":"Close activity",onClick:E,className:"question-close-btn",children:""})]},L)),,A?null:l.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:18},children:[l.jsx("button",{className:"gc-open-btn",style:{padding:"10px 20px"},onClick:k?de:()=>_(),children:k?"Unsubmit":A?"Mark as done":"Submit"})]})]}),l.jsx("aside",{style:{width:340},children:l.jsxs("div",{children:[A?null:l.jsx("div",{className:"card",style:{padding:16,textAlign:"center"},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"Time Remaining"}),l.jsx("div",{style:{fontSize:28,fontWeight:700,color:ee?"#ef4444":"#111"},children:H})]})}),l.jsxs("div",{className:"card",style:{padding:12,marginTop:12},children:[A?l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("strong",{children:"Your work"}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:"Assigned"})]}),l.jsxs("div",{children:[U&&U.length>0?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:10},children:[U.map((z,L)=>{const Q=z&&z instanceof File?URL.createObjectURL(z):null,Y=z.name||String(z).split("/").pop(),Z=(Y||"").split(".").pop()?.toLowerCase();return Z==="pdf"?l.jsxs("div",{key:L,className:"gc-pdf-card",children:[l.jsx("iframe",{src:Q,className:"gc-pdf-preview",title:Y}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Y}),l.jsxs("div",{children:[l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>G(z),children:"Download"})]})]})]},L):["png","jpg","jpeg","gif","webp"].includes(Z)?l.jsxs("div",{key:L,className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("img",{src:Q,alt:Y,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Y}),l.jsxs("div",{children:[l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>G(z),children:"Download"})]})]})]},L):l.jsxs("div",{key:L,className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Y}),l.jsxs("div",{children:[l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>G(z),children:"Download"}),k?l.jsx("div",{style:{color:"#6b7280",fontSize:12,display:"inline-block",marginLeft:8},children:"Submitted"}):l.jsx("button",{className:"sidebar-file-remove","aria-label":"Remove file",onClick:()=>me(L),style:{marginLeft:8},children:""})]})]})]},L)})]}):null,l.jsx("div",{style:{marginBottom:10},children:l.jsx("button",{className:k?"view-all-btn disabled":"view-all-btn",style:{padding:"8px 18px",width:"100%",borderRadius:8,textAlign:"center",opacity:k?.6:1,cursor:k?"not-allowed":"pointer"},onClick:J,disabled:k,children:"+ Add or create"})})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsx("button",{className:"gc-open-btn",style:{padding:"8px 18px",width:"100%"},onClick:k?de:()=>_(),children:k?"Unsubmit":"Mark as done"})}),l.jsx("input",{type:"file",ref:S,style:{display:"none"},onChange:se,multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx"}),l.jsx("div",{style:{marginTop:12},children:(()=>{const z=o.questions.find(Q=>Q.type==="Activity"||Q.type==="activity");if(!z)return null;const L=h[z.id];return L?L instanceof File?null:T(L):l.jsx("div",{style:{color:"#666",textAlign:"center"},children:null})})()})]}):l.jsx("div",{style:{color:"#666"},children:""})]})]})})]})}function Sj(){const{id:i}=ir(),r=jt(),[o,u]=x.useState(null),[d,m]=x.useState([]),[h,y]=x.useState({}),b=(w,S)=>{y(U=>({...U,[w]:U[w]?null:S}))};x.useEffect(()=>{p()},[i]),x.useEffect(()=>{if(o)try{console.log("StudentQuizScore loaded scoreData",o)}catch{}},[o]);const p=async()=>{const w=await fetch(`http://localhost:5000/quizzes/${i}/score`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!w.ok)return;const S=await w.json();u(S);try{const U=await fetch(`http://localhost:5000/quizzes/${i}/submissions`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(U.ok){const B=await U.json();m(Array.isArray(B)?B:[])}}catch(U){console.error("failed loading submissions",U)}},j=async w=>{try{const S=w.startsWith("http")?w:`http://localhost:5000${w}`,U=await fetch(S,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!U.ok)return alert("Failed to download file");const B=await U.blob(),k=URL.createObjectURL(B),K=document.createElement("a");K.href=k;const A=w.split("/");K.download=A[A.length-1]||"download",document.body.appendChild(K),K.click(),K.remove(),URL.revokeObjectURL(k)}catch(S){console.error("download error",S),alert("Download failed")}},C=w=>{if(!w||typeof w!="string")return[];let S=w.trim();if((S.startsWith('"')&&S.endsWith('"')||S.startsWith("'")&&S.endsWith("'"))&&(S=S.slice(1,-1)),S=S.replace(/\\\\/g,"/").replace(/\\/g,"/"),S.startsWith("["))try{const k=JSON.parse(S);return Array.isArray(k)?k:[]}catch{}const U=/(https?:\/\/[^\s"']+|\/uploads\/[^\s"']+)/g,B=S.match(U);return B?.length?B:S.includes("/uploads/")?[S]:[]},V=(w,S)=>{const U=w.startsWith("http")?w:`http://localhost:5000${w}`,B=(w.split(".").pop()||"").toLowerCase();return B==="pdf"?l.jsxs("div",{style:{marginTop:10},children:[l.jsx("iframe",{src:U,style:{width:"100%",height:250}}),l.jsx("a",{href:U,target:"_blank",rel:"noreferrer",children:"Open PDF"})]},S):["png","jpg","jpeg","gif","webp"].includes(B)?l.jsxs("div",{style:{marginTop:10},children:[l.jsx("img",{src:U,alt:"",style:{maxWidth:"100%",maxHeight:250}}),l.jsx("a",{href:U,target:"_blank",rel:"noreferrer",children:"Open Image"})]},S):l.jsx("div",{style:{marginTop:10},children:l.jsx("a",{href:U,target:"_blank",rel:"noreferrer",children:w})},S)},le=(w,S)=>{if(!w)return null;const U=String(w),B=U.startsWith("http")?U:`http://localhost:5000${U}`,k=U.split("/").pop();return(k||"").split(".").pop()?.toLowerCase()==="pdf"?l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("div",{style:{width:160,height:120,border:"1px solid #eef0f3"},children:l.jsx("iframe",{src:B,title:k,style:{width:"100%",height:"100%",border:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:k}),l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:B,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>j(U),style:{marginLeft:8},className:"quiz-view-btn",children:"Download"})]})]})]},S):l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("div",{style:{width:120,height:90,border:"1px solid #eef0f3",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:k}),l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:B,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>j(U),style:{marginLeft:8},className:"quiz-view-btn",children:"Download"})]})]})]},S)},D=w=>{const S=[];if(!w)return S;w.filePath&&S.push(String(w.filePath)),Array.isArray(w.filePaths)&&w.filePaths.forEach(k=>S.push(String(k)));const U=k=>{k&&(Array.isArray(k)?k.forEach(K=>{K&&S.push(String(K))}):S.push(String(k)))};if(typeof w.userAnswer=="string"){const k=w.userAnswer.trim();if(k.startsWith("/uploads/")||/\.(pdf|docx?|pptx?|png|jpg|jpeg|gif)$/i.test(k))return S.push(k),S}const B=k=>{if(k){if(typeof k=="string"){let K=k;try{K=K.replace(/\\\//g,"/").replace(/\\\\/g,"/").replace(/\\n/g," ")}catch{}try{if(K.startsWith("__FILE__:")){const g=K.split(":").slice(2).join(":");if(g&&d&&d.length>0){for(const N of d)if(N){N.filePath&&String(N.filePath).endsWith(g)&&S.push(String(N.filePath)),N.filePaths&&Array.isArray(N.filePaths)&&N.filePaths.forEach(H=>{String(H).endsWith(g)&&S.push(String(H))});try{B(N)}catch{}}}return}}catch{}const A=C(K);if(A&&A.length){for(const O of A)S.push(O);return}(K.includes("/uploads/")||/https?:\/\//.test(K)||/\.(pdf|png|jpg|jpeg|gif|docx?|pptx?)$/i.test(K))&&S.push(K);return}if(Array.isArray(k)){for(const K of k)B(K);return}if(typeof k=="object")for(const K of Object.keys(k))try{B(k[K])}catch{}}};if(Array.isArray(w.submittedFiles)&&w.submittedFiles.length&&U(w.submittedFiles),Array.isArray(w.files)&&w.files.length&&U(w.files),Array.isArray(w.uploads)&&w.uploads.length&&U(w.uploads),w.userAnswer)if(typeof w.userAnswer=="string"){const k=C(w.userAnswer);k&&k.length&&U(k);try{const K=JSON.parse(w.userAnswer);Array.isArray(K)&&U(K)}catch{}}else Array.isArray(w.userAnswer)?U(w.userAnswer):w.userAnswer&&typeof w.userAnswer=="object"&&(Array.isArray(w.userAnswer.files)&&U(w.userAnswer.files),Array.isArray(w.userAnswer.uploads)&&U(w.userAnswer.uploads));if(w.answer)if(typeof w.answer=="string"){const k=C(w.answer);k&&k.length&&U(k);try{const K=JSON.parse(w.answer);Array.isArray(K)&&U(K)}catch{}}else Array.isArray(w.answer)?U(w.answer):w.answer&&typeof w.answer=="object"&&(Array.isArray(w.answer.files)&&U(w.answer.files),Array.isArray(w.answer.uploads)&&U(w.answer.uploads),B(w.answer));if(Object.keys(w).forEach(k=>{const K=w[k];if(typeof K=="string"&&K.includes("/uploads/")){const A=C(K);A&&A.length&&U(A)}}),S.length===0&&d&&d.length>0)for(const k of d)k&&(k.filePath&&U(k.filePath),k.filePaths&&U(k.filePaths),B(k));return S.length===0&&B(w),Array.from(new Set(S.map(String)))};return o?l.jsxs("div",{className:"score-page",children:[l.jsxs("div",{className:"card score-header",children:[l.jsx("h1",{children:o.quizTitle}),l.jsxs("h2",{children:["Score: ",o.score," / ",o.total]}),l.jsx("button",{className:"btn",onClick:()=>r("/student/quizzes"),children:"Back to Quizzes"})]}),l.jsx("div",{className:"score-details",children:o.details.map((w,S)=>l.jsxs("div",{className:`card answer-card ${w.isCorrect?"correct":"wrong"}`,children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("h3",{children:["Question ",S+1]}),l.jsx("div",{style:{fontSize:13,color:"#444"},children:w.type==="Activity"?l.jsx("strong",{children:w.submitted?"Submitted":"Not submitted"}):l.jsxs("strong",{children:[w.awarded??0," / ",w.points??1," pts"]})})]}),l.jsx("p",{children:l.jsx("strong",{children:w.question})}),l.jsxs("p",{children:[l.jsx("strong",{children:"Your Answer:"})," ",(()=>{try{if(w.type==="Multiple Choice"){const A=w.userAnswer,O=w.correctAnswer,g=Array.isArray(w.options)?w.options:[];if(!g||g.length===0){const N=(w.userAnswer??w.answer??"")||"<No answer>",H=typeof N=="string"?N:JSON.stringify(N),ee=!!w.isCorrect,R={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",borderRadius:8,background:ee?"#e6ffed":"#ffecec",border:ee?"1px solid #7be29a":"1px solid #ff9b9b",color:"#111"};return l.jsx("div",{style:{marginTop:8},children:l.jsxs("div",{style:R,children:[l.jsx("div",{style:{flex:1},children:H}),l.jsx("div",{style:{marginLeft:12},children:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:ee?"#0f9d58":"#e55a4e",color:"#fff",fontSize:12},children:"Selected"})})]})})}return l.jsx("div",{style:{marginTop:10},children:g.map((N,H)=>{const ee=N===A,R=N===O;let X="#f7f7f7",$="1px solid #ccc";return R&&(X="#e6ffed",$="1px solid #7be29a"),ee&&!R&&(X="#ffecec",$="1px solid #ff9b9b"),l.jsxs("div",{style:{padding:"10px",marginBottom:"8px",borderRadius:"8px",background:X,border:$,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{flex:1},children:N}),ee&&l.jsx("span",{style:{padding:"4px 10px",fontSize:"12px",borderRadius:"999px",background:R?"#0f9d58":"#e55a4e",color:"white",marginLeft:12},children:R?"Selected - correct":"Selected - wrong"})]},H)})})}if(w.type==="Identification"){const A=(w.userAnswer??w.answer??"")||"<No answer>",O=typeof A=="string"?A:JSON.stringify(A),g=!!w.isCorrect,N={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",borderRadius:8,background:g?"#e6ffed":"#ffecec",border:g?"1px solid #7be29a":"1px solid #ff9b9b",color:"#111"};return l.jsx("div",{style:{marginTop:8},children:l.jsxs("div",{style:N,children:[l.jsx("div",{style:{flex:1},children:O}),l.jsx("div",{style:{marginLeft:12},children:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:g?"#0f9d58":"#e55a4e",color:"#fff",fontSize:12},children:"Selected"})})]})})}const U=typeof w.userAnswer=="string"&&w.userAnswer||typeof w.answer=="string"&&w.answer||"",B=C(U||"");if(B&&B.length>0)return l.jsx("div",{children:B.map((A,O)=>V(A,`simple-${S}-${O}`))});let k=D(w)||[];if((!k||k.length===0)&&typeof w.userAnswer=="string"&&(k=C(w.userAnswer)),(!k||k.length===0)&&typeof w.answer=="string"&&(k=C(w.answer)),!k||k.length===0)try{const A=JSON.stringify(w),O=C(A);O&&O.length&&(k=O)}catch{}if(k&&k.length>0)return l.jsxs("div",{children:[k.map((A,O)=>le(A,O))]});const K=typeof w.userAnswer=="string"&&w.userAnswer.trim()||typeof w.answer=="string"&&w.answer.trim()||null;if(K&&(K.includes("/uploads/")||K.startsWith("/"))){const A=K.trim(),O=A.startsWith("http")?A:`http://localhost:5000${A}`,g=A.split("/").pop();return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[l.jsx("div",{style:{fontWeight:600},children:g}),l.jsxs("div",{children:[l.jsx("button",{onClick:()=>window.open(O,"_blank"),className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>j(A),children:"Download"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>b(S,O),children:h[S]?"Hide Preview":"Preview"})]})]}),h[S]?l.jsx("div",{style:{marginTop:8},children:l.jsx("iframe",{src:O,title:g,style:{width:"100%",height:400,border:"none"}})}):null]})}}catch(U){console.error("Answer render error",U)}return l.jsx("span",{style:{color:w.isCorrect?"green":"red"},children:w.userAnswer??w.answer})})()]}),!w.isCorrect&&l.jsxs("p",{children:[l.jsx("strong",{children:"Correct Answer:"})," ",w.correctAnswer]})]},S))})]}):l.jsx("p",{children:"Loading score..."})}function wj(){const{user:i}=Bt(),[r,o]=x.useState(!0);return l.jsx(z0,{children:i?l.jsxs("div",{className:"min-h-screen",style:{display:"flex"},children:[l.jsx(Zb,{}),l.jsxs("div",{style:{marginLeft:"16rem",flex:1},children:[l.jsx(tj,{}),l.jsx("main",{style:{padding:"1.5rem"},children:l.jsxs(l0,{children:[i.role==="superteacher"&&l.jsxs(l.Fragment,{children:[l.jsx(We,{path:"/superteacher/approvals",element:l.jsx(pj,{})}),l.jsx(We,{path:"/profile",element:l.jsx(qo,{})}),l.jsx(We,{path:"*",element:l.jsx(Oo,{to:"/superteacher/approvals",replace:!0})})]}),i.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsx(We,{path:"/teacher/dashboard",element:l.jsx(nj,{})}),l.jsx(We,{path:"/profile",element:l.jsx(qo,{})}),l.jsx(We,{path:"/teacher/module",element:l.jsx(aj,{})}),l.jsx(We,{path:"/teacher/settings",element:l.jsx(lj,{})}),l.jsx(We,{path:"/teacher/students",element:l.jsx(ij,{})}),l.jsx(We,{path:"/teacher/announcements",element:l.jsx(cj,{})}),l.jsx(We,{path:"/teacher/grades",element:l.jsx(oj,{})}),l.jsx(We,{path:"/teacher/quizzes",element:l.jsx(uj,{})}),l.jsx(We,{path:"/teacher/approvals",element:l.jsx(dj,{})}),l.jsx(We,{path:"/teacher/module/:id",element:l.jsx(Vh,{})}),l.jsx(We,{path:"/teacher/quiz-builder",element:l.jsx(fj,{})}),l.jsx(We,{path:"/teacher/quiz/:id/view",element:l.jsx(mj,{})}),l.jsx(We,{path:"*",element:l.jsx(Oo,{to:"/teacher/dashboard",replace:!0})})]}),i.role==="student"&&l.jsxs(l.Fragment,{children:[l.jsx(We,{path:"/profile",element:l.jsx(qo,{})}),l.jsx(We,{path:"/student/dashboard",element:l.jsx(gj,{})}),l.jsx(We,{path:"/student/modules",element:l.jsx(yj,{})}),l.jsx(We,{path:"/student/quizzes",element:l.jsx(bj,{})}),l.jsx(We,{path:"/student/announcements",element:l.jsx(xj,{})}),l.jsx(We,{path:"/student/quiz/:id",element:l.jsx(jj,{})}),l.jsx(We,{path:"/student/quizzes/:id/score",element:l.jsx(Sj,{})}),l.jsx(We,{path:"/student/module/:id",element:l.jsx(Vh,{})}),l.jsx(We,{path:"*",element:l.jsx(Oo,{to:"/student/dashboard",replace:!0})})]})]})})]})]}):l.jsx("div",{className:"container",children:r?l.jsx(Sb,{onToggle:()=>o(!1)}):l.jsx(wb,{onToggle:()=>o(!0)})})})}const Nj=x.createContext(null);function Aj({children:i}){const[r,o]=x.useState(null),u=x.useCallback(y=>new Promise(b=>{o({type:"alert",message:String(y),resolve:b})}),[]),d=x.useCallback(y=>new Promise(b=>{o({type:"confirm",message:String(y),resolve:b})}),[]);x.useEffect(()=>(window.customAlert=y=>u(y),window.customConfirm=y=>d(y),window.alert=y=>{u(y)},()=>{try{delete window.customAlert}catch{}try{delete window.customConfirm}catch{}}),[u,d]);const m=()=>{r&&r.type==="alert"&&(r.resolve(),o(null))},h=y=>{r&&(r.resolve(!!y),o(null))};return l.jsxs(Nj.Provider,{value:{showAlert:u,showConfirm:d},children:[i,r&&l.jsx("div",{className:"modal-overlay",onClick:()=>{r.type==="alert"&&m()},style:{background:"transparent",backdropFilter:"none",WebkitBackdropFilter:"none"},children:l.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),style:r.type==="confirm"?{position:"fixed",left:"50%",transform:"translateX(-50%)",top:"6vh",background:"#fff",color:"#111",maxWidth:520,padding:"14px 18px",zIndex:1e3}:{background:"#fff",color:"#111",maxWidth:520,margin:"0 auto",marginTop:"6vh",padding:"18px 22px"},children:[l.jsx("h2",{className:"modal-title",style:{color:"#111"},children:r.type==="alert"?"Notice":"Confirmation"}),l.jsx("div",{className:"modal-form",style:{color:"#111"},children:l.jsx("p",{style:{whiteSpace:"pre-wrap"},children:r.message})}),l.jsx("div",{className:"modal-actions",children:r.type==="confirm"?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>h(!1),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:()=>h(!0),children:"OK"})]}):l.jsx("button",{className:"modal-btn create",onClick:()=>m(),children:"OK"})})]})})]})}mv.createRoot(document.getElementById("root")).render(l.jsx(da.StrictMode,{children:l.jsx(Aj,{children:l.jsx(jb,{children:l.jsx(wj,{})})})}));
