import la from"./index-BBTKOM0z.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const x of p.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function c(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=c(f);fetch(f.href,p)}})();function Wm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var to={exports:{}},Te={};var Nm;function Hg(){if(Nm)return Te;Nm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Z=Symbol.iterator;function re(b){return b===null||typeof b!="object"?null:(b=Z&&b[Z]||b["@@iterator"],typeof b=="function"?b:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function H(b,_,V){this.props=b,this.context=_,this.refs=A,this.updater=V||X}H.prototype.isReactComponent={},H.prototype.setState=function(b,_){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,_,"setState")},H.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function B(){}B.prototype=H.prototype;function k(b,_,V){this.props=b,this.context=_,this.refs=A,this.updater=V||X}var W=k.prototype=new B;W.constructor=k,S(W,H.prototype),W.isPureReactComponent=!0;var j=Array.isArray;function O(){}var g={H:null,A:null,T:null,S:null},y=Object.prototype.hasOwnProperty;function U(b,_,V){var q=V.ref;return{$$typeof:r,type:b,key:_,ref:q!==void 0?q:null,props:V}}function I(b,_){return U(b.type,_,b.props)}function de(b){return typeof b=="object"&&b!==null&&b.$$typeof===r}function ie(b){var _={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(V){return _[V]})}var z=/\/+/g;function M(b,_){return typeof b=="object"&&b!==null&&b.key!=null?ie(""+b.key):_.toString(36)}function le(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(O,O):(b.status="pending",b.then(function(_){b.status==="pending"&&(b.status="fulfilled",b.value=_)},function(_){b.status==="pending"&&(b.status="rejected",b.reason=_)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function w(b,_,V,q,Y){var Q=typeof b;(Q==="undefined"||Q==="boolean")&&(b=null);var L=!1;if(b===null)L=!0;else switch(Q){case"bigint":case"string":case"number":L=!0;break;case"object":switch(b.$$typeof){case r:case o:L=!0;break;case C:return L=b._init,w(L(b._payload),_,V,q,Y)}}if(L)return Y=Y(b),L=q===""?"."+M(b,0):q,j(Y)?(V="",L!=null&&(V=L.replace(z,"$&/")+"/"),w(Y,_,V,"",function(pe){return pe})):Y!=null&&(de(Y)&&(Y=I(Y,V+(Y.key==null||b&&b.key===Y.key?"":(""+Y.key).replace(z,"$&/")+"/")+L)),_.push(Y)),1;L=0;var ne=q===""?".":q+":";if(j(b))for(var he=0;he<b.length;he++)q=b[he],Q=ne+M(q,he),L+=w(q,_,V,Q,Y);else if(he=re(b),typeof he=="function")for(b=he.call(b),he=0;!(q=b.next()).done;)q=q.value,Q=ne+M(q,he++),L+=w(q,_,V,Q,Y);else if(Q==="object"){if(typeof b.then=="function")return w(le(b),_,V,q,Y);throw _=String(b),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return L}function $(b,_,V){if(b==null)return b;var q=[],Y=0;return w(b,q,"","",function(Q){return _.call(V,Q,Y++)}),q}function P(b){if(b._status===-1){var _=b._result;_=_(),_.then(function(V){(b._status===0||b._status===-1)&&(b._status=1,b._result=V)},function(V){(b._status===0||b._status===-1)&&(b._status=2,b._result=V)}),b._status===-1&&(b._status=0,b._result=_)}if(b._status===1)return b._result.default;throw b._result}var me=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},ae={map:$,forEach:function(b,_,V){$(b,function(){_.apply(this,arguments)},V)},count:function(b){var _=0;return $(b,function(){_++}),_},toArray:function(b){return $(b,function(_){return _})||[]},only:function(b){if(!de(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Te.Activity=D,Te.Children=ae,Te.Component=H,Te.Fragment=c,Te.Profiler=f,Te.PureComponent=k,Te.StrictMode=u,Te.Suspense=N,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,Te.__COMPILER_RUNTIME={__proto__:null,c:function(b){return g.H.useMemoCache(b)}},Te.cache=function(b){return function(){return b.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(b,_,V){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var q=S({},b.props),Y=b.key;if(_!=null)for(Q in _.key!==void 0&&(Y=""+_.key),_)!y.call(_,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&_.ref===void 0||(q[Q]=_[Q]);var Q=arguments.length-2;if(Q===1)q.children=V;else if(1<Q){for(var L=Array(Q),ne=0;ne<Q;ne++)L[ne]=arguments[ne+2];q.children=L}return U(b.type,Y,q)},Te.createContext=function(b){return b={$$typeof:x,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:p,_context:b},b},Te.createElement=function(b,_,V){var q,Y={},Q=null;if(_!=null)for(q in _.key!==void 0&&(Q=""+_.key),_)y.call(_,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Y[q]=_[q]);var L=arguments.length-2;if(L===1)Y.children=V;else if(1<L){for(var ne=Array(L),he=0;he<L;he++)ne[he]=arguments[he+2];Y.children=ne}if(b&&b.defaultProps)for(q in L=b.defaultProps,L)Y[q]===void 0&&(Y[q]=L[q]);return U(b,Q,Y)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(b){return{$$typeof:E,render:b}},Te.isValidElement=de,Te.lazy=function(b){return{$$typeof:C,_payload:{_status:-1,_result:b},_init:P}},Te.memo=function(b,_){return{$$typeof:v,type:b,compare:_===void 0?null:_}},Te.startTransition=function(b){var _=g.T,V={};g.T=V;try{var q=b(),Y=g.S;Y!==null&&Y(V,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(O,me)}catch(Q){me(Q)}finally{_!==null&&V.types!==null&&(_.types=V.types),g.T=_}},Te.unstable_useCacheRefresh=function(){return g.H.useCacheRefresh()},Te.use=function(b){return g.H.use(b)},Te.useActionState=function(b,_,V){return g.H.useActionState(b,_,V)},Te.useCallback=function(b,_){return g.H.useCallback(b,_)},Te.useContext=function(b){return g.H.useContext(b)},Te.useDebugValue=function(){},Te.useDeferredValue=function(b,_){return g.H.useDeferredValue(b,_)},Te.useEffect=function(b,_){return g.H.useEffect(b,_)},Te.useEffectEvent=function(b){return g.H.useEffectEvent(b)},Te.useId=function(){return g.H.useId()},Te.useImperativeHandle=function(b,_,V){return g.H.useImperativeHandle(b,_,V)},Te.useInsertionEffect=function(b,_){return g.H.useInsertionEffect(b,_)},Te.useLayoutEffect=function(b,_){return g.H.useLayoutEffect(b,_)},Te.useMemo=function(b,_){return g.H.useMemo(b,_)},Te.useOptimistic=function(b,_){return g.H.useOptimistic(b,_)},Te.useReducer=function(b,_,V){return g.H.useReducer(b,_,V)},Te.useRef=function(b){return g.H.useRef(b)},Te.useState=function(b){return g.H.useState(b)},Te.useSyncExternalStore=function(b,_,V){return g.H.useSyncExternalStore(b,_,V)},Te.useTransition=function(){return g.H.useTransition()},Te.version="19.2.0",Te}var wm;function vo(){return wm||(wm=1,to.exports=Hg()),to.exports}var h=vo();const ia=Wm(h),Qg="modulepreload",Yg=function(r){return"/"+r},Am={},Gg=function(o,c,u){let f=Promise.resolve();if(c&&c.length>0){let N=function(v){return Promise.all(v.map(C=>Promise.resolve(C).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),E=x?.nonce||x?.getAttribute("nonce");f=N(c.map(v=>{if(v=Yg(v),v in Am)return;Am[v]=!0;const C=v.endsWith(".css"),D=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${D}`))return;const Z=document.createElement("link");if(Z.rel=C?"stylesheet":Qg,C||(Z.as="script"),Z.crossOrigin="",Z.href=v,E&&Z.setAttribute("nonce",E),document.head.appendChild(Z),C)return new Promise((re,X)=>{Z.addEventListener("load",re),Z.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${v}`)))})}))}function p(x){const E=new Event("vite:preloadError",{cancelable:!0});if(E.payload=x,window.dispatchEvent(E),!E.defaultPrevented)throw x}return f.then(x=>{for(const E of x||[])E.status==="rejected"&&p(E.reason);return o().catch(p)})},dl="http://localhost:5000";if(typeof window<"u"&&dl){const r=window.fetch.bind(window);window.fetch=(o,c)=>{try{if(typeof o=="string"){const u=o,f=u.match(/^https?:\/\/localhost(:\d+)?(\/.*)?$/i)||u.match(/^https?:\/\/127\.0\.0\.1(:\d+)?(\/.*)?$/i);if(f){const p=f[2]||"/",x=dl.replace(/\/$/,"")+(p.startsWith("/")?p:`/${p}`);return r(x,c)}if(!/^https?:\/\//i.test(u)){const p=dl.replace(/\/$/,"")+(u.startsWith("/")?u:`/${u}`);return r(p,c)}}else if(o&&o.url){const u=o.url,f=u.match(/^https?:\/\/localhost(:\d+)?(\/.*)?$/i)||u.match(/^https?:\/\/127\.0\.0\.1(:\d+)?(\/.*)?$/i);if(f){const p=f[2]||"/",x=dl.replace(/\/$/,"")+(p.startsWith("/")?p:`/${p}`),E=new Request(x,o);return r(E,c)}if(!/^https?:\/\//i.test(u)){const p=dl.replace(/\/$/,"")+(u.startsWith("/")?u:`/${u}`),x=new Request(p,o);return r(x,c)}}}catch{}return r(o,c)};try{const o=await Gg(()=>import("./index-BBTKOM0z.js"),[]);o&&o.default&&(o.default.defaults.baseURL=dl)}catch{}}var no={exports:{}},oi={},ao={exports:{}},lo={};var zm;function $g(){return zm||(zm=1,(function(r){function o(w,$){var P=w.length;w.push($);e:for(;0<P;){var me=P-1>>>1,ae=w[me];if(0<f(ae,$))w[me]=$,w[P]=ae,P=me;else break e}}function c(w){return w.length===0?null:w[0]}function u(w){if(w.length===0)return null;var $=w[0],P=w.pop();if(P!==$){w[0]=P;e:for(var me=0,ae=w.length,b=ae>>>1;me<b;){var _=2*(me+1)-1,V=w[_],q=_+1,Y=w[q];if(0>f(V,P))q<ae&&0>f(Y,V)?(w[me]=Y,w[q]=P,me=q):(w[me]=V,w[_]=P,me=_);else if(q<ae&&0>f(Y,P))w[me]=Y,w[q]=P,me=q;else break e}}return $}function f(w,$){var P=w.sortIndex-$.sortIndex;return P!==0?P:w.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var x=Date,E=x.now();r.unstable_now=function(){return x.now()-E}}var N=[],v=[],C=1,D=null,Z=3,re=!1,X=!1,S=!1,A=!1,H=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function W(w){for(var $=c(v);$!==null;){if($.callback===null)u(v);else if($.startTime<=w)u(v),$.sortIndex=$.expirationTime,o(N,$);else break;$=c(v)}}function j(w){if(S=!1,W(w),!X)if(c(N)!==null)X=!0,O||(O=!0,ie());else{var $=c(v);$!==null&&le(j,$.startTime-w)}}var O=!1,g=-1,y=5,U=-1;function I(){return A?!0:!(r.unstable_now()-U<y)}function de(){if(A=!1,O){var w=r.unstable_now();U=w;var $=!0;try{e:{X=!1,S&&(S=!1,B(g),g=-1),re=!0;var P=Z;try{t:{for(W(w),D=c(N);D!==null&&!(D.expirationTime>w&&I());){var me=D.callback;if(typeof me=="function"){D.callback=null,Z=D.priorityLevel;var ae=me(D.expirationTime<=w);if(w=r.unstable_now(),typeof ae=="function"){D.callback=ae,W(w),$=!0;break t}D===c(N)&&u(N),W(w)}else u(N);D=c(N)}if(D!==null)$=!0;else{var b=c(v);b!==null&&le(j,b.startTime-w),$=!1}}break e}finally{D=null,Z=P,re=!1}$=void 0}}finally{$?ie():O=!1}}}var ie;if(typeof k=="function")ie=function(){k(de)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,M=z.port2;z.port1.onmessage=de,ie=function(){M.postMessage(null)}}else ie=function(){H(de,0)};function le(w,$){g=H(function(){w(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(w){w.callback=null},r.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<w?Math.floor(1e3/w):5},r.unstable_getCurrentPriorityLevel=function(){return Z},r.unstable_next=function(w){switch(Z){case 1:case 2:case 3:var $=3;break;default:$=Z}var P=Z;Z=$;try{return w()}finally{Z=P}},r.unstable_requestPaint=function(){A=!0},r.unstable_runWithPriority=function(w,$){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var P=Z;Z=w;try{return $()}finally{Z=P}},r.unstable_scheduleCallback=function(w,$,P){var me=r.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?me+P:me):P=me,w){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=P+ae,w={id:C++,callback:$,priorityLevel:w,startTime:P,expirationTime:ae,sortIndex:-1},P>me?(w.sortIndex=P,o(v,w),c(N)===null&&w===c(v)&&(S?(B(g),g=-1):S=!0,le(j,P-me))):(w.sortIndex=ae,o(N,w),X||re||(X=!0,O||(O=!0,ie()))),w},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(w){var $=Z;return function(){var P=Z;Z=$;try{return w.apply(this,arguments)}finally{Z=P}}}})(lo)),lo}var Em;function Vg(){return Em||(Em=1,ao.exports=$g()),ao.exports}var io={exports:{}},Nt={};var Cm;function Xg(){if(Cm)return Nt;Cm=1;var r=vo();function o(N){var v="https://react.dev/errors/"+N;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+N+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var u={d:{f:c,r:function(){throw Error(o(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},f=Symbol.for("react.portal");function p(N,v,C){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:D==null?null:""+D,children:N,containerInfo:v,implementation:C}}var x=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(N,v){if(N==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Nt.createPortal=function(N,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(o(299));return p(N,v,null,C)},Nt.flushSync=function(N){var v=x.T,C=u.p;try{if(x.T=null,u.p=2,N)return N()}finally{x.T=v,u.p=C,u.d.f()}},Nt.preconnect=function(N,v){typeof N=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,u.d.C(N,v))},Nt.prefetchDNS=function(N){typeof N=="string"&&u.d.D(N)},Nt.preinit=function(N,v){if(typeof N=="string"&&v&&typeof v.as=="string"){var C=v.as,D=E(C,v.crossOrigin),Z=typeof v.integrity=="string"?v.integrity:void 0,re=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;C==="style"?u.d.S(N,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:Z,fetchPriority:re}):C==="script"&&u.d.X(N,{crossOrigin:D,integrity:Z,fetchPriority:re,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Nt.preinitModule=function(N,v){if(typeof N=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var C=E(v.as,v.crossOrigin);u.d.M(N,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&u.d.M(N)},Nt.preload=function(N,v){if(typeof N=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var C=v.as,D=E(C,v.crossOrigin);u.d.L(N,C,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Nt.preloadModule=function(N,v){if(typeof N=="string")if(v){var C=E(v.as,v.crossOrigin);u.d.m(N,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else u.d.m(N)},Nt.requestFormReset=function(N){u.d.r(N)},Nt.unstable_batchedUpdates=function(N,v){return N(v)},Nt.useFormState=function(N,v,C){return x.H.useFormState(N,v,C)},Nt.useFormStatus=function(){return x.H.useHostTransitionStatus()},Nt.version="19.2.0",Nt}var Tm;function Zg(){if(Tm)return io.exports;Tm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),io.exports=Xg(),io.exports}var Dm;function Jg(){if(Dm)return oi;Dm=1;var r=Vg(),o=vo(),c=Zg();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(p(e)!==e)throw Error(u(188))}function v(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N(i),e;if(s===a)return N(i),t;s=s.sibling}throw Error(u(188))}if(n.return!==a.return)n=i,a=s;else{for(var d=!1,m=i.child;m;){if(m===n){d=!0,n=i,a=s;break}if(m===a){d=!0,a=i,n=s;break}m=m.sibling}if(!d){for(m=s.child;m;){if(m===n){d=!0,n=s,a=i;break}if(m===a){d=!0,a=s,n=i;break}m=m.sibling}if(!d)throw Error(u(189))}}if(n.alternate!==a)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var D=Object.assign,Z=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),k=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function M(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case H:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case O:return"SuspenseList";case U:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case k:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g:return t=e.displayName||null,t!==null?t:M(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var le=Array.isArray,w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},me=[],ae=-1;function b(e){return{current:e}}function _(e){0>ae||(e.current=me[ae],me[ae]=null,ae--)}function V(e,t){ae++,me[ae]=e.current,e.current=t}var q=b(null),Y=b(null),Q=b(null),L=b(null);function ne(e,t){switch(V(Q,t),V(Y,e),V(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xf(t),e=Zf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(q),V(q,e)}function he(){_(q),_(Y),_(Q)}function pe(e){e.memoizedState!==null&&V(L,e);var t=q.current,n=Zf(t,e.type);t!==n&&(V(Y,e),V(q,n))}function Ne(e){Y.current===e&&(_(q),_(Y)),L.current===e&&(_(L),ii._currentValue=P)}var je,Ie;function bt(e){if(je===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);je=t&&t[1]||"",Ie=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+Ie}var Et=!1;function fe(e,t){if(!e||Et)return"";Et=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var F=te}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(te){F=te}e.call(ue.prototype)}}else{try{throw Error()}catch(te){F=te}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&F&&typeof te.stack=="string")return[te.stack,F.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),d=s[0],m=s[1];if(d&&m){var T=d.split(`
`),K=m.split(`
`);for(i=a=0;a<T.length&&!T[a].includes("DetermineComponentFrameRoot");)a++;for(;i<K.length&&!K[i].includes("DetermineComponentFrameRoot");)i++;if(a===T.length||i===K.length)for(a=T.length-1,i=K.length-1;1<=a&&0<=i&&T[a]!==K[i];)i--;for(;1<=a&&0<=i;a--,i--)if(T[a]!==K[i]){if(a!==1||i!==1)do if(a--,i--,0>i||T[a]!==K[i]){var se=`
`+T[a].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=a&&0<=i);break}}}finally{Et=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?bt(n):""}function Ce(e,t){switch(e.tag){case 26:case 27:case 5:return bt(e.type);case 16:return bt("Lazy");case 13:return e.child!==t&&t!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return fe(e.type,!1);case 11:return fe(e.type.render,!1);case 1:return fe(e.type,!0);case 31:return bt("Activity");default:return""}}function Ee(e){try{var t="",n=null;do t+=Ce(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ee=Object.prototype.hasOwnProperty,we=r.unstable_scheduleCallback,Se=r.unstable_cancelCallback,Ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,ge=r.unstable_now,be=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,Ye=r.unstable_UserBlockingPriority,ht=r.unstable_NormalPriority,en=r.unstable_LowPriority,St=r.unstable_IdlePriority,yl=r.log,za=r.unstable_setDisableYieldValue,_n=null,dt=null;function tn(e){if(typeof yl=="function"&&za(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(_n,e)}catch{}}var Rt=Math.clz32?Math.clz32:zh,wh=Math.log,Ah=Math.LN2;function zh(e){return e>>>=0,e===0?32:31-(wh(e)/Ah|0)|0}var gi=256,yi=262144,vi=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xi(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~s,a!==0?i=sa(a):(d&=m,d!==0?i=sa(d):n||(n=m&~e,n!==0&&(i=sa(n))))):(m=a&~s,m!==0?i=sa(m):d!==0?i=sa(d):n||(n=a&~e,n!==0&&(i=sa(n)))),i===0?0:t!==0&&t!==i&&(t&s)===0&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Eh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var e=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),e}function Gs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ch(e,t,n,a,i,s){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,T=e.expirationTimes,K=e.hiddenUpdates;for(n=d&~n;0<n;){var se=31-Rt(n),ue=1<<se;m[se]=0,T[se]=-1;var F=K[se];if(F!==null)for(K[se]=null,se=0;se<F.length;se++){var te=F[se];te!==null&&(te.lane&=-536870913)}n&=~ue}a!==0&&Eo(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(d&~t))}function Eo(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Co(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Rt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function To(e,t){var n=t&-t;return n=(n&42)!==0?1:$s(n),(n&(e.suspendedLanes|t))!==0?0:n}function $s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Do(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:gm(e.type))}function Mo(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var kn=Math.random().toString(36).slice(2),pt="__reactFiber$"+kn,Ct="__reactProps$"+kn,Ea="__reactContainer$"+kn,Xs="__reactEvents$"+kn,Th="__reactListeners$"+kn,Dh="__reactHandles$"+kn,Oo="__reactResources$"+kn,jl="__reactMarker$"+kn;function Zs(e){delete e[pt],delete e[Ct],delete e[Xs],delete e[Th],delete e[Dh]}function Ca(e){var t=e[pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ea]||n[pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=em(e);e!==null;){if(n=e[pt])return n;e=em(e)}return t}e=n,n=e.parentNode}return null}function Ta(e){if(e=e[pt]||e[Ea]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function bl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Da(e){var t=e[Oo];return t||(t=e[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[jl]=!0}var _o=new Set,ko={};function ra(e,t){Ma(e,t),Ma(e+"Capture",t)}function Ma(e,t){for(ko[e]=t,e=0;e<t.length;e++)_o.add(t[e])}var Mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Lo={};function Oh(e){return ee.call(Lo,e)?!0:ee.call(Ro,e)?!1:Mh.test(e)?Lo[e]=!0:(Ro[e]=!0,!1)}function ji(e,t,n){if(Oh(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function bi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function mn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _h(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){n=""+d,s.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){if(!e._valueTracker){var t=Uo(e)?"checked":"value";e._valueTracker=_h(e,t,""+e[t])}}function Bo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Uo(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kh=/[\n"\\]/g;function $t(e){return e.replace(kh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ks(e,t,n,a,i,s,d,m){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Fs(e,d,Gt(t)):n!=null?Fs(e,d,Gt(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Gt(m):e.removeAttribute("name")}function qo(e,t,n,a,i,s,d,m){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Js(e);return}n=n!=null?""+Gt(n):"",t=t!=null?""+Gt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Js(e)}function Fs(e,t,n){t==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Oa(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ho(e,t,n){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gt(n):""}function Qo(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(u(92));if(le(a)){if(1<a.length)throw Error(u(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Gt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Js(e)}function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Rh.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Go(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Yo(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&Yo(e,s,t[s])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ni(e){return Uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var Is=null;function Ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,Ra=null;function $o(e){var t=Ta(e);if(t&&(e=t.stateNode)){var n=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ks(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ct]||null;if(!i)throw Error(u(90));Ks(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Bo(a)}break e;case"textarea":Ho(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Oa(e,!!n.multiple,t,!1)}}}var er=!1;function Vo(e,t,n){if(er)return e(t,n);er=!0;try{var a=e(t);return a}finally{if(er=!1,(ka!==null||Ra!==null)&&(us(),ka&&(t=ka,e=Ra,Ra=ka=null,$o(t),e)))for(t=0;t<e.length;t++)$o(e[t])}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Ct]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(pn)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){tr=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{tr=!1}var Rn=null,nr=null,wi=null;function Xo(){if(wi)return wi;var e,t=nr,n=t.length,a,i="value"in Rn?Rn.value:Rn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(a=1;a<=d&&t[n-a]===i[s-a];a++);return wi=i.slice(e,1<a?1-a:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Zo(){return!1}function Tt(e){function t(n,a,i,s,d){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zi:Zo,this.isPropagationStopped=Zo,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Tt(ca),wl=D({},ca,{view:0,detail:0}),Bh=Tt(wl),ar,lr,Al,Ci=D({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Al&&(Al&&e.type==="mousemove"?(ar=e.screenX-Al.screenX,lr=e.screenY-Al.screenY):lr=ar=0,Al=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),Jo=Tt(Ci),qh=D({},Ci,{dataTransfer:0}),Hh=Tt(qh),Qh=D({},wl,{relatedTarget:0}),ir=Tt(Qh),Yh=D({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Gh=Tt(Yh),$h=D({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vh=Tt($h),Xh=D({},ca,{data:0}),Ko=Tt(Xh),Zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kh[e])?!!t[e]:!1}function sr(){return Fh}var Wh=D({},wl,{key:function(e){if(e.key){var t=Zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ih=Tt(Wh),Ph=D({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Tt(Ph),ep=D({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),tp=Tt(ep),np=D({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=Tt(np),lp=D({},Ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=Tt(lp),sp=D({},ca,{newState:0,oldState:0}),rp=Tt(sp),cp=[9,13,27,32],rr=pn&&"CompositionEvent"in window,zl=null;pn&&"documentMode"in document&&(zl=document.documentMode);var op=pn&&"TextEvent"in window&&!zl,Wo=pn&&(!rr||zl&&8<zl&&11>=zl),Io=" ",Po=!1;function eu(e,t){switch(e){case"keyup":return cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function up(e,t){switch(e){case"compositionend":return tu(t);case"keypress":return t.which!==32?null:(Po=!0,Io);case"textInput":return e=t.data,e===Io&&Po?null:e;default:return null}}function dp(e,t){if(La)return e==="compositionend"||!rr&&eu(e,t)?(e=Xo(),wi=nr=Rn=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wo&&t.locale!=="ko"?null:t.data;default:return null}}var fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fp[e.type]:t==="textarea"}function au(e,t,n,a){ka?Ra?Ra.push(a):Ra=[a]:ka=a,t=ys(t,"onChange"),0<t.length&&(n=new Ei("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var El=null,Cl=null;function mp(e){Hf(e,0)}function Ti(e){var t=bl(e);if(Bo(t))return e}function lu(e,t){if(e==="change")return t}var iu=!1;if(pn){var cr;if(pn){var or="oninput"in document;if(!or){var su=document.createElement("div");su.setAttribute("oninput","return;"),or=typeof su.oninput=="function"}cr=or}else cr=!1;iu=cr&&(!document.documentMode||9<document.documentMode)}function ru(){El&&(El.detachEvent("onpropertychange",cu),Cl=El=null)}function cu(e){if(e.propertyName==="value"&&Ti(Cl)){var t=[];au(t,Cl,e,Ps(e)),Vo(mp,t)}}function hp(e,t,n){e==="focusin"?(ru(),El=t,Cl=n,El.attachEvent("onpropertychange",cu)):e==="focusout"&&ru()}function pp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(Cl)}function gp(e,t){if(e==="click")return Ti(t)}function yp(e,t){if(e==="input"||e==="change")return Ti(t)}function vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:vp;function Tl(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!ee.call(t,i)||!Lt(e[i],t[i]))return!1}return!0}function ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uu(e,t){var n=ou(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ou(n)}}function du(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?du(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Si(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Si(e.document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xp=pn&&"documentMode"in document&&11>=document.documentMode,Ua=null,dr=null,Dl=null,fr=!1;function mu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fr||Ua==null||Ua!==Si(a)||(a=Ua,"selectionStart"in a&&ur(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Dl&&Tl(Dl,a)||(Dl=a,a=ys(dr,"onSelect"),0<a.length&&(t=new Ei("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ua)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ba={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},mr={},hu={};pn&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function ua(e){if(mr[e])return mr[e];if(!Ba[e])return e;var t=Ba[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hu)return mr[e]=t[n];return e}var pu=ua("animationend"),gu=ua("animationiteration"),yu=ua("animationstart"),jp=ua("transitionrun"),bp=ua("transitionstart"),Sp=ua("transitioncancel"),vu=ua("transitionend"),xu=new Map,hr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hr.push("scrollEnd");function nn(e,t){xu.set(e,t),ra(t,[e])}var Di=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],qa=0,pr=0;function Mi(){for(var e=qa,t=pr=qa=0;t<e;){var n=Vt[t];Vt[t++]=null;var a=Vt[t];Vt[t++]=null;var i=Vt[t];Vt[t++]=null;var s=Vt[t];if(Vt[t++]=null,a!==null&&i!==null){var d=a.pending;d===null?i.next=i:(i.next=d.next,d.next=i),a.pending=i}s!==0&&ju(n,i,s)}}function Oi(e,t,n,a){Vt[qa++]=e,Vt[qa++]=t,Vt[qa++]=n,Vt[qa++]=a,pr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function gr(e,t,n,a){return Oi(e,t,n,a),_i(e)}function da(e,t){return Oi(e,null,null,t),_i(e)}function ju(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Rt(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function _i(e){if(50<Il)throw Il=0,Ac=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ha={};function Np(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,a){return new Np(e,t,n,a)}function yr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function bu(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ki(e,t,n,a,i,s){var d=0;if(a=e,typeof e=="function")yr(e)&&(d=1);else if(typeof e=="string")d=Cg(e,n,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case U:return e=Ut(31,n,t,i),e.elementType=U,e.lanes=s,e;case S:return fa(n.children,i,s,t);case A:d=8,i|=24;break;case H:return e=Ut(12,n,t,i|2),e.elementType=H,e.lanes=s,e;case j:return e=Ut(13,n,t,i),e.elementType=j,e.lanes=s,e;case O:return e=Ut(19,n,t,i),e.elementType=O,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:d=10;break e;case B:d=9;break e;case W:d=11;break e;case g:d=14;break e;case y:d=16,a=null;break e}d=29,n=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Ut(d,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function fa(e,t,n,a){return e=Ut(7,e,a,t),e.lanes=n,e}function vr(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Su(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function xr(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nu=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var n=Nu.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ee(t)},Nu.set(e,t),t)}return{value:e,source:t,stack:Ee(t)}}var Qa=[],Ya=0,Ri=null,Ml=0,Zt=[],Jt=0,Ln=null,cn=1,on="";function yn(e,t){Qa[Ya++]=Ml,Qa[Ya++]=Ri,Ri=e,Ml=t}function wu(e,t,n){Zt[Jt++]=cn,Zt[Jt++]=on,Zt[Jt++]=Ln,Ln=e;var a=cn;e=on;var i=32-Rt(a)-1;a&=~(1<<i),n+=1;var s=32-Rt(t)+i;if(30<s){var d=i-i%5;s=(a&(1<<d)-1).toString(32),a>>=d,i-=d,cn=1<<32-Rt(t)+i|n<<i|a,on=s+e}else cn=1<<s|n<<i|a,on=e}function jr(e){e.return!==null&&(yn(e,1),wu(e,1,0))}function br(e){for(;e===Ri;)Ri=Qa[--Ya],Qa[Ya]=null,Ml=Qa[--Ya],Qa[Ya]=null;for(;e===Ln;)Ln=Zt[--Jt],Zt[Jt]=null,on=Zt[--Jt],Zt[Jt]=null,cn=Zt[--Jt],Zt[Jt]=null}function Au(e,t){Zt[Jt++]=cn,Zt[Jt++]=on,Zt[Jt++]=Ln,cn=t.id,on=t.overflow,Ln=e}var gt=null,Fe=null,Ue=!1,Un=null,Kt=!1,Sr=Error(u(519));function Bn(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Xt(t,e)),Sr}function zu(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[pt]=e,t[Ct]=a,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<ei.length;n++)ke(ei[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),qo(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Qo(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||$f(t.textContent,n)?(a.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),a.onScroll!=null&&ke("scroll",t),a.onScrollEnd!=null&&ke("scrollend",t),a.onClick!=null&&(t.onclick=hn),t=!0):t=!1,t||Bn(e,!0)}function Eu(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:gt=gt.return}}function Ga(e){if(e!==gt)return!1;if(!Ue)return Eu(e),Ue=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Hc(e.type,e.memoizedProps)),n=!n),n&&Fe&&Bn(e),Eu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Fe=Pf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Fe=Pf(e)}else t===27?(t=Fe,In(e.type)?(e=Vc,Vc=null,Fe=e):Fe=t):Fe=gt?Wt(e.stateNode.nextSibling):null;return!0}function ma(){Fe=gt=null,Ue=!1}function Nr(){var e=Un;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Un=null),e}function Ol(e){Un===null?Un=[e]:Un.push(e)}var wr=b(null),ha=null,vn=null;function qn(e,t,n){V(wr,t._currentValue),t._currentValue=n}function xn(e){e._currentValue=wr.current,_(wr)}function Ar(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function zr(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var d=i.child;s=s.firstContext;e:for(;s!==null;){var m=s;s=i;for(var T=0;T<t.length;T++)if(m.context===t[T]){s.lanes|=n,m=s.alternate,m!==null&&(m.lanes|=n),Ar(s.return,n,e),a||(d=null);break e}s=m.next}}else if(i.tag===18){if(d=i.return,d===null)throw Error(u(341));d.lanes|=n,s=d.alternate,s!==null&&(s.lanes|=n),Ar(d,n,e),d=null}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===e){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}}function $a(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if((i.flags&524288)!==0)s=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var d=i.alternate;if(d===null)throw Error(u(387));if(d=d.memoizedProps,d!==null){var m=i.type;Lt(i.pendingProps.value,d.value)||(e!==null?e.push(m):e=[m])}}else if(i===L.current){if(d=i.alternate,d===null)throw Error(u(387));d.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ii):e=[ii])}i=i.return}e!==null&&zr(t,e,n,a),t.flags|=262144}function Li(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pa(e){ha=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return Cu(ha,e)}function Ui(e,t){return ha===null&&pa(e),Cu(e,t)}function Cu(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},vn===null){if(e===null)throw Error(u(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return n}var wp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ap=r.unstable_scheduleCallback,zp=r.unstable_NormalPriority,it={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Er(){return{controller:new wp,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&Ap(zp,function(){e.controller.abort()})}var kl=null,Cr=0,Va=0,Xa=null;function Ep(e,t){if(kl===null){var n=kl=[];Cr=0,Va=Mc(),Xa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Cr++,t.then(Tu,Tu),t}function Tu(){if(--Cr===0&&kl!==null){Xa!==null&&(Xa.status="fulfilled");var e=kl;kl=null,Va=0,Xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cp(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Du=w.S;w.S=function(e,t){hf=ge(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ep(e,t),Du!==null&&Du(e,t)};var ga=b(null);function Tr(){var e=ga.current;return e!==null?e:Je.pooledCache}function Bi(e,t){t===null?V(ga,ga.current):V(ga,t.pool)}function Mu(){var e=Tr();return e===null?null:{parent:it._currentValue,pool:e}}var Za=Error(u(460)),Dr=Error(u(474)),qi=Error(u(542)),Hi={then:function(){}};function Ou(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _u(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(hn,hn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ru(e),e;default:if(typeof t.status=="string")t.then(hn,hn);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ru(e),e}throw va=t,Za}}function ya(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(va=n,Za):n}}var va=null;function ku(){if(va===null)throw Error(u(459));var e=va;return va=null,e}function Ru(e){if(e===Za||e===qi)throw Error(u(483))}var Ja=null,Rl=0;function Qi(e){var t=Rl;return Rl+=1,Ja===null&&(Ja=[]),_u(Ja,e,t)}function Ll(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yi(e,t){throw t.$$typeof===Z?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Lu(e){function t(G,R){if(e){var J=G.deletions;J===null?(G.deletions=[R],G.flags|=16):J.push(R)}}function n(G,R){if(!e)return null;for(;R!==null;)t(G,R),R=R.sibling;return null}function a(G){for(var R=new Map;G!==null;)G.key!==null?R.set(G.key,G):R.set(G.index,G),G=G.sibling;return R}function i(G,R){return G=gn(G,R),G.index=0,G.sibling=null,G}function s(G,R,J){return G.index=J,e?(J=G.alternate,J!==null?(J=J.index,J<R?(G.flags|=67108866,R):J):(G.flags|=67108866,R)):(G.flags|=1048576,R)}function d(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function m(G,R,J,ce){return R===null||R.tag!==6?(R=vr(J,G.mode,ce),R.return=G,R):(R=i(R,J),R.return=G,R)}function T(G,R,J,ce){var xe=J.type;return xe===S?se(G,R,J.props.children,ce,J.key):R!==null&&(R.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===y&&ya(xe)===R.type)?(R=i(R,J.props),Ll(R,J),R.return=G,R):(R=ki(J.type,J.key,J.props,null,G.mode,ce),Ll(R,J),R.return=G,R)}function K(G,R,J,ce){return R===null||R.tag!==4||R.stateNode.containerInfo!==J.containerInfo||R.stateNode.implementation!==J.implementation?(R=xr(J,G.mode,ce),R.return=G,R):(R=i(R,J.children||[]),R.return=G,R)}function se(G,R,J,ce,xe){return R===null||R.tag!==7?(R=fa(J,G.mode,ce,xe),R.return=G,R):(R=i(R,J),R.return=G,R)}function ue(G,R,J){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=vr(""+R,G.mode,J),R.return=G,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case re:return J=ki(R.type,R.key,R.props,null,G.mode,J),Ll(J,R),J.return=G,J;case X:return R=xr(R,G.mode,J),R.return=G,R;case y:return R=ya(R),ue(G,R,J)}if(le(R)||ie(R))return R=fa(R,G.mode,J,null),R.return=G,R;if(typeof R.then=="function")return ue(G,Qi(R),J);if(R.$$typeof===k)return ue(G,Ui(G,R),J);Yi(G,R)}return null}function F(G,R,J,ce){var xe=R!==null?R.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return xe!==null?null:m(G,R,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case re:return J.key===xe?T(G,R,J,ce):null;case X:return J.key===xe?K(G,R,J,ce):null;case y:return J=ya(J),F(G,R,J,ce)}if(le(J)||ie(J))return xe!==null?null:se(G,R,J,ce,null);if(typeof J.then=="function")return F(G,R,Qi(J),ce);if(J.$$typeof===k)return F(G,R,Ui(G,J),ce);Yi(G,J)}return null}function te(G,R,J,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(J)||null,m(R,G,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case re:return G=G.get(ce.key===null?J:ce.key)||null,T(R,G,ce,xe);case X:return G=G.get(ce.key===null?J:ce.key)||null,K(R,G,ce,xe);case y:return ce=ya(ce),te(G,R,J,ce,xe)}if(le(ce)||ie(ce))return G=G.get(J)||null,se(R,G,ce,xe,null);if(typeof ce.then=="function")return te(G,R,J,Qi(ce),xe);if(ce.$$typeof===k)return te(G,R,J,Ui(R,ce),xe);Yi(R,ce)}return null}function ye(G,R,J,ce){for(var xe=null,Be=null,ve=R,Oe=R=0,Le=null;ve!==null&&Oe<J.length;Oe++){ve.index>Oe?(Le=ve,ve=null):Le=ve.sibling;var qe=F(G,ve,J[Oe],ce);if(qe===null){ve===null&&(ve=Le);break}e&&ve&&qe.alternate===null&&t(G,ve),R=s(qe,R,Oe),Be===null?xe=qe:Be.sibling=qe,Be=qe,ve=Le}if(Oe===J.length)return n(G,ve),Ue&&yn(G,Oe),xe;if(ve===null){for(;Oe<J.length;Oe++)ve=ue(G,J[Oe],ce),ve!==null&&(R=s(ve,R,Oe),Be===null?xe=ve:Be.sibling=ve,Be=ve);return Ue&&yn(G,Oe),xe}for(ve=a(ve);Oe<J.length;Oe++)Le=te(ve,G,Oe,J[Oe],ce),Le!==null&&(e&&Le.alternate!==null&&ve.delete(Le.key===null?Oe:Le.key),R=s(Le,R,Oe),Be===null?xe=Le:Be.sibling=Le,Be=Le);return e&&ve.forEach(function(aa){return t(G,aa)}),Ue&&yn(G,Oe),xe}function ze(G,R,J,ce){if(J==null)throw Error(u(151));for(var xe=null,Be=null,ve=R,Oe=R=0,Le=null,qe=J.next();ve!==null&&!qe.done;Oe++,qe=J.next()){ve.index>Oe?(Le=ve,ve=null):Le=ve.sibling;var aa=F(G,ve,qe.value,ce);if(aa===null){ve===null&&(ve=Le);break}e&&ve&&aa.alternate===null&&t(G,ve),R=s(aa,R,Oe),Be===null?xe=aa:Be.sibling=aa,Be=aa,ve=Le}if(qe.done)return n(G,ve),Ue&&yn(G,Oe),xe;if(ve===null){for(;!qe.done;Oe++,qe=J.next())qe=ue(G,qe.value,ce),qe!==null&&(R=s(qe,R,Oe),Be===null?xe=qe:Be.sibling=qe,Be=qe);return Ue&&yn(G,Oe),xe}for(ve=a(ve);!qe.done;Oe++,qe=J.next())qe=te(ve,G,Oe,qe.value,ce),qe!==null&&(e&&qe.alternate!==null&&ve.delete(qe.key===null?Oe:qe.key),R=s(qe,R,Oe),Be===null?xe=qe:Be.sibling=qe,Be=qe);return e&&ve.forEach(function(qg){return t(G,qg)}),Ue&&yn(G,Oe),xe}function Ze(G,R,J,ce){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case re:e:{for(var xe=J.key;R!==null;){if(R.key===xe){if(xe=J.type,xe===S){if(R.tag===7){n(G,R.sibling),ce=i(R,J.props.children),ce.return=G,G=ce;break e}}else if(R.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===y&&ya(xe)===R.type){n(G,R.sibling),ce=i(R,J.props),Ll(ce,J),ce.return=G,G=ce;break e}n(G,R);break}else t(G,R);R=R.sibling}J.type===S?(ce=fa(J.props.children,G.mode,ce,J.key),ce.return=G,G=ce):(ce=ki(J.type,J.key,J.props,null,G.mode,ce),Ll(ce,J),ce.return=G,G=ce)}return d(G);case X:e:{for(xe=J.key;R!==null;){if(R.key===xe)if(R.tag===4&&R.stateNode.containerInfo===J.containerInfo&&R.stateNode.implementation===J.implementation){n(G,R.sibling),ce=i(R,J.children||[]),ce.return=G,G=ce;break e}else{n(G,R);break}else t(G,R);R=R.sibling}ce=xr(J,G.mode,ce),ce.return=G,G=ce}return d(G);case y:return J=ya(J),Ze(G,R,J,ce)}if(le(J))return ye(G,R,J,ce);if(ie(J)){if(xe=ie(J),typeof xe!="function")throw Error(u(150));return J=xe.call(J),ze(G,R,J,ce)}if(typeof J.then=="function")return Ze(G,R,Qi(J),ce);if(J.$$typeof===k)return Ze(G,R,Ui(G,J),ce);Yi(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,R!==null&&R.tag===6?(n(G,R.sibling),ce=i(R,J),ce.return=G,G=ce):(n(G,R),ce=vr(J,G.mode,ce),ce.return=G,G=ce),d(G)):n(G,R)}return function(G,R,J,ce){try{Rl=0;var xe=Ze(G,R,J,ce);return Ja=null,xe}catch(ve){if(ve===Za||ve===qi)throw ve;var Be=Ut(29,ve,null,G.mode);return Be.lanes=ce,Be.return=G,Be}}}var xa=Lu(!0),Uu=Lu(!1),Hn=!1;function Mr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(He&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=_i(e),ju(e,null,n),t}return Oi(e,a,t,n),_i(e)}function Ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Co(e,n)}}function _r(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=d:s=s.next=d,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var kr=!1;function Bl(){if(kr){var e=Xa;if(e!==null)throw e}}function ql(e,t,n,a){kr=!1;var i=e.updateQueue;Hn=!1;var s=i.firstBaseUpdate,d=i.lastBaseUpdate,m=i.shared.pending;if(m!==null){i.shared.pending=null;var T=m,K=T.next;T.next=null,d===null?s=K:d.next=K,d=T;var se=e.alternate;se!==null&&(se=se.updateQueue,m=se.lastBaseUpdate,m!==d&&(m===null?se.firstBaseUpdate=K:m.next=K,se.lastBaseUpdate=T))}if(s!==null){var ue=i.baseState;d=0,se=K=T=null,m=s;do{var F=m.lane&-536870913,te=F!==m.lane;if(te?(Re&F)===F:(a&F)===F){F!==0&&F===Va&&(kr=!0),se!==null&&(se=se.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var ye=e,ze=m;F=t;var Ze=n;switch(ze.tag){case 1:if(ye=ze.payload,typeof ye=="function"){ue=ye.call(Ze,ue,F);break e}ue=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ze.payload,F=typeof ye=="function"?ye.call(Ze,ue,F):ye,F==null)break e;ue=D({},ue,F);break e;case 2:Hn=!0}}F=m.callback,F!==null&&(e.flags|=64,te&&(e.flags|=8192),te=i.callbacks,te===null?i.callbacks=[F]:te.push(F))}else te={lane:F,tag:m.tag,payload:m.payload,callback:m.callback,next:null},se===null?(K=se=te,T=ue):se=se.next=te,d|=F;if(m=m.next,m===null){if(m=i.shared.pending,m===null)break;te=m,m=te.next,te.next=null,i.lastBaseUpdate=te,i.shared.pending=null}}while(!0);se===null&&(T=ue),i.baseState=T,i.firstBaseUpdate=K,i.lastBaseUpdate=se,s===null&&(i.shared.lanes=0),Zn|=d,e.lanes=d,e.memoizedState=ue}}function Bu(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function qu(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Bu(n[e],t)}var Ka=b(null),Gi=b(0);function Hu(e,t){e=Cn,V(Gi,e),V(Ka,t),Cn=e|t.baseLanes}function Rr(){V(Gi,Cn),V(Ka,Ka.current)}function Lr(){Cn=Gi.current,_(Ka),_(Gi)}var Bt=b(null),Ft=null;function Gn(e){var t=e.alternate;V(at,at.current&1),V(Bt,e),Ft===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Ft=e)}function Ur(e){V(at,at.current),V(Bt,e),Ft===null&&(Ft=e)}function Qu(e){e.tag===22?(V(at,at.current),V(Bt,e),Ft===null&&(Ft=e)):$n()}function $n(){V(at,at.current),V(Bt,Bt.current)}function qt(e){_(Bt),Ft===e&&(Ft=null),_(at)}var at=b(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Gc(n)||$c(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,Me=null,Ve=null,st=null,Vi=!1,Fa=!1,ja=!1,Xi=0,Hl=0,Wa=null,Tp=0;function tt(){throw Error(u(321))}function Br(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function qr(e,t,n,a,i,s){return jn=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?wd:ec,ja=!1,s=n(a,i),ja=!1,Fa&&(s=Gu(t,n,a,i)),Yu(e),s}function Yu(e){w.H=Gl;var t=Ve!==null&&Ve.next!==null;if(jn=0,st=Ve=Me=null,Vi=!1,Hl=0,Wa=null,t)throw Error(u(300));e===null||rt||(e=e.dependencies,e!==null&&Li(e)&&(rt=!0))}function Gu(e,t,n,a){Me=e;var i=0;do{if(Fa&&(Wa=null),Hl=0,Fa=!1,25<=i)throw Error(u(301));if(i+=1,st=Ve=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}w.H=Ad,s=t(n,a)}while(Fa);return s}function Dp(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Ql(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Me.flags|=1024),t}function Hr(){var e=Xi!==0;return Xi=0,e}function Qr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yr(e){if(Vi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Vi=!1}jn=0,st=Ve=Me=null,Fa=!1,Hl=Xi=0,Wa=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Me.memoizedState=st=e:st=st.next=e,st}function lt(){if(Ve===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=st===null?Me.memoizedState:st.next;if(t!==null)st=t,Ve=e;else{if(e===null)throw Me.alternate===null?Error(u(467)):Error(u(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},st===null?Me.memoizedState=st=e:st=st.next=e}return st}function Zi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var t=Hl;return Hl+=1,Wa===null&&(Wa=[]),e=_u(Wa,e,t),t=Me,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?wd:ec),e}function Ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===k)return yt(e)}throw Error(u(438,String(e)))}function Gr(e){var t=null,n=Me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Zi(),Me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=I;return t.index++,n}function bn(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=lt();return $r(t,Ve,e)}function $r(e,t,n){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var d=i.next;i.next=s.next,s.next=d}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var m=d=null,T=null,K=t,se=!1;do{var ue=K.lane&-536870913;if(ue!==K.lane?(Re&ue)===ue:(jn&ue)===ue){var F=K.revertLane;if(F===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ue===Va&&(se=!0);else if((jn&F)===F){K=K.next,F===Va&&(se=!0);continue}else ue={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},T===null?(m=T=ue,d=s):T=T.next=ue,Me.lanes|=F,Zn|=F;ue=K.action,ja&&n(s,ue),s=K.hasEagerState?K.eagerState:n(s,ue)}else F={lane:ue,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},T===null?(m=T=F,d=s):T=T.next=F,Me.lanes|=ue,Zn|=ue;K=K.next}while(K!==null&&K!==t);if(T===null?d=s:T.next=m,!Lt(s,e.memoizedState)&&(rt=!0,se&&(n=Xa,n!==null)))throw n;e.memoizedState=s,e.baseState=d,e.baseQueue=T,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Vr(e){var t=lt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do s=e(s,d.action),d=d.next;while(d!==i);Lt(s,t.memoizedState)||(rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function $u(e,t,n){var a=Me,i=lt(),s=Ue;if(s){if(n===void 0)throw Error(u(407));n=n()}else n=t();var d=!Lt((Ve||i).memoizedState,n);if(d&&(i.memoizedState=n,rt=!0),i=i.queue,Jr(Zu.bind(null,a,i,e),[e]),i.getSnapshot!==t||d||st!==null&&st.memoizedState.tag&1){if(a.flags|=2048,Ia(9,{destroy:void 0},Xu.bind(null,a,i,n,t),null),Je===null)throw Error(u(349));s||(jn&127)!==0||Vu(a,t,n)}return n}function Vu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t=Zi(),Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xu(e,t,n,a){t.value=n,t.getSnapshot=a,Ju(t)&&Ku(e)}function Zu(e,t,n){return n(function(){Ju(t)&&Ku(e)})}function Ju(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function Ku(e){var t=da(e,2);t!==null&&kt(t,e,2)}function Xr(e){var t=zt();if(typeof e=="function"){var n=e;if(e=n(),ja){tn(!0);try{n()}finally{tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},t}function Fu(e,t,n,a){return e.baseState=n,$r(e,Ve,typeof a=="function"?a:bn)}function Mp(e,t,n,a,i){if(Ii(e))throw Error(u(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){s.listeners.push(d)}};w.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,Wu(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Wu(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=w.T,d={};w.T=d;try{var m=n(i,a),T=w.S;T!==null&&T(d,m),Iu(e,t,m)}catch(K){Zr(e,t,K)}finally{s!==null&&d.types!==null&&(s.types=d.types),w.T=s}}else try{s=n(i,a),Iu(e,t,s)}catch(K){Zr(e,t,K)}}function Iu(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Pu(e,t,a)},function(a){return Zr(e,t,a)}):Pu(e,t,n)}function Pu(e,t,n){t.status="fulfilled",t.value=n,ed(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Wu(e,n)))}function Zr(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ed(t),t=t.next;while(t!==a)}e.action=null}function ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function td(e,t){return t}function nd(e,t){if(Ue){var n=Je.formState;if(n!==null){e:{var a=Me;if(Ue){if(Fe){t:{for(var i=Fe,s=Kt;i.nodeType!==8;){if(!s){i=null;break t}if(i=Wt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Fe=Wt(i.nextSibling),a=i.data==="F!";break e}}Bn(a)}a=!1}a&&(t=n[0])}}return n=zt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},n.queue=a,n=bd.bind(null,Me,a),a.dispatch=n,a=Xr(!1),s=Pr.bind(null,Me,!1,a.queue),a=zt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Mp.bind(null,Me,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function ad(e){var t=lt();return ld(t,Ve,e)}function ld(e,t,n){if(t=$r(e,t,td)[0],e=Ki(bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ql(t)}catch(d){throw d===Za?qi:d}else a=t;t=lt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(Me.flags|=2048,Ia(9,{destroy:void 0},Op.bind(null,i,n),null)),[a,s,e]}function Op(e,t){e.action=t}function id(e){var t=lt(),n=Ve;if(n!==null)return ld(t,n,e);lt(),t=t.memoizedState,n=lt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ia(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Me.updateQueue,t===null&&(t=Zi(),Me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function sd(){return lt().memoizedState}function Fi(e,t,n,a){var i=zt();Me.flags|=e,i.memoizedState=Ia(1|t,{destroy:void 0},n,a===void 0?null:a)}function Wi(e,t,n,a){var i=lt();a=a===void 0?null:a;var s=i.memoizedState.inst;Ve!==null&&a!==null&&Br(a,Ve.memoizedState.deps)?i.memoizedState=Ia(t,s,n,a):(Me.flags|=e,i.memoizedState=Ia(1|t,s,n,a))}function rd(e,t){Fi(8390656,8,e,t)}function Jr(e,t){Wi(2048,8,e,t)}function _p(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=Zi(),Me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function cd(e){var t=lt().memoizedState;return _p({ref:t,nextImpl:e}),function(){if((He&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function od(e,t){return Wi(4,2,e,t)}function ud(e,t){return Wi(4,4,e,t)}function dd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fd(e,t,n){n=n!=null?n.concat([e]):null,Wi(4,4,dd.bind(null,t,e),n)}function Kr(){}function md(e,t){var n=lt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Br(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function hd(e,t){var n=lt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Br(t,a[1]))return a[0];if(a=e(),ja){tn(!0);try{e()}finally{tn(!1)}}return n.memoizedState=[a,t],a}function Fr(e,t,n){return n===void 0||(jn&1073741824)!==0&&(Re&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=gf(),Me.lanes|=e,Zn|=e,n)}function pd(e,t,n,a){return Lt(n,t)?n:Ka.current!==null?(e=Fr(e,n,a),Lt(e,t)||(rt=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(Re&261930)===0?(rt=!0,e.memoizedState=n):(e=gf(),Me.lanes|=e,Zn|=e,t)}function gd(e,t,n,a,i){var s=$.p;$.p=s!==0&&8>s?s:8;var d=w.T,m={};w.T=m,Pr(e,!1,t,n);try{var T=i(),K=w.S;if(K!==null&&K(m,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var se=Cp(T,a);Yl(e,t,se,Yt(e))}else Yl(e,t,a,Yt(e))}catch(ue){Yl(e,t,{then:function(){},status:"rejected",reason:ue},Yt())}finally{$.p=s,d!==null&&m.types!==null&&(d.types=m.types),w.T=d}}function kp(){}function Wr(e,t,n,a){if(e.tag!==5)throw Error(u(476));var i=yd(e).queue;gd(e,i,t,P,n===null?kp:function(){return vd(e),n(a)})}function yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:P},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vd(e){var t=yd(e);t.next===null&&(t=e.alternate.memoizedState),Yl(e,t.next.queue,{},Yt())}function Ir(){return yt(ii)}function xd(){return lt().memoizedState}function jd(){return lt().memoizedState}function Rp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Yt();e=Qn(n);var a=Yn(t,e,n);a!==null&&(kt(a,t,n),Ul(a,t,n)),t={cache:Er()},e.payload=t;return}t=t.return}}function Lp(e,t,n){var a=Yt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ii(e)?Sd(t,n):(n=gr(e,t,n,a),n!==null&&(kt(n,e,a),Nd(n,t,a)))}function bd(e,t,n){var a=Yt();Yl(e,t,n,a)}function Yl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ii(e))Sd(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var d=t.lastRenderedState,m=s(d,n);if(i.hasEagerState=!0,i.eagerState=m,Lt(m,d))return Oi(e,t,i,0),Je===null&&Mi(),!1}catch{}if(n=gr(e,t,i,a),n!==null)return kt(n,e,a),Nd(n,t,a),!0}return!1}function Pr(e,t,n,a){if(a={lane:2,revertLane:Mc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ii(e)){if(t)throw Error(u(479))}else t=gr(e,n,a,2),t!==null&&kt(t,e,2)}function Ii(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Sd(e,t){Fa=Vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Co(e,n)}}var Gl={readContext:yt,use:Ji,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Gl.useEffectEvent=tt;var wd={readContext:yt,use:Ji,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:rd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Fi(4194308,4,dd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){Fi(4,2,e,t)},useMemo:function(e,t){var n=zt();t=t===void 0?null:t;var a=e();if(ja){tn(!0);try{e()}finally{tn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zt();if(n!==void 0){var i=n(t);if(ja){tn(!0);try{n(t)}finally{tn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Lp.bind(null,Me,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xr(e);var t=e.queue,n=bd.bind(null,Me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Kr,useDeferredValue:function(e,t){var n=zt();return Fr(n,e,t)},useTransition:function(){var e=Xr(!1);return e=gd.bind(null,Me,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Me,i=zt();if(Ue){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Je===null)throw Error(u(349));(Re&127)!==0||Vu(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,rd(Zu.bind(null,a,s,e),[e]),a.flags|=2048,Ia(9,{destroy:void 0},Xu.bind(null,a,s,n,t),null),n},useId:function(){var e=zt(),t=Je.identifierPrefix;if(Ue){var n=on,a=cn;n=(a&~(1<<32-Rt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Xi++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Tp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ir,useFormState:nd,useActionState:nd,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pr.bind(null,Me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gr,useCacheRefresh:function(){return zt().memoizedState=Rp.bind(null,Me)},useEffectEvent:function(e){var t=zt(),n={impl:e};return t.memoizedState=n,function(){if((He&2)!==0)throw Error(u(440));return n.impl.apply(void 0,arguments)}}},ec={readContext:yt,use:Ji,useCallback:md,useContext:yt,useEffect:Jr,useImperativeHandle:fd,useInsertionEffect:od,useLayoutEffect:ud,useMemo:hd,useReducer:Ki,useRef:sd,useState:function(){return Ki(bn)},useDebugValue:Kr,useDeferredValue:function(e,t){var n=lt();return pd(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Ki(bn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Ql(e),t]},useSyncExternalStore:$u,useId:xd,useHostTransitionStatus:Ir,useFormState:ad,useActionState:ad,useOptimistic:function(e,t){var n=lt();return Fu(n,Ve,e,t)},useMemoCache:Gr,useCacheRefresh:jd};ec.useEffectEvent=cd;var Ad={readContext:yt,use:Ji,useCallback:md,useContext:yt,useEffect:Jr,useImperativeHandle:fd,useInsertionEffect:od,useLayoutEffect:ud,useMemo:hd,useReducer:Vr,useRef:sd,useState:function(){return Vr(bn)},useDebugValue:Kr,useDeferredValue:function(e,t){var n=lt();return Ve===null?Fr(n,e,t):pd(n,Ve.memoizedState,e,t)},useTransition:function(){var e=Vr(bn)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:Ql(e),t]},useSyncExternalStore:$u,useId:xd,useHostTransitionStatus:Ir,useFormState:id,useActionState:id,useOptimistic:function(e,t){var n=lt();return Ve!==null?Fu(n,Ve,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gr,useCacheRefresh:jd};Ad.useEffectEvent=cd;function tc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:D({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Yt(),i=Qn(a);i.payload=t,n!=null&&(i.callback=n),t=Yn(e,i,a),t!==null&&(kt(t,e,a),Ul(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Yt(),i=Qn(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yn(e,i,a),t!==null&&(kt(t,e,a),Ul(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),a=Qn(n);a.tag=2,t!=null&&(a.callback=t),t=Yn(e,a,n),t!==null&&(kt(t,e,n),Ul(t,e,n))}};function zd(e,t,n,a,i,s,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,d):t.prototype&&t.prototype.isPureReactComponent?!Tl(n,a)||!Tl(i,s):!0}function Ed(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function ba(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=D({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Cd(e){Di(e)}function Td(e){console.error(e)}function Dd(e){Di(e)}function Pi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Md(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ac(e,t,n){return n=Qn(n),n.tag=3,n.payload={element:null},n.callback=function(){Pi(e,t)},n}function Od(e){return e=Qn(e),e.tag=3,e}function _d(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Md(t,n,a)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Md(t,n,a),typeof i!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function Up(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&$a(t,n,i,!0),n=Bt.current,n!==null){switch(n.tag){case 31:case 13:return Ft===null?ds():n.alternate===null&&nt===0&&(nt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Hi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Cc(e,a,i)),!1;case 22:return n.flags|=65536,a===Hi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Cc(e,a,i)),!1}throw Error(u(435,n.tag))}return Cc(e,a,i),ds(),!1}if(Ue)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Sr&&(e=Error(u(422),{cause:a}),Ol(Xt(e,n)))):(a!==Sr&&(t=Error(u(423),{cause:a}),Ol(Xt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Xt(a,n),i=ac(e.stateNode,a,i),_r(e,i),nt!==4&&(nt=2)),!1;var s=Error(u(520),{cause:a});if(s=Xt(s,n),Wl===null?Wl=[s]:Wl.push(s),nt!==4&&(nt=2),t===null)return!0;a=Xt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=ac(n.stateNode,a,e),_r(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Od(i),_d(i,e,n,a),_r(n,i),!1}n=n.return}while(n!==null);return!1}var lc=Error(u(461)),rt=!1;function vt(e,t,n,a){t.child=e===null?Uu(t,null,n,a):xa(t,e.child,n,a)}function kd(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var d={};for(var m in a)m!=="ref"&&(d[m]=a[m])}else d=a;return pa(t),a=qr(e,t,n,d,s,i),m=Hr(),e!==null&&!rt?(Qr(e,t,i),Sn(e,t,i)):(Ue&&m&&jr(t),t.flags|=1,vt(e,t,a,i),t.child)}function Rd(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!yr(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ld(e,t,s,a,i)):(e=ki(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fc(e,i)){var d=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(d,a)&&e.ref===t.ref)return Sn(e,t,i)}return t.flags|=1,e=gn(s,a),e.ref=t.ref,e.return=t,t.child=e}function Ld(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Tl(s,a)&&e.ref===t.ref)if(rt=!1,t.pendingProps=a=s,fc(e,i))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Sn(e,t,i)}return ic(e,t,n,a,i)}function Ud(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return Bd(e,t,s,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bi(t,s!==null?s.cachePool:null),s!==null?Hu(t,s):Rr(),Qu(t);else return a=t.lanes=536870912,Bd(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Bi(t,s.cachePool),Hu(t,s),$n(),t.memoizedState=null):(e!==null&&Bi(t,null),Rr(),$n());return vt(e,t,i,n),t.child}function $l(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bd(e,t,n,a,i){var s=Tr();return s=s===null?null:{parent:it._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Bi(t,null),Rr(),Qu(t),e!==null&&$a(e,t,a,!0),t.childLanes=i,null}function es(e,t){return t=ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qd(e,t,n){return xa(t,e.child,null,n),e=es(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function Bp(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(a.mode==="hidden")return e=es(t,a),t.lanes=536870912,$l(null,e);if(Ur(t),(e=Fe)?(e=If(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Su(e),n.return=t,t.child=n,gt=t,Fe=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return es(t,a)}var s=e.memoizedState;if(s!==null){var d=s.dehydrated;if(Ur(t),i)if(t.flags&256)t.flags&=-257,t=qd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(rt||$a(e,t,n,!1),i=(n&e.childLanes)!==0,rt||i){if(a=Je,a!==null&&(d=To(a,n),d!==0&&d!==s.retryLane))throw s.retryLane=d,da(e,d),kt(a,e,d),lc;ds(),t=qd(e,t,n)}else e=s.treeContext,Fe=Wt(d.nextSibling),gt=t,Ue=!0,Un=null,Kt=!1,e!==null&&Au(t,e),t=es(t,a),t.flags|=4096;return t}return e=gn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ts(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ic(e,t,n,a,i){return pa(t),n=qr(e,t,n,a,void 0,i),a=Hr(),e!==null&&!rt?(Qr(e,t,i),Sn(e,t,i)):(Ue&&a&&jr(t),t.flags|=1,vt(e,t,n,i),t.child)}function Hd(e,t,n,a,i,s){return pa(t),t.updateQueue=null,n=Gu(t,a,n,i),Yu(e),a=Hr(),e!==null&&!rt?(Qr(e,t,s),Sn(e,t,s)):(Ue&&a&&jr(t),t.flags|=1,vt(e,t,n,s),t.child)}function Qd(e,t,n,a,i){if(pa(t),t.stateNode===null){var s=Ha,d=n.contextType;typeof d=="object"&&d!==null&&(s=yt(d)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Mr(t),d=n.contextType,s.context=typeof d=="object"&&d!==null?yt(d):Ha,s.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(tc(t,n,d,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(d=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),d!==s.state&&nc.enqueueReplaceState(s,s.state,null),ql(t,a,s,i),Bl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var m=t.memoizedProps,T=ba(n,m);s.props=T;var K=s.context,se=n.contextType;d=Ha,typeof se=="object"&&se!==null&&(d=yt(se));var ue=n.getDerivedStateFromProps;se=typeof ue=="function"||typeof s.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,se||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m||K!==d)&&Ed(t,s,a,d),Hn=!1;var F=t.memoizedState;s.state=F,ql(t,a,s,i),Bl(),K=t.memoizedState,m||F!==K||Hn?(typeof ue=="function"&&(tc(t,n,ue,a),K=t.memoizedState),(T=Hn||zd(t,n,T,a,F,K,d))?(se||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=K),s.props=a,s.state=K,s.context=d,a=T):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Or(e,t),d=t.memoizedProps,se=ba(n,d),s.props=se,ue=t.pendingProps,F=s.context,K=n.contextType,T=Ha,typeof K=="object"&&K!==null&&(T=yt(K)),m=n.getDerivedStateFromProps,(K=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(d!==ue||F!==T)&&Ed(t,s,a,T),Hn=!1,F=t.memoizedState,s.state=F,ql(t,a,s,i),Bl();var te=t.memoizedState;d!==ue||F!==te||Hn||e!==null&&e.dependencies!==null&&Li(e.dependencies)?(typeof m=="function"&&(tc(t,n,m,a),te=t.memoizedState),(se=Hn||zd(t,n,se,a,F,te,T)||e!==null&&e.dependencies!==null&&Li(e.dependencies))?(K||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,te,T),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,te,T)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=te),s.props=a,s.state=te,s.context=T,a=se):(typeof s.componentDidUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,ts(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=xa(t,e.child,null,i),t.child=xa(t,null,n,i)):vt(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Sn(e,t,i),e}function Yd(e,t,n,a){return ma(),t.flags|=256,vt(e,t,n,a),t.child}var sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rc(e){return{baseLanes:e,cachePool:Mu()}}function cc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Qt),e}function Gd(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,d;if((d=s)||(d=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),d&&(i=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(i?Gn(t):$n(),(e=Fe)?(e=If(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ln!==null?{id:cn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Su(e),n.return=t,t.child=n,gt=t,Fe=null)):e=null,e===null)throw Bn(t);return $c(e)?t.lanes=32:t.lanes=536870912,null}var m=a.children;return a=a.fallback,i?($n(),i=t.mode,m=ns({mode:"hidden",children:m},i),a=fa(a,i,n,null),m.return=t,a.return=t,m.sibling=a,t.child=m,a=t.child,a.memoizedState=rc(n),a.childLanes=cc(e,d,n),t.memoizedState=sc,$l(null,a)):(Gn(t),oc(t,m))}var T=e.memoizedState;if(T!==null&&(m=T.dehydrated,m!==null)){if(s)t.flags&256?(Gn(t),t.flags&=-257,t=uc(e,t,n)):t.memoizedState!==null?($n(),t.child=e.child,t.flags|=128,t=null):($n(),m=a.fallback,i=t.mode,a=ns({mode:"visible",children:a.children},i),m=fa(m,i,n,null),m.flags|=2,a.return=t,m.return=t,a.sibling=m,t.child=a,xa(t,e.child,null,n),a=t.child,a.memoizedState=rc(n),a.childLanes=cc(e,d,n),t.memoizedState=sc,t=$l(null,a));else if(Gn(t),$c(m)){if(d=m.nextSibling&&m.nextSibling.dataset,d)var K=d.dgst;d=K,a=Error(u(419)),a.stack="",a.digest=d,Ol({value:a,source:null,stack:null}),t=uc(e,t,n)}else if(rt||$a(e,t,n,!1),d=(n&e.childLanes)!==0,rt||d){if(d=Je,d!==null&&(a=To(d,n),a!==0&&a!==T.retryLane))throw T.retryLane=a,da(e,a),kt(d,e,a),lc;Gc(m)||ds(),t=uc(e,t,n)}else Gc(m)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Fe=Wt(m.nextSibling),gt=t,Ue=!0,Un=null,Kt=!1,e!==null&&Au(t,e),t=oc(t,a.children),t.flags|=4096);return t}return i?($n(),m=a.fallback,i=t.mode,T=e.child,K=T.sibling,a=gn(T,{mode:"hidden",children:a.children}),a.subtreeFlags=T.subtreeFlags&65011712,K!==null?m=gn(K,m):(m=fa(m,i,n,null),m.flags|=2),m.return=t,a.return=t,a.sibling=m,t.child=a,$l(null,a),a=t.child,m=e.child.memoizedState,m===null?m=rc(n):(i=m.cachePool,i!==null?(T=it._currentValue,i=i.parent!==T?{parent:T,pool:T}:i):i=Mu(),m={baseLanes:m.baseLanes|n,cachePool:i}),a.memoizedState=m,a.childLanes=cc(e,d,n),t.memoizedState=sc,$l(e.child,a)):(Gn(t),n=e.child,e=n.sibling,n=gn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function oc(e,t){return t=ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ns(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function uc(e,t,n){return xa(t,e.child,null,n),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $d(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ar(e.return,t,n)}function dc(e,t,n,a,i,s){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=i,d.treeForkCount=s)}function Vd(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var d=at.current,m=(d&2)!==0;if(m?(d=d&1|2,t.flags|=128):d&=1,V(at,d),vt(e,t,a,n),a=Ue?Ml:0,!m&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$d(e,n,t);else if(e.tag===19)$d(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$i(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dc(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$i(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dc(t,!0,n,null,s,a);break;case"together":dc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if($a(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Li(e)))}function qp(e,t,n){switch(t.tag){case 3:ne(t,t.stateNode.containerInfo),qn(t,it,e.memoizedState.cache),ma();break;case 27:case 5:pe(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ur(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Gn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Gd(e,t,n):(Gn(t),e=Sn(e,t,n),e!==null?e.sibling:null);Gn(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||($a(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Vd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(at,at.current),a)break;return null;case 22:return t.lanes=0,Ud(e,t,n,t.pendingProps);case 24:qn(t,it,e.memoizedState.cache)}return Sn(e,t,n)}function Xd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!fc(e,n)&&(t.flags&128)===0)return rt=!1,qp(e,t,n);rt=(e.flags&131072)!==0}else rt=!1,Ue&&(t.flags&1048576)!==0&&wu(t,Ml,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ya(t.elementType),t.type=e,typeof e=="function")yr(e)?(a=ba(e,a),t.tag=1,t=Qd(null,t,e,a,n)):(t.tag=0,t=ic(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===W){t.tag=11,t=kd(null,t,e,a,n);break e}else if(i===g){t.tag=14,t=Rd(null,t,e,a,n);break e}}throw t=M(e)||e,Error(u(306,t,""))}}return t;case 0:return ic(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=ba(a,t.pendingProps),Qd(e,t,a,i,n);case 3:e:{if(ne(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,Or(e,t),ql(t,a,null,n);var d=t.memoizedState;if(a=d.cache,qn(t,it,a),a!==s.cache&&zr(t,[it],n,!0),Bl(),a=d.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Yd(e,t,a,n);break e}else if(a!==i){i=Xt(Error(u(424)),t),Ol(i),t=Yd(e,t,a,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Fe=Wt(e.firstChild),gt=t,Ue=!0,Un=null,Kt=!0,n=Uu(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),a===i){t=Sn(e,t,n);break e}vt(e,t,a,n)}t=t.child}return t;case 26:return ts(e,t),e===null?(n=lm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,a=vs(Q.current).createElement(n),a[pt]=t,a[Ct]=e,xt(a,n,e),ft(a),t.stateNode=a):t.memoizedState=lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pe(t),e===null&&Ue&&(a=t.stateNode=tm(t.type,t.pendingProps,Q.current),gt=t,Kt=!0,i=Fe,In(t.type)?(Vc=i,Fe=Wt(a.firstChild)):Fe=i),vt(e,t,t.pendingProps.children,n),ts(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((i=a=Fe)&&(a=pg(a,t.type,t.pendingProps,Kt),a!==null?(t.stateNode=a,gt=t,Fe=Wt(a.firstChild),Kt=!1,i=!0):i=!1),i||Bn(t)),pe(t),i=t.type,s=t.pendingProps,d=e!==null?e.memoizedProps:null,a=s.children,Hc(i,s)?a=null:d!==null&&Hc(i,d)&&(t.flags|=32),t.memoizedState!==null&&(i=qr(e,t,Dp,null,null,n),ii._currentValue=i),ts(e,t),vt(e,t,a,n),t.child;case 6:return e===null&&Ue&&((e=n=Fe)&&(n=gg(n,t.pendingProps,Kt),n!==null?(t.stateNode=n,gt=t,Fe=null,e=!0):e=!1),e||Bn(t)),null;case 13:return Gd(e,t,n);case 4:return ne(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=xa(t,null,a,n):vt(e,t,a,n),t.child;case 11:return kd(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,qn(t,t.type,a.value),vt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,pa(t),i=yt(i),a=a(i),t.flags|=1,vt(e,t,a,n),t.child;case 14:return Rd(e,t,t.type,t.pendingProps,n);case 15:return Ld(e,t,t.type,t.pendingProps,n);case 19:return Vd(e,t,n);case 31:return Bp(e,t,n);case 22:return Ud(e,t,n,t.pendingProps);case 24:return pa(t),a=yt(it),e===null?(i=Tr(),i===null&&(i=Je,s=Er(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Mr(t),qn(t,it,i)):((e.lanes&n)!==0&&(Or(e,t),ql(t,null,null,n),Bl()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),qn(t,it,a)):(a=s.cache,qn(t,it,a),a!==i.cache&&zr(t,[it],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Nn(e){e.flags|=4}function mc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw va=Hi,Dr}else e.flags&=-16777217}function Zd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!om(t))if(jf())e.flags|=8192;else throw va=Hi,Dr}function as(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?zo():536870912,e.lanes|=t,nl|=t)}function Vl(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Hp(e,t,n){var a=t.pendingProps;switch(br(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return We(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xn(it),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nr())),We(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(Nn(t),s!==null?(We(t),Zd(t,s)):(We(t),mc(t,i,null,a,n))):s?s!==e.memoizedState?(Nn(t),We(t),Zd(t,s)):(We(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Nn(t),We(t),mc(t,i,e,a,n)),null;case 27:if(Ne(t),n=Q.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Nn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return We(t),null}e=q.current,Ga(t)?zu(t):(e=tm(i,a,n),t.stateNode=e,Nn(t))}return We(t),null;case 5:if(Ne(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Nn(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return We(t),null}if(s=q.current,Ga(t))zu(t);else{var d=vs(Q.current);switch(s){case 1:s=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=d.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?d.createElement(i,{is:a.is}):d.createElement(i)}}s[pt]=t,s[Ct]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=s;e:switch(xt(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Nn(t)}}return We(t),mc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Nn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=Q.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=gt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[pt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||$f(e.nodeValue,n)),e||Bn(t,!0)}else e=vs(e).createTextNode(a),e[pt]=t,t.stateNode=e}return We(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ga(t),n!==null){if(e===null){if(!a)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[pt]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),e=!1}else n=Nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return We(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Ga(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(u(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(u(317));i[pt]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else i=Nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),as(t,t.updateQueue),We(t),null);case 4:return he(),e===null&&Rc(t.stateNode.containerInfo),We(t),null;case 10:return xn(t.type),We(t),null;case 19:if(_(at),a=t.memoizedState,a===null)return We(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)Vl(a,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=$i(e),s!==null){for(t.flags|=128,Vl(a,!1),e=s.updateQueue,t.updateQueue=e,as(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)bu(n,e),n=n.sibling;return V(at,at.current&1|2),Ue&&yn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ge()>cs&&(t.flags|=128,i=!0,Vl(a,!1),t.lanes=4194304)}else{if(!i)if(e=$i(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,as(t,e),Vl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ue)return We(t),null}else 2*ge()-a.renderingStartTime>cs&&n!==536870912&&(t.flags|=128,i=!0,Vl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ge(),e.sibling=null,n=at.current,V(at,i?n&1|2:n&1),Ue&&yn(t,a.treeForkCount),e):(We(t),null);case 22:case 23:return qt(t),Lr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),n=t.updateQueue,n!==null&&as(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&_(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xn(it),We(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Qp(e,t){switch(br(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(it),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ne(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(u(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _(at),null;case 4:return he(),null;case 10:return xn(t.type),null;case 22:case 23:return qt(t),Lr(),e!==null&&_(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(it),null;case 25:return null;default:return null}}function Jd(e,t){switch(br(t),t.tag){case 3:xn(it),he();break;case 26:case 27:case 5:Ne(t);break;case 4:he();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:_(at);break;case 10:xn(t.type);break;case 22:case 23:qt(t),Lr(),e!==null&&_(ga);break;case 24:xn(it)}}function Xl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,d=n.inst;a=s(),d.destroy=a}n=n.next}while(n!==i)}}catch(m){$e(t,t.return,m)}}function Vn(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var d=a.inst,m=d.destroy;if(m!==void 0){d.destroy=void 0,i=t;var T=n,K=m;try{K()}catch(se){$e(i,T,se)}}}a=a.next}while(a!==s)}}catch(se){$e(t,t.return,se)}}function Kd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{qu(t,n)}catch(a){$e(e,e.return,a)}}}function Fd(e,t,n){n.props=ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){$e(e,t,a)}}function Zl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){$e(e,t,i)}}function un(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){$e(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){$e(e,t,i)}else n.current=null}function Wd(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){$e(e,e.return,i)}}function hc(e,t,n){try{var a=e.stateNode;og(a,e.type,n,t),a[Ct]=t}catch(i){$e(e,e.return,i)}}function Id(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&In(e.type)||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Id(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&In(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hn));else if(a!==4&&(a===27&&In(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gc(e,t,n),e=e.sibling;e!==null;)gc(e,t,n),e=e.sibling}function ls(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&In(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ls(e,t,n),e=e.sibling;e!==null;)ls(e,t,n),e=e.sibling}function Pd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xt(t,a,n),t[pt]=e,t[Ct]=n}catch(s){$e(e,e.return,s)}}var wn=!1,ct=!1,yc=!1,ef=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Yp(e,t){if(e=e.containerInfo,Bc=As,e=fu(e),ur(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var d=0,m=-1,T=-1,K=0,se=0,ue=e,F=null;t:for(;;){for(var te;ue!==n||i!==0&&ue.nodeType!==3||(m=d+i),ue!==s||a!==0&&ue.nodeType!==3||(T=d+a),ue.nodeType===3&&(d+=ue.nodeValue.length),(te=ue.firstChild)!==null;)F=ue,ue=te;for(;;){if(ue===e)break t;if(F===n&&++K===i&&(m=d),F===s&&++se===a&&(T=d),(te=ue.nextSibling)!==null)break;ue=F,F=ue.parentNode}ue=te}n=m===-1||T===-1?null:{start:m,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(qc={focusedElem:e,selectionRange:n},As=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var ye=ba(n.type,i);e=a.getSnapshotBeforeUpdate(ye,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(ze){$e(n,n.return,ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function tf(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:zn(e,n),a&4&&Xl(5,n);break;case 1:if(zn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){$e(n,n.return,d)}else{var i=ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){$e(n,n.return,d)}}a&64&&Kd(n),a&512&&Zl(n,n.return);break;case 3:if(zn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{qu(e,t)}catch(d){$e(n,n.return,d)}}break;case 27:t===null&&a&4&&Pd(n);case 26:case 5:zn(e,n),t===null&&a&4&&Wd(n),a&512&&Zl(n,n.return);break;case 12:zn(e,n);break;case 31:zn(e,n),a&4&&lf(e,n);break;case 13:zn(e,n),a&4&&sf(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Wp.bind(null,n),yg(e,n))));break;case 22:if(a=n.memoizedState!==null||wn,!a){t=t!==null&&t.memoizedState!==null||ct,i=wn;var s=ct;wn=a,(ct=t)&&!s?En(e,n,(n.subtreeFlags&8772)!==0):zn(e,n),wn=i,ct=s}break;case 30:break;default:zn(e,n)}}function nf(e){var t=e.alternate;t!==null&&(e.alternate=null,nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Dt=!1;function An(e,t,n){for(n=n.child;n!==null;)af(e,t,n),n=n.sibling}function af(e,t,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(_n,n)}catch{}switch(n.tag){case 26:ct||un(n,t),An(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ct||un(n,t);var a=Pe,i=Dt;In(n.type)&&(Pe=n.stateNode,Dt=!1),An(e,t,n),ni(n.stateNode),Pe=a,Dt=i;break;case 5:ct||un(n,t);case 6:if(a=Pe,i=Dt,Pe=null,An(e,t,n),Pe=a,Dt=i,Pe!==null)if(Dt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(s){$e(n,t,s)}else try{Pe.removeChild(n.stateNode)}catch(s){$e(n,t,s)}break;case 18:Pe!==null&&(Dt?(e=Pe,Ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ul(e)):Ff(Pe,n.stateNode));break;case 4:a=Pe,i=Dt,Pe=n.stateNode.containerInfo,Dt=!0,An(e,t,n),Pe=a,Dt=i;break;case 0:case 11:case 14:case 15:Vn(2,n,t),ct||Vn(4,n,t),An(e,t,n);break;case 1:ct||(un(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Fd(n,t,a)),An(e,t,n);break;case 21:An(e,t,n);break;case 22:ct=(a=ct)||n.memoizedState!==null,An(e,t,n),ct=a;break;default:An(e,t,n)}}function lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ul(e)}catch(n){$e(t,t.return,n)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(n){$e(t,t.return,n)}}function Gp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ef),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ef),t;default:throw Error(u(435,e.tag))}}function is(e,t){var n=Gp(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Ip.bind(null,e,a);a.then(i,i)}})}function Mt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 27:if(In(m.type)){Pe=m.stateNode,Dt=!1;break e}break;case 5:Pe=m.stateNode,Dt=!1;break e;case 3:case 4:Pe=m.stateNode.containerInfo,Dt=!0;break e}m=m.return}if(Pe===null)throw Error(u(160));af(s,d,i),Pe=null,Dt=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}var an=null;function rf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(t,e),Ot(e),a&4&&(Vn(3,e,e.return),Xl(3,e),Vn(5,e,e.return));break;case 1:Mt(t,e),Ot(e),a&512&&(ct||n===null||un(n,n.return)),a&64&&wn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=an;if(Mt(t,e),Ot(e),a&512&&(ct||n===null||un(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[jl]||s[pt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),xt(s,a,n),s[pt]=e,ft(s),a=s;break e;case"link":var d=rm("link","href",i).get(a+(n.href||""));if(d){for(var m=0;m<d.length;m++)if(s=d[m],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(m,1);break t}}s=i.createElement(a),xt(s,a,n),i.head.appendChild(s);break;case"meta":if(d=rm("meta","content",i).get(a+(n.content||""))){for(m=0;m<d.length;m++)if(s=d[m],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(m,1);break t}}s=i.createElement(a),xt(s,a,n),i.head.appendChild(s);break;default:throw Error(u(468,a))}s[pt]=e,ft(s),a=s}e.stateNode=a}else cm(i,e.type,e.stateNode);else e.stateNode=sm(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?cm(i,e.type,e.stateNode):sm(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&hc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Mt(t,e),Ot(e),a&512&&(ct||n===null||un(n,n.return)),n!==null&&a&4&&hc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Mt(t,e),Ot(e),a&512&&(ct||n===null||un(n,n.return)),e.flags&32){i=e.stateNode;try{_a(i,"")}catch(ye){$e(e,e.return,ye)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,hc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(yc=!0);break;case 6:if(Mt(t,e),Ot(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(ye){$e(e,e.return,ye)}}break;case 3:if(bs=null,i=an,an=xs(t.containerInfo),Mt(t,e),an=i,Ot(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(t.containerInfo)}catch(ye){$e(e,e.return,ye)}yc&&(yc=!1,cf(e));break;case 4:a=an,an=xs(e.stateNode.containerInfo),Mt(t,e),Ot(e),an=a;break;case 12:Mt(t,e),Ot(e);break;case 31:Mt(t,e),Ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,is(e,a)));break;case 13:Mt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rs=ge()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,is(e,a)));break;case 22:i=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,K=wn,se=ct;if(wn=K||i,ct=se||T,Mt(t,e),ct=se,wn=K,Ot(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||T||wn||ct||Sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(s=T.stateNode,i)d=s.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{m=T.stateNode;var ue=T.memoizedProps.style,F=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;m.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ye){$e(T,T.return,ye)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=i?"":T.memoizedProps}catch(ye){$e(T,T.return,ye)}}}else if(t.tag===18){if(n===null){T=t;try{var te=T.stateNode;i?Wf(te,!0):Wf(T.stateNode,!1)}catch(ye){$e(T,T.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,is(e,n))));break;case 19:Mt(t,e),Ot(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,is(e,a)));break;case 30:break;case 21:break;default:Mt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Id(a)){n=a;break}a=a.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var i=n.stateNode,s=pc(e);ls(e,s,i);break;case 5:var d=n.stateNode;n.flags&32&&(_a(d,""),n.flags&=-33);var m=pc(e);ls(e,m,d);break;case 3:case 4:var T=n.stateNode.containerInfo,K=pc(e);gc(e,K,T);break;default:throw Error(u(161))}}catch(se){$e(e,e.return,se)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tf(e,t.alternate,t),t=t.sibling}function Sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),Sa(t);break;case 1:un(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fd(t,t.return,n),Sa(t);break;case 27:ni(t.stateNode);case 26:case 5:un(t,t.return),Sa(t);break;case 22:t.memoizedState===null&&Sa(t);break;case 30:Sa(t);break;default:Sa(t)}e=e.sibling}}function En(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,d=s.flags;switch(s.tag){case 0:case 11:case 15:En(i,s,n),Xl(4,s);break;case 1:if(En(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(K){$e(a,a.return,K)}if(a=s,i=a.updateQueue,i!==null){var m=a.stateNode;try{var T=i.shared.hiddenCallbacks;if(T!==null)for(i.shared.hiddenCallbacks=null,i=0;i<T.length;i++)Bu(T[i],m)}catch(K){$e(a,a.return,K)}}n&&d&64&&Kd(s),Zl(s,s.return);break;case 27:Pd(s);case 26:case 5:En(i,s,n),n&&a===null&&d&4&&Wd(s),Zl(s,s.return);break;case 12:En(i,s,n);break;case 31:En(i,s,n),n&&d&4&&lf(i,s);break;case 13:En(i,s,n),n&&d&4&&sf(i,s);break;case 22:s.memoizedState===null&&En(i,s,n),Zl(s,s.return);break;case 30:break;default:En(i,s,n)}t=t.sibling}}function vc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_l(n))}function xc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e))}function ln(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)of(e,t,n,a),t=t.sibling}function of(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ln(e,t,n,a),i&2048&&Xl(9,t);break;case 1:ln(e,t,n,a);break;case 3:ln(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_l(e)));break;case 12:if(i&2048){ln(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,d=s.id,m=s.onPostCommit;typeof m=="function"&&m(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){$e(t,t.return,T)}}else ln(e,t,n,a);break;case 31:ln(e,t,n,a);break;case 13:ln(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,d=t.alternate,t.memoizedState!==null?s._visibility&2?ln(e,t,n,a):Jl(e,t):s._visibility&2?ln(e,t,n,a):(s._visibility|=2,Pa(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&vc(d,t);break;case 24:ln(e,t,n,a),i&2048&&xc(t.alternate,t);break;default:ln(e,t,n,a)}}function Pa(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,d=t,m=n,T=a,K=d.flags;switch(d.tag){case 0:case 11:case 15:Pa(s,d,m,T,i),Xl(8,d);break;case 23:break;case 22:var se=d.stateNode;d.memoizedState!==null?se._visibility&2?Pa(s,d,m,T,i):Jl(s,d):(se._visibility|=2,Pa(s,d,m,T,i)),i&&K&2048&&vc(d.alternate,d);break;case 24:Pa(s,d,m,T,i),i&&K&2048&&xc(d.alternate,d);break;default:Pa(s,d,m,T,i)}t=t.sibling}}function Jl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Jl(n,a),i&2048&&vc(a.alternate,a);break;case 24:Jl(n,a),i&2048&&xc(a.alternate,a);break;default:Jl(n,a)}t=t.sibling}}var Kl=8192;function el(e,t,n){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)uf(e,t,n),e=e.sibling}function uf(e,t,n){switch(e.tag){case 26:el(e,t,n),e.flags&Kl&&e.memoizedState!==null&&Tg(n,an,e.memoizedState,e.memoizedProps);break;case 5:el(e,t,n);break;case 3:case 4:var a=an;an=xs(e.stateNode.containerInfo),el(e,t,n),an=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Kl,Kl=16777216,el(e,t,n),Kl=a):el(e,t,n));break;default:el(e,t,n)}}function df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];mt=a,mf(a,e)}df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ff(e),e=e.sibling}function ff(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ss(e)):Fl(e);break;default:Fl(e)}}function ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];mt=a,mf(a,e)}df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),ss(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ss(t));break;default:ss(t)}e=e.sibling}}function mf(e,t){for(;mt!==null;){var n=mt;switch(n.tag){case 0:case 11:case 15:Vn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:_l(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,mt=a;else e:for(n=e;mt!==null;){a=mt;var i=a.sibling,s=a.return;if(nf(a),a===n){mt=null;break e}if(i!==null){i.return=s,mt=i;break e}mt=s}}}var $p={getCacheForType:function(e){var t=yt(it),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return yt(it).controller.signal}},Vp=typeof WeakMap=="function"?WeakMap:Map,He=0,Je=null,_e=null,Re=0,Ge=0,Ht=null,Xn=!1,tl=!1,jc=!1,Cn=0,nt=0,Zn=0,Na=0,bc=0,Qt=0,nl=0,Wl=null,_t=null,Sc=!1,rs=0,hf=0,cs=1/0,os=null,Jn=null,ot=0,Kn=null,al=null,Tn=0,Nc=0,wc=null,pf=null,Il=0,Ac=null;function Yt(){return(He&2)!==0&&Re!==0?Re&-Re:w.T!==null?Mc():Do()}function gf(){if(Qt===0)if((Re&536870912)===0||Ue){var e=yi;yi<<=1,(yi&3932160)===0&&(yi=262144),Qt=e}else Qt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Qt}function kt(e,t,n){(e===Je&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Fn(e,Re,Qt,!1)),xl(e,n),((He&2)===0||e!==Je)&&(e===Je&&((He&2)===0&&(Na|=n),nt===4&&Fn(e,Re,Qt,!1)),dn(e))}function yf(e,t,n){if((He&6)!==0)throw Error(u(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||vl(e,t),i=a?Jp(e,t):Ec(e,t,!0),s=a;do{if(i===0){tl&&!a&&Fn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Xp(n)){i=Ec(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var m=e;i=Wl;var T=m.current.memoizedState.isDehydrated;if(T&&(ll(m,d).flags|=256),d=Ec(m,d,!1),d!==2){if(jc&&!T){m.errorRecoveryDisabledLanes|=s,Na|=s,i=4;break e}s=_t,_t=i,s!==null&&(_t===null?_t=s:_t.push.apply(_t,s))}i=d}if(s=!1,i!==2)continue}}if(i===1){ll(e,0),Fn(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Fn(a,t,Qt,!Xn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(i=rs+300-ge(),10<i)){if(Fn(a,t,Qt,!Xn),xi(a,0,!0)!==0)break e;Tn=t,a.timeoutHandle=Jf(vf.bind(null,a,n,_t,os,Sc,t,Qt,Na,nl,Xn,s,"Throttled",-0,0),i);break e}vf(a,n,_t,os,Sc,t,Qt,Na,nl,Xn,s,null,-0,0)}}break}while(!0);dn(e)}function vf(e,t,n,a,i,s,d,m,T,K,se,ue,F,te){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},uf(t,s,ue);var ye=(s&62914560)===s?rs-ge():(s&4194048)===s?hf-ge():0;if(ye=Dg(ue,ye),ye!==null){Tn=s,e.cancelPendingCommit=ye(zf.bind(null,e,t,s,n,a,i,d,m,T,se,ue,null,F,te)),Fn(e,s,d,!K);return}}zf(e,t,s,n,a,i,d,m,T)}function Xp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!Lt(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t,n,a){t&=~bc,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Rt(i),d=1<<s;a[s]=-1,i&=~d}n!==0&&Eo(e,n,t)}function us(){return(He&6)===0?(Pl(0),!1):!0}function zc(){if(_e!==null){if(Ge===0)var e=_e.return;else e=_e,vn=ha=null,Yr(e),Ja=null,Rl=0,e=_e;for(;e!==null;)Jd(e.alternate,e),e=e.return;_e=null}}function ll(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,fg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Tn=0,zc(),Je=e,_e=n=gn(e.current,null),Re=t,Ge=0,Ht=null,Xn=!1,tl=vl(e,t),jc=!1,nl=Qt=bc=Na=Zn=nt=0,_t=Wl=null,Sc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Rt(a),s=1<<i;t|=e[i],a&=~s}return Cn=t,Mi(),n}function xf(e,t){Me=null,w.H=Gl,t===Za||t===qi?(t=ku(),Ge=3):t===Dr?(t=ku(),Ge=4):Ge=t===lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,_e===null&&(nt=1,Pi(e,Xt(t,e.current)))}function jf(){var e=Bt.current;return e===null?!0:(Re&4194048)===Re?Ft===null:(Re&62914560)===Re||(Re&536870912)!==0?e===Ft:!1}function bf(){var e=w.H;return w.H=Gl,e===null?Gl:e}function Sf(){var e=w.A;return w.A=$p,e}function ds(){nt=4,Xn||(Re&4194048)!==Re&&Bt.current!==null||(tl=!0),(Zn&134217727)===0&&(Na&134217727)===0||Je===null||Fn(Je,Re,Qt,!1)}function Ec(e,t,n){var a=He;He|=2;var i=bf(),s=Sf();(Je!==e||Re!==t)&&(os=null,ll(e,t)),t=!1;var d=nt;e:do try{if(Ge!==0&&_e!==null){var m=_e,T=Ht;switch(Ge){case 8:zc(),d=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var K=Ge;if(Ge=0,Ht=null,il(e,m,T,K),n&&tl){d=0;break e}break;default:K=Ge,Ge=0,Ht=null,il(e,m,T,K)}}Zp(),d=nt;break}catch(se){xf(e,se)}while(!0);return t&&e.shellSuspendCounter++,vn=ha=null,He=a,w.H=i,w.A=s,_e===null&&(Je=null,Re=0,Mi()),d}function Zp(){for(;_e!==null;)Nf(_e)}function Jp(e,t){var n=He;He|=2;var a=bf(),i=Sf();Je!==e||Re!==t?(os=null,cs=ge()+500,ll(e,t)):tl=vl(e,t);e:do try{if(Ge!==0&&_e!==null){t=_e;var s=Ht;t:switch(Ge){case 1:Ge=0,Ht=null,il(e,t,s,1);break;case 2:case 9:if(Ou(s)){Ge=0,Ht=null,wf(t);break}t=function(){Ge!==2&&Ge!==9||Je!==e||(Ge=7),dn(e)},s.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ou(s)?(Ge=0,Ht=null,wf(t)):(Ge=0,Ht=null,il(e,t,s,7));break;case 5:var d=null;switch(_e.tag){case 26:d=_e.memoizedState;case 5:case 27:var m=_e;if(d?om(d):m.stateNode.complete){Ge=0,Ht=null;var T=m.sibling;if(T!==null)_e=T;else{var K=m.return;K!==null?(_e=K,fs(K)):_e=null}break t}}Ge=0,Ht=null,il(e,t,s,5);break;case 6:Ge=0,Ht=null,il(e,t,s,6);break;case 8:zc(),nt=6;break e;default:throw Error(u(462))}}Kp();break}catch(se){xf(e,se)}while(!0);return vn=ha=null,w.H=a,w.A=i,He=n,_e!==null?0:(Je=null,Re=0,Mi(),nt)}function Kp(){for(;_e!==null&&!Ae();)Nf(_e)}function Nf(e){var t=Xd(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?fs(e):_e=t}function wf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hd(n,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=Hd(n,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:Yr(t);default:Jd(n,t),t=_e=bu(t,Cn),t=Xd(n,t,Cn)}e.memoizedProps=e.pendingProps,t===null?fs(e):_e=t}function il(e,t,n,a){vn=ha=null,Yr(t),Ja=null,Rl=0;var i=t.return;try{if(Up(e,i,t,n,Re)){nt=1,Pi(e,Xt(n,e.current)),_e=null;return}}catch(s){if(i!==null)throw _e=i,s;nt=1,Pi(e,Xt(n,e.current)),_e=null;return}t.flags&32768?(Ue||a===1?e=!0:tl||(Re&536870912)!==0?e=!1:(Xn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Bt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Af(t,e)):fs(t)}function fs(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Xn);return}e=t.return;var n=Hp(t.alternate,t,Cn);if(n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);nt===0&&(nt=5)}function Af(e,t){do{var n=Qp(e.alternate,e);if(n!==null){n.flags&=32767,_e=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=n}while(e!==null);nt=6,_e=null}function zf(e,t,n,a,i,s,d,m,T){e.cancelPendingCommit=null;do ms();while(ot!==0);if((He&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(s=t.lanes|t.childLanes,s|=pr,Ch(e,n,s,d,m,T),e===Je&&(_e=Je=null,Re=0),al=t,Kn=e,Tn=n,Nc=s,wc=i,pf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Pp(ht,function(){return Mf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,i=$.p,$.p=2,d=He,He|=4;try{Yp(e,t,n)}finally{He=d,$.p=i,w.T=a}}ot=1,Ef(),Cf(),Tf()}}function Ef(){if(ot===1){ot=0;var e=Kn,t=al,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var a=$.p;$.p=2;var i=He;He|=4;try{rf(t,e);var s=qc,d=fu(e.containerInfo),m=s.focusedElem,T=s.selectionRange;if(d!==m&&m&&m.ownerDocument&&du(m.ownerDocument.documentElement,m)){if(T!==null&&ur(m)){var K=T.start,se=T.end;if(se===void 0&&(se=K),"selectionStart"in m)m.selectionStart=K,m.selectionEnd=Math.min(se,m.value.length);else{var ue=m.ownerDocument||document,F=ue&&ue.defaultView||window;if(F.getSelection){var te=F.getSelection(),ye=m.textContent.length,ze=Math.min(T.start,ye),Ze=T.end===void 0?ze:Math.min(T.end,ye);!te.extend&&ze>Ze&&(d=Ze,Ze=ze,ze=d);var G=uu(m,ze),R=uu(m,Ze);if(G&&R&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==R.node||te.focusOffset!==R.offset)){var J=ue.createRange();J.setStart(G.node,G.offset),te.removeAllRanges(),ze>Ze?(te.addRange(J),te.extend(R.node,R.offset)):(J.setEnd(R.node,R.offset),te.addRange(J))}}}}for(ue=[],te=m;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<ue.length;m++){var ce=ue[m];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}As=!!Bc,qc=Bc=null}finally{He=i,$.p=a,w.T=n}}e.current=t,ot=2}}function Cf(){if(ot===2){ot=0;var e=Kn,t=al,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var a=$.p;$.p=2;var i=He;He|=4;try{tf(e,t.alternate,t)}finally{He=i,$.p=a,w.T=n}}ot=3}}function Tf(){if(ot===4||ot===3){ot=0,oe();var e=Kn,t=al,n=Tn,a=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ot=5:(ot=0,al=Kn=null,Df(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Jn=null),Vs(n),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(_n,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,i=$.p,$.p=2,w.T=null;try{for(var s=e.onRecoverableError,d=0;d<a.length;d++){var m=a[d];s(m.value,{componentStack:m.stack})}}finally{w.T=t,$.p=i}}(Tn&3)!==0&&ms(),dn(e),i=e.pendingLanes,(n&261930)!==0&&(i&42)!==0?e===Ac?Il++:(Il=0,Ac=e):Il=0,Pl(0)}}function Df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_l(t)))}function ms(){return Ef(),Cf(),Tf(),Mf()}function Mf(){if(ot!==5)return!1;var e=Kn,t=Nc;Nc=0;var n=Vs(Tn),a=w.T,i=$.p;try{$.p=32>n?32:n,w.T=null,n=wc,wc=null;var s=Kn,d=Tn;if(ot=0,al=Kn=null,Tn=0,(He&6)!==0)throw Error(u(331));var m=He;if(He|=4,ff(s.current),of(s,s.current,d,n),He=m,Pl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(_n,s)}catch{}return!0}finally{$.p=i,w.T=a,Df(e,t)}}function Of(e,t,n){t=Xt(n,t),t=ac(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(xl(e,2),dn(e))}function $e(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jn===null||!Jn.has(a))){e=Xt(n,e),n=Od(2),a=Yn(t,n,2),a!==null&&(_d(n,a,t,e),xl(a,2),dn(a));break}}t=t.return}}function Cc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Vp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(jc=!0,i.add(n),e=Fp.bind(null,e,t,n),t.then(e,e))}function Fp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Je===e&&(Re&n)===n&&(nt===4||nt===3&&(Re&62914560)===Re&&300>ge()-rs?(He&2)===0&&ll(e,0):bc|=n,nl===Re&&(nl=0)),dn(e)}function _f(e,t){t===0&&(t=zo()),e=da(e,t),e!==null&&(xl(e,t),dn(e))}function Wp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_f(e,n)}function Ip(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),_f(e,n)}function Pp(e,t){return we(e,t)}var hs=null,sl=null,Tc=!1,ps=!1,Dc=!1,Wn=0;function dn(e){e!==sl&&e.next===null&&(sl===null?hs=sl=e:sl=sl.next=e),ps=!0,Tc||(Tc=!0,tg())}function Pl(e,t){if(!Dc&&ps){Dc=!0;do for(var n=!1,a=hs;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var d=a.suspendedLanes,m=a.pingedLanes;s=(1<<31-Rt(42|e)+1)-1,s&=i&~(d&~m),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Uf(a,s))}else s=Re,s=xi(a,a===Je?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||vl(a,s)||(n=!0,Uf(a,s));a=a.next}while(n);Dc=!1}}function eg(){kf()}function kf(){ps=Tc=!1;var e=0;Wn!==0&&dg()&&(e=Wn);for(var t=ge(),n=null,a=hs;a!==null;){var i=a.next,s=Rf(a,t);s===0?(a.next=null,n===null?hs=i:n.next=i,i===null&&(sl=n)):(n=a,(e!==0||(s&3)!==0)&&(ps=!0)),a=i}ot!==0&&ot!==5||Pl(e),Wn!==0&&(Wn=0)}function Rf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var d=31-Rt(s),m=1<<d,T=i[d];T===-1?((m&n)===0||(m&a)!==0)&&(i[d]=Eh(m,t)):T<=t&&(e.expiredLanes|=m),s&=~m}if(t=Je,n=Re,n=xi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Se(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Se(a),Vs(n)){case 2:case 8:n=Ye;break;case 32:n=ht;break;case 268435456:n=St;break;default:n=ht}return a=Lf.bind(null,e),n=we(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Se(a),e.callbackPriority=2,e.callbackNode=null,2}function Lf(e,t){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ms()&&e.callbackNode!==n)return null;var a=Re;return a=xi(e,e===Je?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(yf(e,a,t),Rf(e,ge()),e.callbackNode!=null&&e.callbackNode===n?Lf.bind(null,e):null)}function Uf(e,t){if(ms())return null;yf(e,t,!0)}function tg(){mg(function(){(He&6)!==0?we(Qe,eg):kf()})}function Mc(){if(Wn===0){var e=Va;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Wn=e}return Wn}function Bf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ni(""+e)}function qf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ng(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Bf((i[Ct]||null).action),d=a.submitter;d&&(t=(t=d[Ct]||null)?Bf(t.formAction):d.getAttribute("formAction"),t!==null&&(s=t,d=null));var m=new Ei("action","action",null,a,i);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Wn!==0){var T=d?qf(i,d):new FormData(i);Wr(n,{pending:!0,data:T,method:i.method,action:s},null,T)}}else typeof s=="function"&&(m.preventDefault(),T=d?qf(i,d):new FormData(i),Wr(n,{pending:!0,data:T,method:i.method,action:s},s,T))},currentTarget:i}]})}}for(var Oc=0;Oc<hr.length;Oc++){var _c=hr[Oc],ag=_c.toLowerCase(),lg=_c[0].toUpperCase()+_c.slice(1);nn(ag,"on"+lg)}nn(pu,"onAnimationEnd"),nn(gu,"onAnimationIteration"),nn(yu,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(jp,"onTransitionRun"),nn(bp,"onTransitionStart"),nn(Sp,"onTransitionCancel"),nn(vu,"onTransitionEnd"),Ma("onMouseEnter",["mouseout","mouseover"]),Ma("onMouseLeave",["mouseout","mouseover"]),Ma("onPointerEnter",["pointerout","pointerover"]),Ma("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ig=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ei));function Hf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var d=a.length-1;0<=d;d--){var m=a[d],T=m.instance,K=m.currentTarget;if(m=m.listener,T!==s&&i.isPropagationStopped())break e;s=m,i.currentTarget=K;try{s(i)}catch(se){Di(se)}i.currentTarget=null,s=T}else for(d=0;d<a.length;d++){if(m=a[d],T=m.instance,K=m.currentTarget,m=m.listener,T!==s&&i.isPropagationStopped())break e;s=m,i.currentTarget=K;try{s(i)}catch(se){Di(se)}i.currentTarget=null,s=T}}}}function ke(e,t){var n=t[Xs];n===void 0&&(n=t[Xs]=new Set);var a=e+"__bubble";n.has(a)||(Qf(t,e,2,!1),n.add(a))}function kc(e,t,n){var a=0;t&&(a|=4),Qf(n,e,a,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[gs]){e[gs]=!0,_o.forEach(function(n){n!=="selectionchange"&&(ig.has(n)||kc(n,!1,e),kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,kc("selectionchange",!1,t))}}function Qf(e,t,n,a){switch(gm(t)){case 2:var i=_g;break;case 8:i=kg;break;default:i=Fc}n=i.bind(null,t,n,e),i=void 0,!tr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lc(e,t,n,a,i){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var m=a.stateNode.containerInfo;if(m===i)break;if(d===4)for(d=a.return;d!==null;){var T=d.tag;if((T===3||T===4)&&d.stateNode.containerInfo===i)return;d=d.return}for(;m!==null;){if(d=Ca(m),d===null)return;if(T=d.tag,T===5||T===6||T===26||T===27){a=s=d;continue e}m=m.parentNode}}a=a.return}Vo(function(){var K=s,se=Ps(n),ue=[];e:{var F=xu.get(e);if(F!==void 0){var te=Ei,ye=e;switch(e){case"keypress":if(Ai(n)===0)break e;case"keydown":case"keyup":te=Ih;break;case"focusin":ye="focus",te=ir;break;case"focusout":ye="blur",te=ir;break;case"beforeblur":case"afterblur":te=ir;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=tp;break;case pu:case gu:case yu:te=Gh;break;case vu:te=ap;break;case"scroll":case"scrollend":te=Bh;break;case"wheel":te=ip;break;case"copy":case"cut":case"paste":te=Vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Fo;break;case"toggle":case"beforetoggle":te=rp}var ze=(t&4)!==0,Ze=!ze&&(e==="scroll"||e==="scrollend"),G=ze?F!==null?F+"Capture":null:F;ze=[];for(var R=K,J;R!==null;){var ce=R;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||G===null||(ce=Sl(R,G),ce!=null&&ze.push(ti(R,ce,J))),Ze)break;R=R.return}0<ze.length&&(F=new te(F,ye,null,n,se),ue.push({event:F,listeners:ze}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",F&&n!==Is&&(ye=n.relatedTarget||n.fromElement)&&(Ca(ye)||ye[Ea]))break e;if((te||F)&&(F=se.window===se?se:(F=se.ownerDocument)?F.defaultView||F.parentWindow:window,te?(ye=n.relatedTarget||n.toElement,te=K,ye=ye?Ca(ye):null,ye!==null&&(Ze=p(ye),ze=ye.tag,ye!==Ze||ze!==5&&ze!==27&&ze!==6)&&(ye=null)):(te=null,ye=K),te!==ye)){if(ze=Jo,ce="onMouseLeave",G="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ze=Fo,ce="onPointerLeave",G="onPointerEnter",R="pointer"),Ze=te==null?F:bl(te),J=ye==null?F:bl(ye),F=new ze(ce,R+"leave",te,n,se),F.target=Ze,F.relatedTarget=J,ce=null,Ca(se)===K&&(ze=new ze(G,R+"enter",ye,n,se),ze.target=J,ze.relatedTarget=Ze,ce=ze),Ze=ce,te&&ye)t:{for(ze=sg,G=te,R=ye,J=0,ce=G;ce;ce=ze(ce))J++;ce=0;for(var xe=R;xe;xe=ze(xe))ce++;for(;0<J-ce;)G=ze(G),J--;for(;0<ce-J;)R=ze(R),ce--;for(;J--;){if(G===R||R!==null&&G===R.alternate){ze=G;break t}G=ze(G),R=ze(R)}ze=null}else ze=null;te!==null&&Yf(ue,F,te,ze,!1),ye!==null&&Ze!==null&&Yf(ue,Ze,ye,ze,!0)}}e:{if(F=K?bl(K):window,te=F.nodeName&&F.nodeName.toLowerCase(),te==="select"||te==="input"&&F.type==="file")var Be=lu;else if(nu(F))if(iu)Be=yp;else{Be=pp;var ve=hp}else te=F.nodeName,!te||te.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?K&&Ws(K.elementType)&&(Be=lu):Be=gp;if(Be&&(Be=Be(e,K))){au(ue,Be,n,se);break e}ve&&ve(e,F,K),e==="focusout"&&K&&F.type==="number"&&K.memoizedProps.value!=null&&Fs(F,"number",F.value)}switch(ve=K?bl(K):window,e){case"focusin":(nu(ve)||ve.contentEditable==="true")&&(Ua=ve,dr=K,Dl=null);break;case"focusout":Dl=dr=Ua=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,mu(ue,n,se);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":mu(ue,n,se)}var Oe;if(rr)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else La?eu(e,n)&&(Le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Le="onCompositionStart");Le&&(Wo&&n.locale!=="ko"&&(La||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&La&&(Oe=Xo()):(Rn=se,nr="value"in Rn?Rn.value:Rn.textContent,La=!0)),ve=ys(K,Le),0<ve.length&&(Le=new Ko(Le,e,null,n,se),ue.push({event:Le,listeners:ve}),Oe?Le.data=Oe:(Oe=tu(n),Oe!==null&&(Le.data=Oe)))),(Oe=op?up(e,n):dp(e,n))&&(Le=ys(K,"onBeforeInput"),0<Le.length&&(ve=new Ko("onBeforeInput","beforeinput",null,n,se),ue.push({event:ve,listeners:Le}),ve.data=Oe)),ng(ue,e,K,n,se)}Hf(ue,t)})}function ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ys(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Sl(e,n),i!=null&&a.unshift(ti(e,i,s)),i=Sl(e,t),i!=null&&a.push(ti(e,i,s))),e.tag===3)return a;e=e.return}return[]}function sg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yf(e,t,n,a,i){for(var s=t._reactName,d=[];n!==null&&n!==a;){var m=n,T=m.alternate,K=m.stateNode;if(m=m.tag,T!==null&&T===a)break;m!==5&&m!==26&&m!==27||K===null||(T=K,i?(K=Sl(n,s),K!=null&&d.unshift(ti(n,K,T))):i||(K=Sl(n,s),K!=null&&d.push(ti(n,K,T)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var rg=/\r\n?/g,cg=/\u0000|\uFFFD/g;function Gf(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(cg,"")}function $f(e,t){return t=Gf(t),Gf(e)===t}function Xe(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||_a(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&_a(e,""+a);break;case"className":bi(e,"class",a);break;case"tabIndex":bi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,n,a);break;case"style":Go(e,a,s);break;case"data":if(t!=="object"){bi(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ni(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Xe(e,t,"name",i.name,i,null),Xe(e,t,"formEncType",i.formEncType,i,null),Xe(e,t,"formMethod",i.formMethod,i,null),Xe(e,t,"formTarget",i.formTarget,i,null)):(Xe(e,t,"encType",i.encType,i,null),Xe(e,t,"method",i.method,i,null),Xe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ni(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=hn);break;case"onScroll":a!=null&&ke("scroll",e);break;case"onScrollEnd":a!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ni(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ke("beforetoggle",e),ke("toggle",e),ji(e,"popover",a);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ji(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Lh.get(n)||n,ji(e,n,a))}}function Uc(e,t,n,a,i,s){switch(n){case"style":Go(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof a=="string"?_a(e,a):(typeof a=="number"||typeof a=="bigint")&&_a(e,""+a);break;case"onScroll":a!=null&&ke("scroll",e);break;case"onScrollEnd":a!=null&&ke("scrollend",e);break;case"onClick":a!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[Ct]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ji(e,n,a)}}}function xt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Xe(e,t,s,d,n,null)}}i&&Xe(e,t,"srcSet",n.srcSet,n,null),a&&Xe(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var m=s=d=i=null,T=null,K=null;for(a in n)if(n.hasOwnProperty(a)){var se=n[a];if(se!=null)switch(a){case"name":i=se;break;case"type":d=se;break;case"checked":T=se;break;case"defaultChecked":K=se;break;case"value":s=se;break;case"defaultValue":m=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(u(137,t));break;default:Xe(e,t,a,se,n,null)}}qo(e,s,m,T,K,d,i,!1);return;case"select":ke("invalid",e),a=d=s=null;for(i in n)if(n.hasOwnProperty(i)&&(m=n[i],m!=null))switch(i){case"value":s=m;break;case"defaultValue":d=m;break;case"multiple":a=m;default:Xe(e,t,i,m,n,null)}t=s,n=d,e.multiple=!!a,t!=null?Oa(e,!!a,t,!1):n!=null&&Oa(e,!!a,n,!0);return;case"textarea":ke("invalid",e),s=i=a=null;for(d in n)if(n.hasOwnProperty(d)&&(m=n[d],m!=null))switch(d){case"value":a=m;break;case"defaultValue":i=m;break;case"children":s=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(u(91));break;default:Xe(e,t,d,m,n,null)}Qo(e,a,i,s);return;case"option":for(T in n)n.hasOwnProperty(T)&&(a=n[T],a!=null)&&(T==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Xe(e,t,T,a,n,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(a=0;a<ei.length;a++)ke(ei[a],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in n)if(n.hasOwnProperty(K)&&(a=n[K],a!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Xe(e,t,K,a,n,null)}return;default:if(Ws(t)){for(se in n)n.hasOwnProperty(se)&&(a=n[se],a!==void 0&&Uc(e,t,se,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&Xe(e,t,m,a,n,null))}function og(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,d=null,m=null,T=null,K=null,se=null;for(te in n){var ue=n[te];if(n.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":T=ue;default:a.hasOwnProperty(te)||Xe(e,t,te,null,a,ue)}}for(var F in a){var te=a[F];if(ue=n[F],a.hasOwnProperty(F)&&(te!=null||ue!=null))switch(F){case"type":s=te;break;case"name":i=te;break;case"checked":K=te;break;case"defaultChecked":se=te;break;case"value":d=te;break;case"defaultValue":m=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(u(137,t));break;default:te!==ue&&Xe(e,t,F,te,a,ue)}}Ks(e,d,m,T,K,se,s,i);return;case"select":te=d=m=F=null;for(s in n)if(T=n[s],n.hasOwnProperty(s)&&T!=null)switch(s){case"value":break;case"multiple":te=T;default:a.hasOwnProperty(s)||Xe(e,t,s,null,a,T)}for(i in a)if(s=a[i],T=n[i],a.hasOwnProperty(i)&&(s!=null||T!=null))switch(i){case"value":F=s;break;case"defaultValue":m=s;break;case"multiple":d=s;default:s!==T&&Xe(e,t,i,s,a,T)}t=m,n=d,a=te,F!=null?Oa(e,!!n,F,!1):!!a!=!!n&&(t!=null?Oa(e,!!n,t,!0):Oa(e,!!n,n?[]:"",!1));return;case"textarea":te=F=null;for(m in n)if(i=n[m],n.hasOwnProperty(m)&&i!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Xe(e,t,m,null,a,i)}for(d in a)if(i=a[d],s=n[d],a.hasOwnProperty(d)&&(i!=null||s!=null))switch(d){case"value":F=i;break;case"defaultValue":te=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(u(91));break;default:i!==s&&Xe(e,t,d,i,a,s)}Ho(e,F,te);return;case"option":for(var ye in n)F=n[ye],n.hasOwnProperty(ye)&&F!=null&&!a.hasOwnProperty(ye)&&(ye==="selected"?e.selected=!1:Xe(e,t,ye,null,a,F));for(T in a)F=a[T],te=n[T],a.hasOwnProperty(T)&&F!==te&&(F!=null||te!=null)&&(T==="selected"?e.selected=F&&typeof F!="function"&&typeof F!="symbol":Xe(e,t,T,F,a,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in n)F=n[ze],n.hasOwnProperty(ze)&&F!=null&&!a.hasOwnProperty(ze)&&Xe(e,t,ze,null,a,F);for(K in a)if(F=a[K],te=n[K],a.hasOwnProperty(K)&&F!==te&&(F!=null||te!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(u(137,t));break;default:Xe(e,t,K,F,a,te)}return;default:if(Ws(t)){for(var Ze in n)F=n[Ze],n.hasOwnProperty(Ze)&&F!==void 0&&!a.hasOwnProperty(Ze)&&Uc(e,t,Ze,void 0,a,F);for(se in a)F=a[se],te=n[se],!a.hasOwnProperty(se)||F===te||F===void 0&&te===void 0||Uc(e,t,se,F,a,te);return}}for(var G in n)F=n[G],n.hasOwnProperty(G)&&F!=null&&!a.hasOwnProperty(G)&&Xe(e,t,G,null,a,F);for(ue in a)F=a[ue],te=n[ue],!a.hasOwnProperty(ue)||F===te||F==null&&te==null||Xe(e,t,ue,F,a,te)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ug(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,d=i.initiatorType,m=i.duration;if(s&&m&&Vf(d)){for(d=0,m=i.responseEnd,a+=1;a<n.length;a++){var T=n[a],K=T.startTime;if(K>m)break;var se=T.transferSize,ue=T.initiatorType;se&&Vf(ue)&&(T=T.responseEnd,d+=se*(T<m?1:(m-K)/(T-K)))}if(--a,t+=8*(s+d)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Bc=null,qc=null;function vs(e){return e.nodeType===9?e:e.ownerDocument}function Xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qc=null;function dg(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var Jf=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(e){return Kf.resolve(null).then(e).catch(hg)}:Jf;function hg(e){setTimeout(function(){throw e})}function In(e){return e==="head"}function Ff(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),ul(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")ni(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ni(n);for(var s=n.firstChild;s;){var d=s.nextSibling,m=s.nodeName;s[jl]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=d}}else n==="body"&&ni(e.ownerDocument.body);n=i}while(n);ul(t)}function Wf(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yc(n),Zs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function pg(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function gg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function If(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function Gc(e){return e.data==="$?"||e.data==="$~"}function $c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yg(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Vc=null;function Pf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Wt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function tm(e,t,n){switch(t=vs(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zs(e)}var It=new Map,nm=new Set;function xs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=$.d;$.d={f:vg,r:xg,D:jg,C:bg,L:Sg,m:Ng,X:Ag,S:wg,M:zg};function vg(){var e=Dn.f(),t=us();return e||t}function xg(e){var t=Ta(e);t!==null&&t.tag===5&&t.type==="form"?vd(t):Dn.r(e)}var rl=typeof document>"u"?null:document;function am(e,t,n){var a=rl;if(a&&typeof t=="string"&&t){var i=$t(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),nm.has(i)||(nm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),xt(t,"link",e),ft(t),a.head.appendChild(t)))}}function jg(e){Dn.D(e),am("dns-prefetch",e,null)}function bg(e,t){Dn.C(e,t),am("preconnect",e,t)}function Sg(e,t,n){Dn.L(e,t,n);var a=rl;if(a&&e&&t){var i='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+$t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+$t(n.imageSizes)+'"]')):i+='[href="'+$t(e)+'"]';var s=i;switch(t){case"style":s=cl(e);break;case"script":s=ol(e)}It.has(s)||(e=D({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),It.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ai(s))||t==="script"&&a.querySelector(li(s))||(t=a.createElement("link"),xt(t,"link",e),ft(t),a.head.appendChild(t)))}}function Ng(e,t){Dn.m(e,t);var n=rl;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+$t(a)+'"][href="'+$t(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ol(e)}if(!It.has(s)&&(e=D({rel:"modulepreload",href:e},t),It.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(li(s)))return}a=n.createElement("link"),xt(a,"link",e),ft(a),n.head.appendChild(a)}}}function wg(e,t,n){Dn.S(e,t,n);var a=rl;if(a&&e){var i=Da(a).hoistableStyles,s=cl(e);t=t||"default";var d=i.get(s);if(!d){var m={loading:0,preload:null};if(d=a.querySelector(ai(s)))m.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":t},n),(n=It.get(s))&&Xc(e,n);var T=d=a.createElement("link");ft(T),xt(T,"link",e),T._p=new Promise(function(K,se){T.onload=K,T.onerror=se}),T.addEventListener("load",function(){m.loading|=1}),T.addEventListener("error",function(){m.loading|=2}),m.loading|=4,js(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:m},i.set(s,d)}}}function Ag(e,t){Dn.X(e,t);var n=rl;if(n&&e){var a=Da(n).hoistableScripts,i=ol(e),s=a.get(i);s||(s=n.querySelector(li(i)),s||(e=D({src:e,async:!0},t),(t=It.get(i))&&Zc(e,t),s=n.createElement("script"),ft(s),xt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function zg(e,t){Dn.M(e,t);var n=rl;if(n&&e){var a=Da(n).hoistableScripts,i=ol(e),s=a.get(i);s||(s=n.querySelector(li(i)),s||(e=D({src:e,async:!0,type:"module"},t),(t=It.get(i))&&Zc(e,t),s=n.createElement("script"),ft(s),xt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function lm(e,t,n,a){var i=(i=Q.current)?xs(i):null;if(!i)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=cl(n.href),n=Da(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=cl(n.href);var s=Da(i).hoistableStyles,d=s.get(e);if(d||(i=i.ownerDocument||i,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,d),(s=i.querySelector(ai(e)))&&!s._p&&(d.instance=s,d.state.loading=5),It.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},It.set(e,n),s||Eg(i,e,n,d.state))),t&&a===null)throw Error(u(528,""));return d}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ol(n),n=Da(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function cl(e){return'href="'+$t(e)+'"'}function ai(e){return'link[rel="stylesheet"]['+e+"]"}function im(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function Eg(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),xt(t,"link",n),ft(t),e.head.appendChild(t))}function ol(e){return'[src="'+$t(e)+'"]'}function li(e){return"script[async]"+e}function sm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+$t(n.href)+'"]');if(a)return t.instance=a,ft(a),a;var i=D({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ft(a),xt(a,"style",i),js(a,n.precedence,e),t.instance=a;case"stylesheet":i=cl(n.href);var s=e.querySelector(ai(i));if(s)return t.state.loading|=4,t.instance=s,ft(s),s;a=im(n),(i=It.get(i))&&Xc(a,i),s=(e.ownerDocument||e).createElement("link"),ft(s);var d=s;return d._p=new Promise(function(m,T){d.onload=m,d.onerror=T}),xt(s,"link",a),t.state.loading|=4,js(s,n.precedence,e),t.instance=s;case"script":return s=ol(n.src),(i=e.querySelector(li(s)))?(t.instance=i,ft(i),i):(a=n,(i=It.get(s))&&(a=D({},n),Zc(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),ft(i),xt(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,js(a,n.precedence,e));return t.instance}function js(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,d=0;d<a.length;d++){var m=a[d];if(m.dataset.precedence===t)s=m;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var bs=null;function rm(e,t,n){if(bs===null){var a=new Map,i=bs=new Map;i.set(n,a)}else i=bs,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[jl]||s[pt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var d=s.getAttribute(t)||"";d=e+d;var m=a.get(d);m?m.push(s):a.set(d,[s])}}return a}function cm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Cg(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tg(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var i=cl(a.href),s=t.querySelector(ai(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ss.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,ft(s);return}s=t.ownerDocument||t,a=im(a),(i=It.get(i))&&Xc(a,i),s=s.createElement("link"),ft(s);var d=s;d._p=new Promise(function(m,T){d.onload=m,d.onerror=T}),xt(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ss.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Jc=0;function Dg(e,t){return e.stylesheets&&e.count===0&&ws(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Jc===0&&(Jc=62500*ug());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ws(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Jc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Ss(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ws(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ns=null;function ws(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ns=new Map,t.forEach(Mg,e),Ns=null,Ss.call(e))}function Mg(e,t){if(!(t.state.loading&4)){var n=Ns.get(e);if(n)var a=n.get(null);else{n=new Map,Ns.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var d=i[s];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),a=d)}a&&n.set(null,a)}i=t.instance,d=i.getAttribute("data-precedence"),s=n.get(d)||a,s===a&&n.set(null,i),n.set(d,i),this.count++,a=Ss.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ii={$$typeof:k,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Og(e,t,n,a,i,s,d,m,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function um(e,t,n,a,i,s,d,m,T,K,se,ue){return e=new Og(e,t,n,d,T,K,se,ue,m),t=1,s===!0&&(t|=24),s=Ut(3,null,null,t),e.current=s,s.stateNode=e,t=Er(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Mr(s),e}function dm(e){return e?(e=Ha,e):Ha}function fm(e,t,n,a,i,s){i=dm(i),a.context===null?a.context=i:a.pendingContext=i,a=Qn(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Yn(e,a,t),n!==null&&(kt(n,e,t),Ul(n,e,t))}function mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kc(e,t){mm(e,t),(e=e.alternate)&&mm(e,t)}function hm(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&kt(t,e,67108864),Kc(e,67108864)}}function pm(e){if(e.tag===13||e.tag===31){var t=Yt();t=$s(t);var n=da(e,t);n!==null&&kt(n,e,t),Kc(e,t)}}var As=!0;function _g(e,t,n,a){var i=w.T;w.T=null;var s=$.p;try{$.p=2,Fc(e,t,n,a)}finally{$.p=s,w.T=i}}function kg(e,t,n,a){var i=w.T;w.T=null;var s=$.p;try{$.p=8,Fc(e,t,n,a)}finally{$.p=s,w.T=i}}function Fc(e,t,n,a){if(As){var i=Wc(a);if(i===null)Lc(e,t,a,zs,n),ym(e,a);else if(Lg(i,e,t,n,a))a.stopPropagation();else if(ym(e,a),t&4&&-1<Rg.indexOf(e)){for(;i!==null;){var s=Ta(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var d=sa(s.pendingLanes);if(d!==0){var m=s;for(m.pendingLanes|=2,m.entangledLanes|=2;d;){var T=1<<31-Rt(d);m.entanglements[1]|=T,d&=~T}dn(s),(He&6)===0&&(cs=ge()+500,Pl(0))}}break;case 31:case 13:m=da(s,2),m!==null&&kt(m,s,2),us(),Kc(s,2)}if(s=Wc(a),s===null&&Lc(e,t,a,zs,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else Lc(e,t,a,null,n)}}function Wc(e){return e=Ps(e),Ic(e)}var zs=null;function Ic(e){if(zs=null,e=Ca(e),e!==null){var t=p(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=x(t),e!==null)return e;e=null}else if(n===31){if(e=E(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zs=e,null}function gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Qe:return 2;case Ye:return 8;case ht:case en:return 32;case St:return 268435456;default:return 32}default:return 32}}var Pc=!1,Pn=null,ea=null,ta=null,si=new Map,ri=new Map,na=[],Rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function ci(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ta(t),t!==null&&hm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lg(e,t,n,a,i){switch(t){case"focusin":return Pn=ci(Pn,e,t,n,a,i),!0;case"dragenter":return ea=ci(ea,e,t,n,a,i),!0;case"mouseover":return ta=ci(ta,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return si.set(s,ci(si.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,ri.set(s,ci(ri.get(s)||null,e,t,n,a,i)),!0}return!1}function vm(e){var t=Ca(e.target);if(t!==null){var n=p(t);if(n!==null){if(t=n.tag,t===13){if(t=x(n),t!==null){e.blockedOn=t,Mo(e.priority,function(){pm(n)});return}}else if(t===31){if(t=E(n),t!==null){e.blockedOn=t,Mo(e.priority,function(){pm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Is=a,n.target.dispatchEvent(a),Is=null}else return t=Ta(n),t!==null&&hm(t),e.blockedOn=n,!1;t.shift()}return!0}function xm(e,t,n){Es(e)&&n.delete(t)}function Ug(){Pc=!1,Pn!==null&&Es(Pn)&&(Pn=null),ea!==null&&Es(ea)&&(ea=null),ta!==null&&Es(ta)&&(ta=null),si.forEach(xm),ri.forEach(xm)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,Pc||(Pc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ug)))}var Ts=null;function jm(e){Ts!==e&&(Ts=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ts===e&&(Ts=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Ic(a||n)===null)continue;break}var s=Ta(n);s!==null&&(e.splice(t,3),t-=3,Wr(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function ul(e){function t(T){return Cs(T,e)}Pn!==null&&Cs(Pn,e),ea!==null&&Cs(ea,e),ta!==null&&Cs(ta,e),si.forEach(t),ri.forEach(t);for(var n=0;n<na.length;n++){var a=na[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<na.length&&(n=na[0],n.blockedOn===null);)vm(n),n.blockedOn===null&&na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],d=i[Ct]||null;if(typeof s=="function")d||jm(n);else if(d){var m=null;if(s&&s.hasAttribute("formAction")){if(i=s,d=s[Ct]||null)m=d.formAction;else if(Ic(i)!==null)continue}else m=d.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),jm(n)}}}function bm(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(d){return i=d})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function eo(e){this._internalRoot=e}Ds.prototype.render=eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,a=Yt();fm(n,a,e,t,null,null)},Ds.prototype.unmount=eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fm(e.current,2,null,e,null,null),us(),t[Ea]=null}};function Ds(e){this._internalRoot=e}Ds.prototype.unstable_scheduleHydration=function(e){if(e){var t=Do();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&vm(e)}};var Sm=o.version;if(Sm!=="19.2.0")throw Error(u(527,Sm,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=v(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var Bg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{_n=Ms.inject(Bg),dt=Ms}catch{}}return oi.createRoot=function(e,t){if(!f(e))throw Error(u(299));var n=!1,a="",i=Cd,s=Td,d=Dd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=um(e,1,!1,null,null,n,a,null,i,s,d,bm),e[Ea]=t.current,Rc(e),new eo(t)},oi.hydrateRoot=function(e,t,n){if(!f(e))throw Error(u(299));var a=!1,i="",s=Cd,d=Td,m=Dd,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=um(e,1,!0,t,n??null,a,i,T,s,d,m,bm),t.context=dm(null),n=t.current,a=Yt(),a=$s(a),i=Qn(a),i.callback=null,Yn(n,i,a),n=a,t.current.lanes=n,xl(t,n),dn(t),e[Ea]=t.current,Rc(e),new Ds(t)},oi.version="19.2.0",oi}var Mm;function Kg(){if(Mm)return no.exports;Mm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),no.exports=Jg(),no.exports}var Fg=Kg();const Wg=Wm(Fg);var Om="popstate";function Ig(r={}){function o(u,f){let{pathname:p,search:x,hash:E}=u.location;return ho("",{pathname:p,search:x,hash:E},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function c(u,f){return typeof f=="string"?f:mi(f)}return ey(o,c,null,r)}function et(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Pt(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function Pg(){return Math.random().toString(36).substring(2,10)}function _m(r,o){return{usr:r.state,key:r.key,idx:o}}function ho(r,o,c=null,u){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?ml(o):o,state:c,key:o&&o.key||u||Pg()}}function mi({pathname:r="/",search:o="",hash:c=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(r+=c.charAt(0)==="#"?c:"#"+c),r}function ml(r){let o={};if(r){let c=r.indexOf("#");c>=0&&(o.hash=r.substring(c),r=r.substring(0,c));let u=r.indexOf("?");u>=0&&(o.search=r.substring(u),r=r.substring(0,u)),r&&(o.pathname=r)}return o}function ey(r,o,c,u={}){let{window:f=document.defaultView,v5Compat:p=!1}=u,x=f.history,E="POP",N=null,v=C();v==null&&(v=0,x.replaceState({...x.state,idx:v},""));function C(){return(x.state||{idx:null}).idx}function D(){E="POP";let A=C(),H=A==null?null:A-v;v=A,N&&N({action:E,location:S.location,delta:H})}function Z(A,H){E="PUSH";let B=ho(S.location,A,H);v=C()+1;let k=_m(B,v),W=S.createHref(B);try{x.pushState(k,"",W)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;f.location.assign(W)}p&&N&&N({action:E,location:S.location,delta:1})}function re(A,H){E="REPLACE";let B=ho(S.location,A,H);v=C();let k=_m(B,v),W=S.createHref(B);x.replaceState(k,"",W),p&&N&&N({action:E,location:S.location,delta:0})}function X(A){return ty(A)}let S={get action(){return E},get location(){return r(f,x)},listen(A){if(N)throw new Error("A history only accepts one active listener");return f.addEventListener(Om,D),N=A,()=>{f.removeEventListener(Om,D),N=null}},createHref(A){return o(f,A)},createURL:X,encodeLocation(A){let H=X(A);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:Z,replace:re,go(A){return x.go(A)}};return S}function ty(r,o=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),et(c,"No window.location.(origin|href) available to create URL");let u=typeof r=="string"?r:mi(r);return u=u.replace(/ $/,"%20"),!o&&u.startsWith("//")&&(u=c+u),new URL(u,c)}function Im(r,o,c="/"){return ny(r,o,c,!1)}function ny(r,o,c,u){let f=typeof o=="string"?ml(o):o,p=On(f.pathname||"/",c);if(p==null)return null;let x=Pm(r);ay(x);let E=null;for(let N=0;E==null&&N<x.length;++N){let v=hy(p);E=fy(x[N],v,u)}return E}function Pm(r,o=[],c=[],u="",f=!1){let p=(x,E,N=f,v)=>{let C={relativePath:v===void 0?x.path||"":v,caseSensitive:x.caseSensitive===!0,childrenIndex:E,route:x};if(C.relativePath.startsWith("/")){if(!C.relativePath.startsWith(u)&&N)return;et(C.relativePath.startsWith(u),`Absolute route path "${C.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(u.length)}let D=Mn([u,C.relativePath]),Z=c.concat(C);x.children&&x.children.length>0&&(et(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${D}".`),Pm(x.children,o,Z,D,N)),!(x.path==null&&!x.index)&&o.push({path:D,score:uy(D,x.index),routesMeta:Z})};return r.forEach((x,E)=>{if(x.path===""||!x.path?.includes("?"))p(x,E);else for(let N of eh(x.path))p(x,E,!0,N)}),o}function eh(r){let o=r.split("/");if(o.length===0)return[];let[c,...u]=o,f=c.endsWith("?"),p=c.replace(/\?$/,"");if(u.length===0)return f?[p,""]:[p];let x=eh(u.join("/")),E=[];return E.push(...x.map(N=>N===""?p:[p,N].join("/"))),f&&E.push(...x),E.map(N=>r.startsWith("/")&&N===""?"/":N)}function ay(r){r.sort((o,c)=>o.score!==c.score?c.score-o.score:dy(o.routesMeta.map(u=>u.childrenIndex),c.routesMeta.map(u=>u.childrenIndex)))}var ly=/^:[\w-]+$/,iy=3,sy=2,ry=1,cy=10,oy=-2,km=r=>r==="*";function uy(r,o){let c=r.split("/"),u=c.length;return c.some(km)&&(u+=oy),o&&(u+=sy),c.filter(f=>!km(f)).reduce((f,p)=>f+(ly.test(p)?iy:p===""?ry:cy),u)}function dy(r,o){return r.length===o.length&&r.slice(0,-1).every((u,f)=>u===o[f])?r[r.length-1]-o[o.length-1]:0}function fy(r,o,c=!1){let{routesMeta:u}=r,f={},p="/",x=[];for(let E=0;E<u.length;++E){let N=u[E],v=E===u.length-1,C=p==="/"?o:o.slice(p.length)||"/",D=Ls({path:N.relativePath,caseSensitive:N.caseSensitive,end:v},C),Z=N.route;if(!D&&v&&c&&!u[u.length-1].route.index&&(D=Ls({path:N.relativePath,caseSensitive:N.caseSensitive,end:!1},C)),!D)return null;Object.assign(f,D.params),x.push({params:f,pathname:Mn([p,D.pathname]),pathnameBase:xy(Mn([p,D.pathnameBase])),route:Z}),D.pathnameBase!=="/"&&(p=Mn([p,D.pathnameBase]))}return x}function Ls(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[c,u]=my(r.path,r.caseSensitive,r.end),f=o.match(c);if(!f)return null;let p=f[0],x=p.replace(/(.)\/+$/,"$1"),E=f.slice(1);return{params:u.reduce((v,{paramName:C,isOptional:D},Z)=>{if(C==="*"){let X=E[Z]||"";x=p.slice(0,p.length-X.length).replace(/(.)\/+$/,"$1")}const re=E[Z];return D&&!re?v[C]=void 0:v[C]=(re||"").replace(/%2F/g,"/"),v},{}),pathname:p,pathnameBase:x,pattern:r}}function my(r,o=!1,c=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let u=[],f="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,E,N)=>(u.push({paramName:E,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(u.push({paramName:"*"}),f+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?f+="\\/*$":r!==""&&r!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,o?void 0:"i"),u]}function hy(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function On(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let c=o.endsWith("/")?o.length-1:o.length,u=r.charAt(c);return u&&u!=="/"?null:r.slice(c)||"/"}var py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gy=r=>py.test(r);function yy(r,o="/"){let{pathname:c,search:u="",hash:f=""}=typeof r=="string"?ml(r):r,p;if(c)if(gy(c))p=c;else{if(c.includes("//")){let x=c;c=c.replace(/\/\/+/g,"/"),Pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${x} -> ${c}`)}c.startsWith("/")?p=Rm(c.substring(1),"/"):p=Rm(c,o)}else p=o;return{pathname:p,search:jy(u),hash:by(f)}}function Rm(r,o){let c=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(f=>{f===".."?c.length>1&&c.pop():f!=="."&&c.push(f)}),c.length>1?c.join("/"):"/"}function so(r,o,c,u){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vy(r){return r.filter((o,c)=>c===0||o.route.path&&o.route.path.length>0)}function xo(r){let o=vy(r);return o.map((c,u)=>u===o.length-1?c.pathname:c.pathnameBase)}function jo(r,o,c,u=!1){let f;typeof r=="string"?f=ml(r):(f={...r},et(!f.pathname||!f.pathname.includes("?"),so("?","pathname","search",f)),et(!f.pathname||!f.pathname.includes("#"),so("#","pathname","hash",f)),et(!f.search||!f.search.includes("#"),so("#","search","hash",f)));let p=r===""||f.pathname==="",x=p?"/":f.pathname,E;if(x==null)E=c;else{let D=o.length-1;if(!u&&x.startsWith("..")){let Z=x.split("/");for(;Z[0]==="..";)Z.shift(),D-=1;f.pathname=Z.join("/")}E=D>=0?o[D]:"/"}let N=yy(f,E),v=x&&x!=="/"&&x.endsWith("/"),C=(p||x===".")&&c.endsWith("/");return!N.pathname.endsWith("/")&&(v||C)&&(N.pathname+="/"),N}var Mn=r=>r.join("/").replace(/\/\/+/g,"/"),xy=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jy=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,by=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Sy(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var th=["POST","PUT","PATCH","DELETE"];new Set(th);var Ny=["GET",...th];new Set(Ny);var hl=h.createContext(null);hl.displayName="DataRouter";var Hs=h.createContext(null);Hs.displayName="DataRouterState";h.createContext(!1);var nh=h.createContext({isTransitioning:!1});nh.displayName="ViewTransition";var wy=h.createContext(new Map);wy.displayName="Fetchers";var Ay=h.createContext(null);Ay.displayName="Await";var sn=h.createContext(null);sn.displayName="Navigation";var hi=h.createContext(null);hi.displayName="Location";var rn=h.createContext({outlet:null,matches:[],isDataRoute:!1});rn.displayName="Route";var bo=h.createContext(null);bo.displayName="RouteError";function zy(r,{relative:o}={}){et(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:u}=h.useContext(sn),{hash:f,pathname:p,search:x}=pi(r,{relative:o}),E=p;return c!=="/"&&(E=p==="/"?c:Mn([c,p])),u.createHref({pathname:E,search:x,hash:f})}function pl(){return h.useContext(hi)!=null}function fn(){return et(pl(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(hi).location}var ah="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lh(r){h.useContext(sn).static||h.useLayoutEffect(r)}function jt(){let{isDataRoute:r}=h.useContext(rn);return r?qy():Ey()}function Ey(){et(pl(),"useNavigate() may be used only in the context of a <Router> component.");let r=h.useContext(hl),{basename:o,navigator:c}=h.useContext(sn),{matches:u}=h.useContext(rn),{pathname:f}=fn(),p=JSON.stringify(xo(u)),x=h.useRef(!1);return lh(()=>{x.current=!0}),h.useCallback((N,v={})=>{if(Pt(x.current,ah),!x.current)return;if(typeof N=="number"){c.go(N);return}let C=jo(N,JSON.parse(p),f,v.relative==="path");r==null&&o!=="/"&&(C.pathname=C.pathname==="/"?o:Mn([o,C.pathname])),(v.replace?c.replace:c.push)(C,v.state,v)},[o,c,p,f,r])}h.createContext(null);function Qs(){let{matches:r}=h.useContext(rn),o=r[r.length-1];return o?o.params:{}}function pi(r,{relative:o}={}){let{matches:c}=h.useContext(rn),{pathname:u}=fn(),f=JSON.stringify(xo(c));return h.useMemo(()=>jo(r,JSON.parse(f),u,o==="path"),[r,f,u,o])}function Cy(r,o){return ih(r,o)}function ih(r,o,c,u,f){et(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=h.useContext(sn),{matches:x}=h.useContext(rn),E=x[x.length-1],N=E?E.params:{},v=E?E.pathname:"/",C=E?E.pathnameBase:"/",D=E&&E.route;{let B=D&&D.path||"";sh(v,!D||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let Z=fn(),re;if(o){let B=typeof o=="string"?ml(o):o;et(C==="/"||B.pathname?.startsWith(C),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${C}" but pathname "${B.pathname}" was given in the \`location\` prop.`),re=B}else re=Z;let X=re.pathname||"/",S=X;if(C!=="/"){let B=C.replace(/^\//,"").split("/");S="/"+X.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=Im(r,{pathname:S});Pt(D||A!=null,`No routes matched location "${re.pathname}${re.search}${re.hash}" `),Pt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${re.pathname}${re.search}${re.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=_y(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},N,B.params),pathname:Mn([C,p.encodeLocation?p.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?C:Mn([C,p.encodeLocation?p.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),x,c,u,f);return o&&H?h.createElement(hi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...re},navigationType:"POP"}},H):H}function Ty(){let r=By(),o=Sy(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),c=r instanceof Error?r.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},x=null;return console.error("Error handled by React Router default ErrorBoundary:",r),x=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:p},"ErrorBoundary")," or"," ",h.createElement("code",{style:p},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},o),c?h.createElement("pre",{style:f},c):null,x)}var Dy=h.createElement(Ty,null),My=class extends h.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){this.props.onError?this.props.onError(r,o):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?h.createElement(rn.Provider,{value:this.props.routeContext},h.createElement(bo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Oy({routeContext:r,match:o,children:c}){let u=h.useContext(hl);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),h.createElement(rn.Provider,{value:r},c)}function _y(r,o=[],c=null,u=null,f=null){if(r==null){if(!c)return null;if(c.errors)r=c.matches;else if(o.length===0&&!c.initialized&&c.matches.length>0)r=c.matches;else return null}let p=r,x=c?.errors;if(x!=null){let C=p.findIndex(D=>D.route.id&&x?.[D.route.id]!==void 0);et(C>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),p=p.slice(0,Math.min(p.length,C+1))}let E=!1,N=-1;if(c)for(let C=0;C<p.length;C++){let D=p[C];if((D.route.HydrateFallback||D.route.hydrateFallbackElement)&&(N=C),D.route.id){let{loaderData:Z,errors:re}=c,X=D.route.loader&&!Z.hasOwnProperty(D.route.id)&&(!re||re[D.route.id]===void 0);if(D.route.lazy||X){E=!0,N>=0?p=p.slice(0,N+1):p=[p[0]];break}}}let v=c&&u?(C,D)=>{u(C,{location:c.location,params:c.matches?.[0]?.params??{},errorInfo:D})}:void 0;return p.reduceRight((C,D,Z)=>{let re,X=!1,S=null,A=null;c&&(re=x&&D.route.id?x[D.route.id]:void 0,S=D.route.errorElement||Dy,E&&(N<0&&Z===0?(sh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),X=!0,A=null):N===Z&&(X=!0,A=D.route.hydrateFallbackElement||null)));let H=o.concat(p.slice(0,Z+1)),B=()=>{let k;return re?k=S:X?k=A:D.route.Component?k=h.createElement(D.route.Component,null):D.route.element?k=D.route.element:k=C,h.createElement(Oy,{match:D,routeContext:{outlet:C,matches:H,isDataRoute:c!=null},children:k})};return c&&(D.route.ErrorBoundary||D.route.errorElement||Z===0)?h.createElement(My,{location:c.location,revalidation:c.revalidation,component:S,error:re,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:v}):B()},null)}function So(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ky(r){let o=h.useContext(hl);return et(o,So(r)),o}function Ry(r){let o=h.useContext(Hs);return et(o,So(r)),o}function Ly(r){let o=h.useContext(rn);return et(o,So(r)),o}function No(r){let o=Ly(r),c=o.matches[o.matches.length-1];return et(c.route.id,`${r} can only be used on routes that contain a unique "id"`),c.route.id}function Uy(){return No("useRouteId")}function By(){let r=h.useContext(bo),o=Ry("useRouteError"),c=No("useRouteError");return r!==void 0?r:o.errors?.[c]}function qy(){let{router:r}=ky("useNavigate"),o=No("useNavigate"),c=h.useRef(!1);return lh(()=>{c.current=!0}),h.useCallback(async(f,p={})=>{Pt(c.current,ah),c.current&&(typeof f=="number"?r.navigate(f):await r.navigate(f,{fromRouteId:o,...p}))},[r,o])}var Lm={};function sh(r,o,c){!o&&!Lm[r]&&(Lm[r]=!0,Pt(!1,c))}h.memo(Hy);function Hy({routes:r,future:o,state:c,unstable_onError:u}){return ih(r,void 0,c,u,o)}function ro({to:r,replace:o,state:c,relative:u}){et(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=h.useContext(sn);Pt(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=h.useContext(rn),{pathname:x}=fn(),E=jt(),N=jo(r,xo(p),x,u==="path"),v=JSON.stringify(N);return h.useEffect(()=>{E(JSON.parse(v),{replace:o,state:c,relative:u})},[E,v,u,o,c]),null}function Ke(r){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qy({basename:r="/",children:o=null,location:c,navigationType:u="POP",navigator:f,static:p=!1}){et(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=r.replace(/^\/*/,"/"),E=h.useMemo(()=>({basename:x,navigator:f,static:p,future:{}}),[x,f,p]);typeof c=="string"&&(c=ml(c));let{pathname:N="/",search:v="",hash:C="",state:D=null,key:Z="default"}=c,re=h.useMemo(()=>{let X=On(N,x);return X==null?null:{location:{pathname:X,search:v,hash:C,state:D,key:Z},navigationType:u}},[x,N,v,C,D,Z,u]);return Pt(re!=null,`<Router basename="${x}"> is not able to match the URL "${N}${v}${C}" because it does not start with the basename, so the <Router> won't render anything.`),re==null?null:h.createElement(sn.Provider,{value:E},h.createElement(hi.Provider,{children:o,value:re}))}function Yy({children:r,location:o}){return Cy(po(r),o)}function po(r,o=[]){let c=[];return h.Children.forEach(r,(u,f)=>{if(!h.isValidElement(u))return;let p=[...o,f];if(u.type===h.Fragment){c.push.apply(c,po(u.props.children,p));return}et(u.type===Ke,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!u.props.index||!u.props.children,"An index route cannot have child routes.");let x={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(x.children=po(u.props.children,p)),c.push(x)}),c}var ks="get",Rs="application/x-www-form-urlencoded";function Ys(r){return r!=null&&typeof r.tagName=="string"}function Gy(r){return Ys(r)&&r.tagName.toLowerCase()==="button"}function $y(r){return Ys(r)&&r.tagName.toLowerCase()==="form"}function Vy(r){return Ys(r)&&r.tagName.toLowerCase()==="input"}function Xy(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Zy(r,o){return r.button===0&&(!o||o==="_self")&&!Xy(r)}var Os=null;function Jy(){if(Os===null)try{new FormData(document.createElement("form"),0),Os=!1}catch{Os=!0}return Os}var Ky=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function co(r){return r!=null&&!Ky.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rs}"`),null):r}function Fy(r,o){let c,u,f,p,x;if($y(r)){let E=r.getAttribute("action");u=E?On(E,o):null,c=r.getAttribute("method")||ks,f=co(r.getAttribute("enctype"))||Rs,p=new FormData(r)}else if(Gy(r)||Vy(r)&&(r.type==="submit"||r.type==="image")){let E=r.form;if(E==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let N=r.getAttribute("formaction")||E.getAttribute("action");if(u=N?On(N,o):null,c=r.getAttribute("formmethod")||E.getAttribute("method")||ks,f=co(r.getAttribute("formenctype"))||co(E.getAttribute("enctype"))||Rs,p=new FormData(E,r),!Jy()){let{name:v,type:C,value:D}=r;if(C==="image"){let Z=v?`${v}.`:"";p.append(`${Z}x`,"0"),p.append(`${Z}y`,"0")}else v&&p.append(v,D)}}else{if(Ys(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=ks,u=null,f=Rs,x=r}return p&&f==="text/plain"&&(x=p,p=void 0),{action:u,method:c.toLowerCase(),encType:f,formData:p,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wo(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Wy(r,o,c){let u=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return u.pathname==="/"?u.pathname=`_root.${c}`:o&&On(u.pathname,o)==="/"?u.pathname=`${o.replace(/\/$/,"")}/_root.${c}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${c}`,u}async function Iy(r,o){if(r.id in o)return o[r.id];try{let c=await import(r.module);return o[r.id]=c,c}catch(c){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Py(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ev(r,o,c){let u=await Promise.all(r.map(async f=>{let p=o.routes[f.route.id];if(p){let x=await Iy(p,c);return x.links?x.links():[]}return[]}));return lv(u.flat(1).filter(Py).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Um(r,o,c,u,f,p){let x=(N,v)=>c[v]?N.route.id!==c[v].route.id:!0,E=(N,v)=>c[v].pathname!==N.pathname||c[v].route.path?.endsWith("*")&&c[v].params["*"]!==N.params["*"];return p==="assets"?o.filter((N,v)=>x(N,v)||E(N,v)):p==="data"?o.filter((N,v)=>{let C=u.routes[N.route.id];if(!C||!C.hasLoader)return!1;if(x(N,v)||E(N,v))return!0;if(N.route.shouldRevalidate){let D=N.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:N.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function tv(r,o,{includeHydrateFallback:c}={}){return nv(r.map(u=>{let f=o.routes[u.route.id];if(!f)return[];let p=[f.module];return f.clientActionModule&&(p=p.concat(f.clientActionModule)),f.clientLoaderModule&&(p=p.concat(f.clientLoaderModule)),c&&f.hydrateFallbackModule&&(p=p.concat(f.hydrateFallbackModule)),f.imports&&(p=p.concat(f.imports)),p}).flat(1))}function nv(r){return[...new Set(r)]}function av(r){let o={},c=Object.keys(r).sort();for(let u of c)o[u]=r[u];return o}function lv(r,o){let c=new Set;return new Set(o),r.reduce((u,f)=>{let p=JSON.stringify(av(f));return c.has(p)||(c.add(p),u.push({key:p,link:f})),u},[])}function rh(){let r=h.useContext(hl);return wo(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function iv(){let r=h.useContext(Hs);return wo(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ao=h.createContext(void 0);Ao.displayName="FrameworkContext";function ch(){let r=h.useContext(Ao);return wo(r,"You must render this element inside a <HydratedRouter> element"),r}function sv(r,o){let c=h.useContext(Ao),[u,f]=h.useState(!1),[p,x]=h.useState(!1),{onFocus:E,onBlur:N,onMouseEnter:v,onMouseLeave:C,onTouchStart:D}=o,Z=h.useRef(null);h.useEffect(()=>{if(r==="render"&&x(!0),r==="viewport"){let S=H=>{H.forEach(B=>{x(B.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return Z.current&&A.observe(Z.current),()=>{A.disconnect()}}},[r]),h.useEffect(()=>{if(u){let S=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(S)}}},[u]);let re=()=>{f(!0)},X=()=>{f(!1),x(!1)};return c?r!=="intent"?[p,Z,{}]:[p,Z,{onFocus:ui(E,re),onBlur:ui(N,X),onMouseEnter:ui(v,re),onMouseLeave:ui(C,X),onTouchStart:ui(D,re)}]:[!1,Z,{}]}function ui(r,o){return c=>{r&&r(c),c.defaultPrevented||o(c)}}function rv({page:r,...o}){let{router:c}=rh(),u=h.useMemo(()=>Im(c.routes,r,c.basename),[c.routes,r,c.basename]);return u?h.createElement(ov,{page:r,matches:u,...o}):null}function cv(r){let{manifest:o,routeModules:c}=ch(),[u,f]=h.useState([]);return h.useEffect(()=>{let p=!1;return ev(r,o,c).then(x=>{p||f(x)}),()=>{p=!0}},[r,o,c]),u}function ov({page:r,matches:o,...c}){let u=fn(),{manifest:f,routeModules:p}=ch(),{basename:x}=rh(),{loaderData:E,matches:N}=iv(),v=h.useMemo(()=>Um(r,o,N,f,u,"data"),[r,o,N,f,u]),C=h.useMemo(()=>Um(r,o,N,f,u,"assets"),[r,o,N,f,u]),D=h.useMemo(()=>{if(r===u.pathname+u.search+u.hash)return[];let X=new Set,S=!1;if(o.forEach(H=>{let B=f.routes[H.route.id];!B||!B.hasLoader||(!v.some(k=>k.route.id===H.route.id)&&H.route.id in E&&p[H.route.id]?.shouldRevalidate||B.hasClientLoader?S=!0:X.add(H.route.id))}),X.size===0)return[];let A=Wy(r,x,"data");return S&&X.size>0&&A.searchParams.set("_routes",o.filter(H=>X.has(H.route.id)).map(H=>H.route.id).join(",")),[A.pathname+A.search]},[x,E,u,f,v,o,r,p]),Z=h.useMemo(()=>tv(C,f),[C,f]),re=cv(C);return h.createElement(h.Fragment,null,D.map(X=>h.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...c})),Z.map(X=>h.createElement("link",{key:X,rel:"modulepreload",href:X,...c})),re.map(({key:X,link:S})=>h.createElement("link",{key:X,nonce:c.nonce,...S})))}function uv(...r){return o=>{r.forEach(c=>{typeof c=="function"?c(o):c!=null&&(c.current=o)})}}var oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oh&&(window.__reactRouterVersion="7.9.6")}catch{}function dv({basename:r,children:o,window:c}){let u=h.useRef();u.current==null&&(u.current=Ig({window:c,v5Compat:!0}));let f=u.current,[p,x]=h.useState({action:f.action,location:f.location}),E=h.useCallback(N=>{h.startTransition(()=>x(N))},[x]);return h.useLayoutEffect(()=>f.listen(E),[f,E]),h.createElement(Qy,{basename:r,children:o,location:p.location,navigationType:p.action,navigator:f})}var uh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dh=h.forwardRef(function({onClick:o,discover:c="render",prefetch:u="none",relative:f,reloadDocument:p,replace:x,state:E,target:N,to:v,preventScrollReset:C,viewTransition:D,...Z},re){let{basename:X}=h.useContext(sn),S=typeof v=="string"&&uh.test(v),A,H=!1;if(typeof v=="string"&&S&&(A=v,oh))try{let U=new URL(window.location.href),I=v.startsWith("//")?new URL(U.protocol+v):new URL(v),de=On(I.pathname,X);I.origin===U.origin&&de!=null?v=de+I.search+I.hash:H=!0}catch{Pt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=zy(v,{relative:f}),[k,W,j]=sv(u,Z),O=hv(v,{replace:x,state:E,target:N,preventScrollReset:C,relative:f,viewTransition:D});function g(U){o&&o(U),U.defaultPrevented||O(U)}let y=h.createElement("a",{...Z,...j,href:A||B,onClick:H||p?o:g,ref:uv(re,W),target:N,"data-discover":!S&&c==="render"?"true":void 0});return k&&!S?h.createElement(h.Fragment,null,y,h.createElement(rv,{page:B})):y});dh.displayName="Link";var fi=h.forwardRef(function({"aria-current":o="page",caseSensitive:c=!1,className:u="",end:f=!1,style:p,to:x,viewTransition:E,children:N,...v},C){let D=pi(x,{relative:v.relative}),Z=fn(),re=h.useContext(Hs),{navigator:X,basename:S}=h.useContext(sn),A=re!=null&&xv(D)&&E===!0,H=X.encodeLocation?X.encodeLocation(D).pathname:D.pathname,B=Z.pathname,k=re&&re.navigation&&re.navigation.location?re.navigation.location.pathname:null;c||(B=B.toLowerCase(),k=k?k.toLowerCase():null,H=H.toLowerCase()),k&&S&&(k=On(k,S)||k);const W=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let j=B===H||!f&&B.startsWith(H)&&B.charAt(W)==="/",O=k!=null&&(k===H||!f&&k.startsWith(H)&&k.charAt(H.length)==="/"),g={isActive:j,isPending:O,isTransitioning:A},y=j?o:void 0,U;typeof u=="function"?U=u(g):U=[u,j?"active":null,O?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let I=typeof p=="function"?p(g):p;return h.createElement(dh,{...v,"aria-current":y,className:U,ref:C,style:I,to:x,viewTransition:E},typeof N=="function"?N(g):N)});fi.displayName="NavLink";var fv=h.forwardRef(({discover:r="render",fetcherKey:o,navigate:c,reloadDocument:u,replace:f,state:p,method:x=ks,action:E,onSubmit:N,relative:v,preventScrollReset:C,viewTransition:D,...Z},re)=>{let X=yv(),S=vv(E,{relative:v}),A=x.toLowerCase()==="get"?"get":"post",H=typeof E=="string"&&uh.test(E),B=k=>{if(N&&N(k),k.defaultPrevented)return;k.preventDefault();let W=k.nativeEvent.submitter,j=W?.getAttribute("formmethod")||x;X(W||k.currentTarget,{fetcherKey:o,method:j,navigate:c,replace:f,state:p,relative:v,preventScrollReset:C,viewTransition:D})};return h.createElement("form",{ref:re,method:A,action:S,onSubmit:u?N:B,...Z,"data-discover":!H&&r==="render"?"true":void 0})});fv.displayName="Form";function mv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fh(r){let o=h.useContext(hl);return et(o,mv(r)),o}function hv(r,{target:o,replace:c,state:u,preventScrollReset:f,relative:p,viewTransition:x}={}){let E=jt(),N=fn(),v=pi(r,{relative:p});return h.useCallback(C=>{if(Zy(C,o)){C.preventDefault();let D=c!==void 0?c:mi(N)===mi(v);E(r,{replace:D,state:u,preventScrollReset:f,relative:p,viewTransition:x})}},[N,E,v,c,u,o,r,f,p,x])}var pv=0,gv=()=>`__${String(++pv)}__`;function yv(){let{router:r}=fh("useSubmit"),{basename:o}=h.useContext(sn),c=Uy();return h.useCallback(async(u,f={})=>{let{action:p,method:x,encType:E,formData:N,body:v}=Fy(u,o);if(f.navigate===!1){let C=f.fetcherKey||gv();await r.fetch(C,c,f.action||p,{preventScrollReset:f.preventScrollReset,formData:N,body:v,formMethod:f.method||x,formEncType:f.encType||E,flushSync:f.flushSync})}else await r.navigate(f.action||p,{preventScrollReset:f.preventScrollReset,formData:N,body:v,formMethod:f.method||x,formEncType:f.encType||E,replace:f.replace,state:f.state,fromRouteId:c,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,c])}function vv(r,{relative:o}={}){let{basename:c}=h.useContext(sn),u=h.useContext(rn);et(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),p={...pi(r||".",{relative:o})},x=fn();if(r==null){p.search=x.search;let E=new URLSearchParams(p.search),N=E.getAll("index");if(N.some(C=>C==="")){E.delete("index"),N.filter(D=>D).forEach(D=>E.append("index",D));let C=E.toString();p.search=C?`?${C}`:""}}return(!r||r===".")&&f.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:Mn([c,p.pathname])),mi(p)}function xv(r,{relative:o}={}){let c=h.useContext(nh);et(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=fh("useViewTransitionState"),f=pi(r,{relative:o});if(!c.isTransitioning)return!1;let p=On(c.currentLocation.pathname,u)||c.currentLocation.pathname,x=On(c.nextLocation.pathname,u)||c.nextLocation.pathname;return Ls(f.pathname,x)!=null||Ls(f.pathname,p)!=null}const mh="/assets/LMS-DhV7zift.svg";var oo={exports:{}},di={};var Bm;function jv(){if(Bm)return di;Bm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function c(u,f,p){var x=null;if(p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),"key"in f){p={};for(var E in f)E!=="key"&&(p[E]=f[E])}else p=f;return f=p.ref,{$$typeof:r,type:u,key:x,ref:f!==void 0?f:null,props:p}}return di.Fragment=o,di.jsx=c,di.jsxs=c,di}var qm;function bv(){return qm||(qm=1,oo.exports=jv()),oo.exports}var l=bv();const hh=({title:r,subtitle:o,footer:c,note:u,children:f})=>l.jsxs("div",{className:"card",children:[l.jsx("h1",{children:r}),l.jsx("p",{children:o}),f,l.jsx("div",{className:"google-link",children:c}),u&&l.jsx("p",{className:"note",children:u})]});var ph={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hm=ia.createContext&&ia.createContext(ph),Sv=["attr","size","title"];function Nv(r,o){if(r==null)return{};var c=wv(r,o),u,f;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);for(f=0;f<p.length;f++)u=p[f],!(o.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(r,u)&&(c[u]=r[u])}return c}function wv(r,o){if(r==null)return{};var c={};for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){if(o.indexOf(u)>=0)continue;c[u]=r[u]}return c}function Us(){return Us=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])}return r},Us.apply(this,arguments)}function Qm(r,o){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);o&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),c.push.apply(c,u)}return c}function Bs(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?Qm(Object(c),!0).forEach(function(u){Av(r,u,c[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):Qm(Object(c)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(c,u))})}return r}function Av(r,o,c){return o=zv(o),o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}function zv(r){var o=Ev(r,"string");return typeof o=="symbol"?o:o+""}function Ev(r,o){if(typeof r!="object"||!r)return r;var c=r[Symbol.toPrimitive];if(c!==void 0){var u=c.call(r,o);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}function gh(r){return r&&r.map((o,c)=>ia.createElement(o.tag,Bs({key:c},o.attr),gh(o.child)))}function Cv(r){return o=>ia.createElement(Tv,Us({attr:Bs({},r.attr)},o),gh(r.child))}function Tv(r){var o=c=>{var{attr:u,size:f,title:p}=r,x=Nv(r,Sv),E=f||c.size||"1em",N;return c.className&&(N=c.className),r.className&&(N=(N?N+" ":"")+r.className),ia.createElement("svg",Us({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,u,x,{className:N,style:Bs(Bs({color:r.color||c.color},c.style),r.style),height:E,width:E,xmlns:"http://www.w3.org/2000/svg"}),p&&ia.createElement("title",null,p),r.children)};return Hm!==void 0?ia.createElement(Hm.Consumer,null,c=>o(c)):o(ph)}function yh(r){return Cv({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}const fl="http://localhost:5000",vh=h.createContext(void 0),Dv=({children:r})=>{const[o,c]=h.useState(null);h.useEffect(()=>{const x=localStorage.getItem("user");if(x){const E=JSON.parse(x);c(E),(async()=>{try{const N=(fl||"").replace(/\/$/,"");if(E?.email&&N){const v=await fetch(`${N}/profile/${encodeURIComponent(E.email)}`);if(v.ok){const D=(await v.json()).user||null;if(D){const Z=Object.assign({},E||{},D);c(Z);try{localStorage.setItem("user",JSON.stringify(Z))}catch{}}}}}catch{}})()}},[]);const u=(x,E,N)=>{const v=typeof x=="object"&&x!==null?x:{email:x,name:E,role:N};c(v),localStorage.setItem("user",JSON.stringify(v)),(async()=>{try{const C=(fl||"").replace(/\/$/,""),D=v?.email;if(D&&C){const Z=await fetch(`${C}/profile/${encodeURIComponent(D)}`);if(Z.ok){const X=(await Z.json()).user||null;if(X){const S=Object.assign({},v,X);c(S);try{localStorage.setItem("user",JSON.stringify(S))}catch{}}}}}catch{}})()},f=()=>{c(null),localStorage.removeItem("user"),localStorage.removeItem("token")},p=x=>(async()=>{try{const v=`${(fl||"").replace(/\/$/,"")}/auth/profile`,C={"Content-Type":"application/json"},D=localStorage.getItem("token");D&&(C.Authorization="Bearer "+D);const Z=await fetch(v,{method:"PUT",headers:C,body:JSON.stringify(x)});if(Z.ok){const re=await Z.json();if(re.token)try{localStorage.setItem("token",re.token)}catch{}const X=re.user||null,S=Object.assign({},o||{},X||x);c(S);try{localStorage.setItem("user",JSON.stringify(S))}catch{}return S}}catch(N){console.error("Failed to persist profile update",N)}const E=Object.assign({},o||{},x);c(E);try{localStorage.setItem("user",JSON.stringify(E))}catch{}return E})();return l.jsx(vh.Provider,{value:{user:o,login:u,logout:f,updateProfile:p},children:r})},wt=()=>{const r=h.useContext(vh);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},Mv=({onToggle:r})=>{const{login:o}=wt(),c=jt(),[u,f]=h.useState(""),p=async x=>{x.preventDefault();const E=x.currentTarget.elements.namedItem("email").value;try{const N=await la.post("/api/auth/login",{email:E,password:u},{withCredentials:!0});localStorage.setItem("token",N.data.token);let v={email:E};try{const Z=await fetch(`/api/profile/${encodeURIComponent(E)}`);if(Z.ok){const re=await Z.json();re.user&&(v=Object.assign({},v,re.user))}}catch{}const C=N.data.user?.role||v.role,D=N.data.user?.name||v.name;if(v=Object.assign({},v,{role:C,name:D}),o(v),C==="student")try{await la.post("/api/modules/auto-enroll",{},{headers:{Authorization:"Bearer "+N.data.token},withCredentials:!0}),console.log("Student auto-enrolled successfully.")}catch(Z){console.error("Auto-enroll failed:",Z)}c(C==="superteacher"?"/superteacher/approvals":C==="teacher"?"/teacher/dashboard":"/student/dashboard")}catch(N){alert(N.response?.data?.error||"Login failed")}};return l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"logo-section",children:l.jsx("img",{src:mh,alt:"CommuniLearn Logo"})}),l.jsx("section",{className:"form-section",children:l.jsx(hh,{title:"Welcome",subtitle:"Sign in to your account.",footer:l.jsxs(l.Fragment,{children:[l.jsx(yh,{size:20}),l.jsx("a",{href:"#",onClick:x=>{x.preventDefault(),r()},style:{cursor:"pointer"},children:"Sign Up Here!"})]}),note:"Learn Languages the Fun Way!",children:l.jsxs("form",{onSubmit:p,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email / Google Account"}),l.jsx("input",{name:"email",type:"email",placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",placeholder:"Enter your password",required:!0,onChange:x=>f(x.target.value)})]}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"LOGIN"})]})})})]})},Aa="http://localhost:5000";function De(r){return r?/^https?:\/\//.test(r)?r:`${Aa.replace(/\/$/,"")}/${r.replace(/^\//,"")}`:Aa}const Ov=({onToggle:r})=>{const[o,c]=h.useState({name:"",email:"",password:"",confirmPassword:"",role:"student"}),u=async f=>{if(f.preventDefault(),o.password!==o.confirmPassword){alert("Passwords do not match!");return}try{await la.post(`${Aa}/auth/signup`,{name:o.name,email:o.email,password:o.password,role:o.role}),alert(o.role==="teacher"?"Signup successful! Your teacher account requires admin approval.":"Signup successful! Please wait for Approval!."),r()}catch(p){console.error(p),alert(p.response?.data?.error||"Signup failed")}};return l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"logo-section",children:l.jsx("img",{src:mh,alt:"CommuniLearn Logo"})}),l.jsx("section",{className:"form-section",children:l.jsx(hh,{title:"Hello there!",subtitle:"Sign Up for the Purposive Communication Course",footer:l.jsxs(l.Fragment,{children:[l.jsx(yh,{size:20}),l.jsx("a",{href:"#",onClick:f=>{f.preventDefault(),r()},children:"Already have an account?"})]}),note:"Note: Teacher approval is required for course access.",children:l.jsxs("form",{onSubmit:u,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Full Name"}),l.jsx("input",{type:"text",required:!0,placeholder:"Enter your name",onChange:f=>c({...o,name:f.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email / Google Account"}),l.jsx("input",{type:"email",required:!0,placeholder:"Enter your email",onChange:f=>c({...o,email:f.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password"}),l.jsx("input",{type:"password",required:!0,placeholder:"Enter your password",onChange:f=>c({...o,password:f.target.value})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Confirm Password"}),l.jsx("input",{type:"password",required:!0,placeholder:"Re-enter your password",onChange:f=>c({...o,confirmPassword:f.target.value})})]}),l.jsx("button",{type:"submit",className:"btn btn-primary",children:"SIGN UP"})]})})})]})};const _v=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kv=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,c,u)=>u?u.toUpperCase():c.toLowerCase()),Ym=r=>{const o=kv(r);return o.charAt(0).toUpperCase()+o.slice(1)},xh=(...r)=>r.filter((o,c,u)=>!!o&&o.trim()!==""&&u.indexOf(o)===c).join(" ").trim(),Rv=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};var Lv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uv=h.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:f="",children:p,iconNode:x,...E},N)=>h.createElement("svg",{ref:N,...Lv,width:o,height:o,stroke:r,strokeWidth:u?Number(c)*24/Number(o):c,className:xh("lucide",f),...!p&&!Rv(E)&&{"aria-hidden":"true"},...E},[...x.map(([v,C])=>h.createElement(v,C)),...Array.isArray(p)?p:[p]]));const At=(r,o)=>{const c=h.forwardRef(({className:u,...f},p)=>h.createElement(Uv,{ref:p,iconNode:o,className:xh(`lucide-${_v(Ym(r))}`,`lucide-${r}`,u),...f}));return c.displayName=Ym(r),c};const Bv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qv=At("bell",Bv);const Hv=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Gm=At("book",Hv);const Qv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uo=At("calendar",Qv);const Yv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jh=At("chevron-down",Yv);const Gv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bh=At("chevron-up",Gv);const $v=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Vv=At("clipboard-list",$v);const Xv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],go=At("file-text",Xv);const Zv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$m=At("house",Zv);const Jv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vm=At("log-out",Jv);const Kv=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],yo=At("megaphone",Kv);const Fv=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sh=At("pen",Fv);const Wv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Iv=At("plus",Wv);const Pv=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xm=At("square-check-big",Pv);const e0=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qs=At("trash-2",e0);const t0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],n0=At("user-plus",t0);const a0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nh=At("users",a0);function l0(){const{logout:r,user:o}=wt(),c=jt(),u=()=>{r(),c("/")};if(o?.role==="superteacher")return l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{className:"sidebar-title",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{className:"sidebar-title-text",children:"CommuniLearn"})]})}),l.jsx("nav",{style:{marginTop:"2rem"},children:l.jsxs(fi,{to:"/superteacher/approvals",className:({isActive:E})=>`sidebar-item ${E?"active":""}`,children:[l.jsx(Xm,{size:20}),l.jsx("span",{children:"Approvals"})]})}),l.jsxs("div",{className:"sidebar-bottom",children:[l.jsxs(fi,{onClick:u,to:"/logout",className:"sidebar-item",children:[l.jsx(Vm,{size:20}),l.jsx("span",{children:"Logout"})]})]})]});const f=[{icon:$m,label:"Dashboard",path:"/teacher/dashboard"},{icon:Gm,label:"Modules",path:"/teacher/module"},{icon:Nh,label:"Students",path:"/teacher/students"},{icon:Vv,label:"Grade/Report",path:"/teacher/grades"},{icon:go,label:"Quizzes/Test",path:"/teacher/quizzes"},{icon:yo,label:"Announcements",path:"/teacher/announcements"},{icon:Xm,label:"Approvals",path:"/teacher/approvals"}],p=[{icon:$m,label:"Dashboard",path:"/student/dashboard"},{icon:Gm,label:"Modules",path:"/student/modules"},{icon:go,label:"Quizzes/Test",path:"/student/quizzes"},{icon:yo,label:"Announcements",path:"/student/announcements"}],x=o?.role==="student"?p:f;return l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{className:"sidebar-title",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("span",{className:"sidebar-title-text",children:"CommuniLearn"})]})}),l.jsx("nav",{style:{marginTop:"1rem"},children:x.map((E,N)=>{const v=E.icon;return l.jsxs(fi,{to:E.path,className:({isActive:C})=>`sidebar-item ${C?"active":""}`,children:[l.jsx(v,{size:20}),l.jsx("span",{children:E.label})]},N)})}),l.jsxs("div",{className:"sidebar-bottom",children:[l.jsxs(fi,{onClick:u,to:"/logout",className:"sidebar-item",children:[l.jsx(Vm,{size:20}),l.jsx("span",{children:"Logout"})]})]})]})}const fo=["#ef4444","#fb923c","#f59e0b","#16a34a","#06b6d4","#3b82f6","#6366f1","#a855f7","#ec4899","#0ea5a4"];function i0(r){if(!r)return fo[0];let o=0;for(let u=0;u<r.length;u++)o=r.charCodeAt(u)+((o<<5)-o),o=o&o;const c=Math.abs(o)%fo.length;return fo[c]}function s0(r){const o=r.replace("#",""),c=parseInt(o.length===3?o.split("").map(u=>u+u).join(""):o,16);return{r:c>>16&255,g:c>>8&255,b:c&255}}function r0(r,o,c){const u=[r,o,c].map(f=>(f/=255,f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)));return .2126*u[0]+.7152*u[1]+.0722*u[2]}function c0(r){try{const{r:o,g:c,b:u}=s0(r);return r0(o,c,u)>.5?"#0f172a":"#ffffff"}catch{return"#111827"}}function ut({name:r,email:o,src:c,alt:u,className:f}){const p=r?r.trim().charAt(0).toUpperCase():"?",x=i0(o||r||""),E=c0(x),N=f||"avatar-initial",[v,C]=h.useState(c||null);h.useEffect(()=>{let Z=!1;async function re(){if(!c&&o)try{const X=(fl||"").replace(/\/$/,"");if(!X)return;const S=await fetch(`${X}/profile/${encodeURIComponent(o)}`);if(!S.ok)return;const A=await S.json();if(Z)return;const H=A?.user?.picture;H&&C(H)}catch{}}return re(),()=>{Z=!0}},[o,c]);const D=c||v;return D?l.jsx("div",{className:N,children:l.jsx("img",{src:D,alt:u||r||"avatar",className:"avatar-img"})}):l.jsx("div",{className:`${N} avatar-initial`,style:{background:x,color:E},"aria-label":u||r||"avatar",title:r,children:p})}function o0({items:r=[],onClose:o,onItemClick:c}){return l.jsxs("div",{style:{position:"fixed",top:64,right:20,width:320,background:"#fff",borderRadius:8,boxShadow:"0 6px 18px rgba(0,0,0,0.08)",padding:8,zIndex:9999},children:[l.jsx("div",{style:{padding:"10px 12px",borderBottom:"1px solid #eee"},children:l.jsx("h4",{style:{margin:0,fontWeight:700},children:"Notifications"})}),r.length===0?l.jsx("div",{style:{padding:12},children:l.jsx("p",{style:{margin:0,color:"#666"},children:"No new notifications"})}):r.map(u=>l.jsxs("div",{role:"button",onClick:f=>{f.stopPropagation(),typeof c=="function"&&c(u)},style:{padding:"10px 12px",borderBottom:"1px solid #f1f1f1",cursor:"pointer"},children:[l.jsx("p",{style:{margin:0,fontSize:14},children:u.title||u.msg||"Update"}),l.jsx("p",{style:{margin:"6px 0 0",fontSize:12,color:"#888"},children:u.created?new Date(u.created).toLocaleString():u.time||""})]},`${u.type||"it"}-${u.id}`))]})}function u0(){const{user:r}=wt()||{},o=r&&r.role?String(r.role):"guest",c=o?String(o).charAt(0).toUpperCase()+String(o).slice(1):"Guest",u=jt(),[f,p]=h.useState(!1),[x,E]=h.useState([]),[N,v]=h.useState(0);h.useRef();const C=`recentViewedItems_${r&&r.email?r.email:"guest"}`,D=S=>{try{const A=localStorage.getItem(C),H=A?JSON.parse(A):[];let B=0;for(const k of S||[]){const W=`${k.type}-${k.id}`;H.includes(W)||B++}return B}catch{return 0}},Z=async()=>{try{const S=localStorage.getItem("token"),A=S?{Authorization:"Bearer "+S}:{},[H,B,k,W,j]=await Promise.all([fetch("/api/announcement",{headers:A}).then(z=>z.ok?z.json():[]).catch(()=>[]),fetch("/api/modules/student",{headers:A}).then(z=>z.ok?z.json():[]).catch(()=>[]),fetch("/api/quizzes/student",{headers:A}).then(z=>z.ok?z.json():[]).catch(()=>[]),fetch("/api/quizzes/teacher",{headers:A}).then(z=>z.ok?z.json():[]).catch(()=>[]),fetch("/api/auth/teachers",{headers:A}).then(z=>z.ok?z.json():[]).catch(()=>[])]),O=Array.isArray(H)?H.map(z=>({id:z.id,title:z.title||(z.description||"Announcement").slice(0,80),created:z.createdAt?new Date(z.createdAt).getTime():z.updatedAt?new Date(z.updatedAt).getTime():Date.now(),type:"Announcement"})):[],g=Array.isArray(B)?B.map(z=>({id:z.id,title:z.title||"Module",created:z.createdAt?new Date(z.createdAt).getTime():z.updatedAt?new Date(z.updatedAt).getTime():Date.now(),type:"Module"})):[],y=[],U=z=>{!z||!z.id||y.push({id:z.id,title:z.title||"Quiz",created:z.createdAt?new Date(z.createdAt).getTime():z.updatedAt?new Date(z.updatedAt).getTime():Date.now(),type:"Quiz"})};Array.isArray(k)&&k.forEach(U),Array.isArray(B)&&B.forEach(z=>{Array.isArray(z.quizzes)&&z.quizzes.forEach(U)}),Array.isArray(W)&&(W.length&&Array.isArray(W[0].quizzes)?W.forEach(z=>{Array.isArray(z.quizzes)&&z.quizzes.forEach(U)}):W.forEach(U));const I=[...O,...g,...y];I.sort((z,M)=>(M.created||0)-(z.created||0));const de=[],ie=new Set;for(const z of I){const M=`${z.type}-${z.id}`;ie.has(M)||(ie.add(M),de.push(z))}E(de.slice(0,10)),v(D(de))}catch(S){console.error("Failed to fetch recent for notifications",S)}};h.useEffect(()=>{Z();const S=()=>Z();return window.addEventListener("recentUpdated",S),window.addEventListener("storage",A=>{A&&A.key&&A.key.startsWith("recentViewedItems_")&&Z()}),()=>{window.removeEventListener("recentUpdated",S)}},[]);const re=S=>{try{const A=`${S.type}-${S.id}`,H=localStorage.getItem(C),B=H?JSON.parse(H):[],k=new Set(B||[]);k.add(A);const W=Array.from(k);localStorage.setItem(C,JSON.stringify(W));try{window.dispatchEvent(new Event("recentViewedItemsUpdated"))}catch{}v(j=>Math.max(0,j-1))}catch(A){console.error("markViewedSingle error",A)}},X=S=>{try{re(S);const A=r&&(r.role||"").toString().toLowerCase()==="teacher"||typeof window<"u"&&window.location&&window.location.pathname&&window.location.pathname.startsWith("/teacher");if(S.type==="Announcement"){u((A?"/teacher/announcements":"/student/announcements")+(S.id?`?id=${S.id}`:"")),p(!1);return}if(S.type==="Module"){u(`${A?"/teacher/module":"/student/module"}/${S.id}`),p(!1);return}if(S.type==="Quiz"){u(A?`/teacher/quiz/${S.id}/view`:`/student/quiz/${S.id}`),p(!1);return}p(!1)}catch(A){console.error("handleItemClick error",A)}};return l.jsxs("header",{className:"header",children:[l.jsx("div",{style:{fontWeight:"600"},children:" "}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("button",{className:"icon-btn",onClick:()=>{p(S=>!S)},children:l.jsx(qv,{size:20})}),N>0&&l.jsx("span",{className:"notif-badge",children:N}),f&&l.jsx(o0,{items:x,onClose:()=>p(!1),onItemClick:X})]}),l.jsx("button",{className:"icon-btn profile-btn",title:c,"aria-label":`Profile (${c})`,onClick:()=>u("/profile"),children:l.jsx(ut,{name:r?r.name:void 0,email:r?r.email:void 0,className:"header-avatar",alt:"Profile"})})]})]})}function gl(){const r=jt(),{user:o}=wt(),[c,u]=h.useState(new Date),[f,p]=h.useState(null),[x,E]=h.useState([]),[N,v]=h.useState([]),[C,D]=h.useState([]),[Z,re]=h.useState([]),[X,S]=h.useState(!1),A=`recentViewedItems_${o&&o.email?o.email:"guest"}`,[H,B]=h.useState(()=>{try{const M=localStorage.getItem(A);return M?JSON.parse(M):[]}catch{return[]}});h.useEffect(()=>{try{const M=localStorage.getItem(A);B(M?JSON.parse(M):[])}catch{B([])}},[A]),h.useEffect(()=>{let M=!0;const le=localStorage.getItem("token"),w=le?{Authorization:"Bearer "+le}:{};o&&(o.role||"").toString().toLowerCase()==="teacher"||typeof window<"u"&&window.location&&window.location.pathname&&window.location.pathname.startsWith("/teacher");const $=V=>V.slice().sort((q,Y)=>!q.created&&!Y.created?0:q.created?Y.created?Y.created-q.created:-1:1);async function P(){try{if(!M)return;S(!0);const V="/api/announcement",q="/api/modules/student",Y="/api/quizzes/student",Q="/api/auth/teachers",[L,ne,he,pe,Ne]=await Promise.all([fetch(V,{headers:w}).then(ee=>ee.ok?ee.json():[]).catch(()=>[]),fetch(q,{headers:w}).then(ee=>ee.ok?ee.json():[]).catch(()=>[]),fetch("/api/quizzes/student",{headers:w}).then(ee=>ee.ok?ee.json():[]).catch(()=>[]),fetch("/api/quizzes/teacher",{headers:w}).then(ee=>ee.ok?ee.json():[]).catch(()=>[]),fetch(Q,{headers:w}).then(ee=>ee.ok?ee.json():[]).catch(()=>[])]),je=Array.isArray(L)?L.filter(ee=>ee.teacherEmail).map(ee=>{const we=String(ee.description||""),Se=we.match(/\s*Due:\s*([^\[]*)/),Ae=Se?Se[1].trim():null,ge=we.replace(/\s*\s*Due:\s*[^\[]*/,"").replace(/\s*\[ATTENDANCE_ID:\d+\]\s*$/,"").trim(),be=ee.title||(ge?ge.slice(0,60):"Announcement");let Qe=null;if(Ae){const Ye=new Date(Ae);if(!isNaN(Ye.getTime())&&Ye.getFullYear()!==1970)Qe=Ye;else{const ht=Ae.match(/(\d{1,2}):(\d{2})(?::(\d{2}))?\s*(AM|PM|am|pm)?/);if(ht){const en=new Date;let St=parseInt(ht[1],10);const yl=parseInt(ht[2],10),za=ht[3]?parseInt(ht[3],10):0,_n=ht[4];if(_n){const tn=String(_n).toLowerCase().startsWith("a");tn&&St===12&&(St=0),!tn&&St!==12&&(St=St+12)}const dt=new Date(en.getFullYear(),en.getMonth(),en.getDate(),St,yl,za,0);dt<=en&&dt.setDate(dt.getDate()+1),Qe=dt}}}return{id:ee.id,title:be,created:ee.createdAt?new Date(ee.createdAt):ee.updatedAt?new Date(ee.updatedAt):null,raw:ee,type:"Announcement",dueDate:Qe}}):[],Ie=Array.isArray(ne)?ne.filter(ee=>ee.teacherEmail).map(ee=>({id:ee.id,title:ee.title||"Module",created:ee.createdAt?new Date(ee.createdAt):ee.updatedAt?new Date(ee.updatedAt):null,raw:ee,type:"Module"})):[],bt=[],Et=ee=>{!ee||!ee.id||bt.push({id:ee.id,title:ee.title||"Quiz",created:ee.createdAt?new Date(ee.createdAt):ee.updatedAt?new Date(ee.updatedAt):null,dueDate:ee.dueDate?new Date(ee.dueDate):null,raw:ee,type:"Quiz"})};if(Array.isArray(he))for(const ee of he)Et(ee);if(Array.isArray(ne)){for(const ee of ne)if(Array.isArray(ee.quizzes))for(const we of ee.quizzes)Et(we)}if(Array.isArray(pe))if(pe.length&&pe[0]&&Array.isArray(pe[0].quizzes)){for(const ee of pe)if(Array.isArray(ee.quizzes))for(const we of ee.quizzes)Et(we)}else for(const ee of pe)Et(ee);const fe=new Set,Ce=[];for(const ee of bt)fe.has(ee.id)||(fe.add(ee.id),Ce.push(ee));const Ee=[];if(!M)return;E($(je)),v($(Ie)),D($(Ce)),re($(Ee))}catch{M&&(E([]),v([]),D([]),re([]))}finally{M&&S(!1)}}P();const me=()=>P();window.addEventListener("focus",me);const ae=V=>{V&&V.key==="recentUpdated"&&P()};window.addEventListener("storage",ae);const b=()=>P();window.addEventListener("recentUpdated",b);const _=setInterval(()=>{P()},15e3);return()=>{M=!1,window.removeEventListener("focus",me),window.removeEventListener("storage",ae),window.removeEventListener("recentUpdated",b),clearInterval(_)}},[]);const k=M=>{try{const le=new Set(H||[]);if(le.has(M))return;le.add(M);const w=Array.from(le);B(w),localStorage.setItem(A,JSON.stringify(w));try{window.dispatchEvent(new Event("recentViewedItemsUpdated"))}catch{}}catch(le){console.error("markViewed error",le)}};h.useEffect(()=>{const M=w=>{if(w&&w.key===A)try{const $=localStorage.getItem(A);B($?JSON.parse($):[])}catch{}},le=()=>{try{const w=localStorage.getItem(A);B(w?JSON.parse(w):[])}catch{}};return window.addEventListener("storage",M),window.addEventListener("recentViewedItemsUpdated",le),()=>{window.removeEventListener("storage",M),window.removeEventListener("recentViewedItemsUpdated",le)}},[]);const W=h.useMemo(()=>{const M=[...x,...N,...C,...Z];return M.sort((le,w)=>!le.created&&!w.created?0:le.created?w.created?w.created-le.created:-1:1),M},[x,N,C,Z]),j=h.useMemo(()=>{try{if(!W||!W.length)return 0;let M=0;for(const le of W){const w=`${le.type}-${le.id}`;H.includes(w)||M++}return M}catch{return 0}},[W,H]);function O(M){const w=(M.getDay()+6)%7,$=new Date(M);return $.setDate(M.getDate()-w),$.setHours(0,0,0,0),$}function g(M){const le=[],w=new Date(M.getFullYear(),M.getMonth(),1);let $=O(w);for(let P=0;P<6;P++){const me=[];for(let ae=0;ae<7;ae++){const b=new Date($);b.setDate($.getDate()+P*7+ae),me.push(b)}le.push(me)}return le}const y=g(c);function U(){u(new Date(c.getFullYear(),c.getMonth()-1,1))}function I(){u(new Date(c.getFullYear(),c.getMonth()+1,1))}function de(M){const le=new Date;return M.getFullYear()===le.getFullYear()&&M.getMonth()===le.getMonth()&&M.getDate()===le.getDate()}function ie(M,le){const w=le.toISOString().slice(0,10);p({day:le,pos:{x:M.clientX,y:M.clientY},loading:!0,events:[]});try{const $=localStorage.getItem("token");if(!$&&!o){p(me=>me&&{...me,loading:!1,events:[]});return}const P=$?{Authorization:"Bearer "+$}:{};fetch("/api/announcement",{headers:P}).then(me=>me.ok?me.json():[]).then(me=>{const ae=Array.isArray(me)?me.filter(b=>{const _=b.createdAt?new Date(b.createdAt):b.updatedAt?new Date(b.updatedAt):null;return _?_.toISOString().slice(0,10)===w:!1}):[];p(b=>!b||b.day.toDateString()!==le.toDateString()?b:{...b,loading:!1,events:ae})}).catch(()=>p(me=>me&&{...me,loading:!1,events:[]}))}catch{p(P=>P&&{...P,loading:!1,events:[]})}}function z(){p(null)}return l.jsxs("aside",{style:{width:320},children:[l.jsxs("div",{className:"card",style:{padding:12,marginBottom:16},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("strong",{children:c.toLocaleString(void 0,{month:"long",year:"numeric"})}),l.jsxs("div",{children:[l.jsx("button",{className:"view-all-btn",onClick:U,style:{marginRight:6},children:""}),l.jsx("button",{className:"view-all-btn",onClick:I,children:""})]})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",textAlign:"center",fontSize:12,color:"#666"},children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(M=>l.jsx("div",{children:M},M))}),l.jsx("div",{style:{marginTop:8},children:y.map((M,le)=>l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4,marginBottom:4},children:M.map((w,$)=>{const P=w.getMonth()!==c.getMonth(),me=de(w);return l.jsx("div",{onMouseEnter:ae=>ie(ae,w),onMouseLeave:z,style:{padding:6,borderRadius:4,background:P?"#fafafa":"#fff",border:me?"1px solid #0078d4":"1px solid #eee",cursor:"default"},children:l.jsx("div",{style:{fontSize:13,color:P?"#999":"#222"},children:w.getDate()})},$)})},le))}),f&&l.jsxs("div",{style:{marginTop:8,borderTop:"1px dashed #eee",paddingTop:8},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600},children:f.day.toDateString()}),f.loading?l.jsx("div",{style:{fontSize:13},children:"Loading..."}):f.events.length?f.events.map(M=>l.jsx("div",{style:{fontSize:13,marginTop:6},children:M.title||M.description},M.id)):l.jsx("div",{style:{fontSize:13,color:"#666",marginTop:6},children:"No events"})]})]}),l.jsxs("div",{className:"card",style:{padding:12},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("strong",{children:"Recent"}),l.jsxs("div",{style:{color:"#666",fontSize:13},children:[j," new  ",W.length," total"]})]}),l.jsx("div",{style:{maxHeight:360,overflowY:"auto"},children:X?l.jsx("div",{style:{color:"#6b7280"},children:"Loading"}):W.length?W.map((M,le)=>{const w=o&&(o.role||"").toString().toLowerCase()==="teacher"||typeof window<"u"&&window.location&&window.location.pathname&&window.location.pathname.startsWith("/teacher"),$=w&&M.type==="Quiz"?"Activity":M.type,P=`${M.type}-${M.id}`,me=!H.includes(P);return l.jsxs("div",{className:"recent-item",style:{padding:"8px 0",borderBottom:"1px solid #f1f1f1",cursor:"pointer"},onClick:()=>{try{k(P)}catch{}if(M.type==="Announcement"){r((w?"/teacher/announcements":"/student/announcements")+(M.id?`?id=${M.id}`:""));return}if(M.type==="Module"){r(`${w?"/teacher/module":"/student/module"}/${M.id}`);return}if(M.type==="Quiz"){r(w?`/teacher/quiz/${M.id}/view`:`/student/quiz/${M.id}`);return}},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{fontSize:13,fontWeight:600},children:M.title}),me&&l.jsx("div",{className:"recent-new-badge",children:"New"})]}),l.jsxs("div",{style:{fontSize:12,color:"#666",marginTop:6},children:[$,M.created?`  ${M.created.toLocaleString()}`:""]}),M.dueDate&&l.jsxs("div",{style:{fontSize:12,color:"#666",marginTop:4},children:["Due: ",M.dueDate.toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})]})]},`${M.type}-${M.id}-${le}`)}):l.jsx("div",{style:{color:"#6b7280"},children:"No recent items"})})]})]})}const _s="http://localhost:5000".replace(/\/$/,""),d0=_s?_s.endsWith("/api")?_s:_s+"/api":"/api",wa=la.create({baseURL:d0,withCredentials:!0});function f0(){const{user:r}=wt(),[o,c]=h.useState([]),[u,f]=h.useState(0),[p,x]=h.useState(0),[E,N]=h.useState(""),[v,C]=h.useState(!1),[D,Z]=h.useState(!1),[re,X]=h.useState(""),[S,A]=h.useState(""),[H,B]=h.useState(""),[k,W]=h.useState(!1),[j,O]=h.useState(!1),[g,y]=h.useState(""),[U,I]=h.useState(null),[de,ie]=h.useState([]),z=jt(),[M,le]=h.useState(""),[w,$]=h.useState(""),[P,me]=h.useState(""),[ae,b]=h.useState(null),[_,V]=h.useState(null),[q,Y]=h.useState(""),[Q,L]=h.useState(null),[ne,he]=h.useState(0),[pe,Ne]=h.useState(null),[je,Ie]=h.useState(""),[bt,Et]=h.useState(""),fe=oe=>{L(ge=>ge===oe?null:oe)};h.useEffect(()=>{const oe=ge=>{const be=ge.target;be&&(be.closest(".module-menu-wrapper")||be.closest(".module-dropdown")||L(null))};return document.addEventListener("click",oe),()=>document.removeEventListener("click",oe)},[]),h.useEffect(()=>{const oe=async()=>{try{if(!r?.email)return;const{data:ht}=await wa.get("/modules/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});c(Array.isArray(ht)?ht:[]);const en=ht.flatMap(St=>St.quizzes||[]).length;he(en)}catch(Ye){console.error("Error fetching modules:",Ye)}};(async()=>{try{const{data:Ye}=await wa.get("/announcement",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});ie(Ye)}catch(Ye){console.error("Failed to load announcements:",Ye)}})();const be=async()=>{try{const{data:Ye}=await wa.get("/students/approved/count");f(Ye.count||0)}catch(Ye){console.error("Failed to load approved students count:",Ye)}},Qe=async()=>{try{const{data:Ye}=await wa.get("/students/pending/count");x(Ye.count||0)}catch(Ye){console.error("Failed to load pending students count:",Ye)}};oe(),be(),Qe()},[r]);const Ce=async()=>{if(!w.trim())return alert("Please enter a module title");try{const oe=new FormData;oe.append("title",w),oe.append("description",P),oe.append("teacherEmail",r?.email||""),ae&&oe.append("document",ae),_&&oe.append("mediaFile",_),q&&oe.append("mediaUrl",q);const ge=await fetch(De("/modules"),{method:"POST",body:oe});if(!ge.ok)throw new Error("Failed to create module");const be=await ge.json();c(Qe=>[...Qe,be]);try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}$(""),me(""),b(null),V(null),Y(""),C(!1)}catch(oe){console.error(oe),alert("Error creating module")}},Ee=async()=>{if(!M.trim())return alert("Quiz needs a title");if(!E)return alert("Select a module");try{const oe=await fetch(De("/quizzes/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:M,moduleId:Number(E)})}),ge=await oe.json();if(!oe.ok||!ge.quizId){alert(ge.error||"Failed to create quiz.");return}try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}z("/teacher/quiz-builder",{state:{quizId:ge.quizId,moduleId:Number(E),title:M,createdNow:!0}}),setTimeout(()=>W(!1),100)}catch(oe){console.error("Create quiz error:",oe),alert("Error creating quiz.")}},ee=async oe=>{if(await window.customConfirm("Delete this module?"))try{const ge=await fetch(De(`/modules/${oe}`),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!ge.ok){const be=await ge.json().catch(()=>null);console.error("Delete module failed",be),alert(be?.error||"Failed to delete module");return}c(be=>be.filter(Qe=>Qe.id!==oe))}catch(ge){console.error(ge),alert("Error deleting module")}},we=async()=>{if(!g.trim())return alert("Description is required.");try{const oe=new FormData;oe.append("description",g),U&&oe.append("file",U);const be=await(await fetch(De("/announcement"),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:oe})).json(),Qe=U?.name||(be.filePath?String(be.filePath).split(/[/\\]/).pop():null);ie(Ye=>[{...be,displayFileName:Qe},...Ye]);try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}O(!1),y(""),I(null)}catch(oe){console.log(oe),alert("Failed to create announcement")}},Se=async()=>{const oe=(re||"").trim();if(!oe)return alert("Description is required");let ge=null;S?H?ge=`${S}T${H}`:ge=S:H&&(ge=`1970-01-01T${H}`);try{const be=await fetch(De("/attendance"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:oe,dueDate:ge})}),Qe=await be.json();if(!be.ok){alert(Qe.error||"Failed to create attendance");return}Z(!1),X(""),A(""),B("");try{const Ye=new FormData,ht=`Attendance: ${oe}`+(ge?`  Due: ${new Date(ge).toLocaleString()}`:"")+(Qe&&Qe.id?` [ATTENDANCE_ID:${Qe.id}]`:"");Ye.append("description",ht);const en=await fetch(De("/announcement"),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:Ye}),St=await en.json();if(en.ok){const yl=Qe&&U?U.name:St.filePath?String(St.filePath).split(/[/\\]/).pop():null;ie(za=>[{...St,displayFileName:yl},...za]);try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}else console.warn("Attendance created but linked announcement failed:",St)}catch(Ye){console.error("Failed to create linked announcement:",Ye)}alert("Attendance created successfully")}catch(be){console.error(be),alert("Failed to create attendance (network error)")}},Ae=async()=>{if(pe)try{const oe=await fetch(De(`/modules/${pe}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:je,description:bt})});if(!oe.ok){const be=await oe.json().catch(()=>null);console.error("Update failed",be),alert(be?.error||"Failed to update module");return}const ge=await oe.json();c(be=>be.map(Qe=>Qe.id===pe?ge:Qe)),Ne(null)}catch(oe){console.error(oe),alert("Failed to save changes")}};return l.jsxs("div",{className:"main-layout",children:[l.jsxs("div",{className:"dashboard-container",children:[l.jsxs("div",{className:"stats-grid",children:[l.jsxs("div",{className:"stats-card",children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(go,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:o.length}),l.jsx("p",{className:"card-subtitle",children:"Modules Created"})]}),l.jsxs("div",{className:"stats-card stats-clickable",onClick:()=>z("/teacher/quizzes"),children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(uo,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:ne}),l.jsx("p",{className:"card-subtitle",children:"Assessments Created"})]}),l.jsxs("div",{className:"stats-card stats-clickable",onClick:()=>z("/teacher/students"),children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(Nh,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:u}),l.jsx("p",{className:"card-subtitle",children:"Enrolled Students"})]}),l.jsxs("div",{className:"stats-card stats-clickable",onClick:()=>z("/teacher/approvals"),children:[l.jsx("div",{className:"card-header",children:l.jsx("div",{className:"icon-wrapper",children:l.jsx(n0,{className:"icon-blue"})})}),l.jsx("h3",{className:"card-number",children:p}),l.jsx("p",{className:"card-subtitle",children:"Registrants"})]})]}),l.jsxs("div",{className:"action-buttons-container",children:[l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>C(!0),children:[l.jsx(Iv,{size:18}),"New Module"]}),l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>Z(!0),children:[l.jsx(uo,{size:18}),"New Attendance"]}),l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>W(!0),children:[l.jsx(uo,{size:18}),"New Activity"]}),l.jsxs("button",{type:"button",className:"action-btn primary",onClick:()=>O(!0),children:[l.jsx(yo,{size:18}),"Create Announcement"]})]}),l.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{className:"module-list",children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"List of Modules"}),l.jsx("p",{className:"module-list-subtitle",children:"Your recently created modules"})]}),l.jsx("button",{type:"button",className:"view-all-btn",onClick:()=>z("/teacher/module"),children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:o.map(oe=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{type:"button",className:"module-more-btn",onClick:()=>fe(oe.id),children:""}),Q===oe.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>{Ne(oe.id),Ie(oe.title),Et(oe.description||""),L(null)},children:"Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>ee(oe.id),children:"Delete"})]})]}),l.jsx("h4",{className:"module-code",children:oe.title}),l.jsx("p",{className:"module-desc",children:oe.description}),l.jsx("button",{type:"button",className:"module-view-btn",onClick:()=>z(`/teacher/module/${oe.id}`),children:"View"})]},oe.id))})]}),l.jsx("div",{style:{height:24}})]}),l.jsx("div",{style:{width:340,flex:"0 0 340px"},children:l.jsx(gl,{})})]})]}),v&&l.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Create a Module"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Module Name:"}),l.jsx("input",{type:"text",placeholder:"Module title",value:w,onChange:oe=>$(oe.target.value)}),l.jsx("label",{children:"Description:"}),l.jsx("textarea",{placeholder:"Describe the module",value:P,onChange:oe=>me(oe.target.value)}),l.jsx("label",{children:"Document File:"}),l.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:oe=>b(oe.target.files?.[0]||null)}),l.jsx("label",{children:"Video/Audio:"}),l.jsx("input",{type:"file",accept:".mp4,.mkv,.mp3",onChange:oe=>V(oe.target.files?.[0]||null)}),l.jsx("label",{children:"Video/Audio URL:"}),l.jsx("input",{type:"text",placeholder:"YouTube / Vimeo / MP3 URL",value:q,onChange:oe=>Y(oe.target.value)})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>C(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Ce,children:"Create"})]})]})}),j&&l.jsx("div",{className:"modal-overlay",onClick:()=>O(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Create Announcement"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{placeholder:"Enter announcement description",value:g,onChange:oe=>y(oe.target.value)}),l.jsx("label",{children:"Attach File (Optional):"}),l.jsx("input",{type:"file",onChange:oe=>I(oe.target.files?.[0]||null)}),U&&(()=>{const oe=U.name,ge=oe.split(".").pop().toLowerCase(),be=URL.createObjectURL(U);return ge==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("iframe",{src:be,className:"gc-pdf-preview",title:oe}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:oe}),l.jsx("a",{href:be,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:oe}),l.jsx("a",{href:be,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]})})()]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>O(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:we,children:"Create"})]})]})}),D&&l.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"New Attendance"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{placeholder:"Enter attendance description",value:re,onChange:oe=>X(oe.target.value),className:"announcement-edit-box"}),l.jsxs("div",{className:"datetime-row",children:[l.jsxs("div",{className:"datetime-col",children:[l.jsx("label",{style:{marginTop:12},children:"Due Date"}),l.jsx("input",{type:"date",value:S,onChange:oe=>A(oe.target.value),className:"announcement-input"})]}),l.jsx("div",{className:"datetime-divider"}),l.jsxs("div",{className:"datetime-col",children:[l.jsx("label",{style:{marginTop:12},children:"Time"}),l.jsx("input",{type:"time",value:H,onChange:oe=>B(oe.target.value),className:"announcement-input",style:{maxWidth:200}})]})]})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>Z(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Se,children:"Create"})]})]})}),pe&&l.jsx("div",{className:"modal-overlay",onClick:()=>Ne(null),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Module"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Module Title:"}),l.jsx("input",{type:"text",value:je,onChange:oe=>Ie(oe.target.value)}),l.jsx("label",{children:"Description:"}),l.jsx("textarea",{value:bt,onChange:oe=>Et(oe.target.value)})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>Ne(null),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Ae,children:"Save Changes"})]})]})}),k&&l.jsx("div",{className:"modal-overlay",onClick:()=>W(!1),children:l.jsxs("div",{className:"modal-content",onClick:oe=>oe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Create a New Quiz"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Quiz Title:"}),l.jsx("input",{type:"text",value:M,onChange:oe=>le(oe.target.value)}),l.jsx("label",{children:"Select Module:"}),l.jsxs("select",{value:E,onChange:oe=>N(oe.target.value),children:[l.jsx("option",{value:"",children:"-- Choose Module --"}),o.map(oe=>l.jsx("option",{value:String(oe.id),children:oe.title},oe.id))]})]}),l.jsx("div",{className:"modal-actions",children:[l.jsx("button",{type:"button",className:"modal-btn cancel",onClick:()=>W(!1),children:"Cancel"}),l.jsx("button",{type:"button",className:"modal-btn create",onClick:Ee,children:"Continue"})]})]})})]})}function m0(){const{user:r}=wt(),[o,c]=h.useState([]),[u,f]=h.useState(null),[p,x]=h.useState(null),[E,N]=h.useState(""),[v,C]=h.useState(""),D=jt(),Z=A=>{f(H=>H===A?null:A)};h.useEffect(()=>{const A=H=>{const B=H.target;B&&(B.closest(".module-menu-wrapper")||B.closest(".module-dropdown")||f(null))};return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[]),h.useEffect(()=>{(async()=>{if(r?.email)try{const H=await fetch("http://localhost:5000/modules/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!H.ok)throw new Error("Failed to load modules");const B=await H.json();c(Array.isArray(B)?B:[])}catch(H){console.error("Error loading modules",H)}})()},[r]);const re=async A=>{if(await window.customConfirm("Delete this module?"))try{const H=await fetch(`http://localhost:5000/modules/${A}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!H.ok){const B=await H.json().catch(()=>null);console.error("Delete module failed",B),alert(B?.error||"Failed to delete module");return}c(B=>B.filter(k=>k.id!==A))}catch(H){console.error(H)}},X=A=>{x(A.id),N(A.title),C(A.description)},S=async()=>{if(p)try{const A=await fetch(`http://localhost:5000/modules/${p}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({title:E,description:v})});if(!A.ok)throw new Error("Update failed");const H=await A.json();c(B=>B.map(k=>k.id===p?H:k)),x(null)}catch(A){console.error(A)}};return l.jsx("div",{className:"main-layout",children:l.jsxs("div",{className:"dashboard-container",children:[l.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[l.jsx("div",{style:{flex:1},children:l.jsxs("div",{className:"module-list",children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"List of Modules"}),l.jsx("div",{className:"module-list-subtitle",children:"Your recently created modules"})]}),l.jsx("button",{className:"view-all-btn",onClick:()=>D("/teacher/module"),children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:o.map(A=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{className:"module-more-btn",onClick:()=>Z(A.id),children:""}),u===A.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>X(A),children:"Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>re(A.id),children:"Delete"})]})]}),l.jsx("div",{className:"module-code",children:A.title}),l.jsx("div",{className:"module-desc",children:A.description}),l.jsx("button",{className:"module-view-btn",onClick:()=>D(`/teacher/module/${A.id}`),children:"View"})]},A.id))})]})}),l.jsx(gl,{})]}),p&&l.jsx("div",{className:"modal-overlay",onClick:()=>x(null),children:l.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Module"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Module Title"}),l.jsx("input",{type:"text",value:E,onChange:A=>N(A.target.value)}),l.jsx("label",{children:"Description"}),l.jsx("textarea",{value:v,onChange:A=>C(A.target.value)})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>x(null),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:S,children:"Save Changes"})]})]})})]})})}function h0(){return l.jsx("div",{children:"Approvals Page (Blank)"})}function p0(){const[r,o]=h.useState([]),[c,u]=h.useState(!0),[f,p]=h.useState(null),x=async()=>{try{const C=await(await fetch("http://localhost:5000/auth/approved",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();o(C)}catch(v){console.error("Error loading approved students:",v)}finally{u(!1)}},E=async v=>{if(await window.customConfirm("Remove this student?"))try{const C=await fetch(`http://localhost:5000/auth/remove/${v}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!C.ok){const D=await C.json().catch(()=>({error:"Remove failed"}));return alert(D.error||"Failed to remove student")}o(D=>D.filter(Z=>Z.id!==v)),p(null)}catch(C){console.error("remove student error",C),alert("Failed to remove student")}},N=async v=>{p(v);try{if(v&&v.email){const C=await fetch(`http://localhost:5000/profile/${encodeURIComponent(v.email)}`);if(C.ok){const Z=(await C.json()).user||null;Z&&p(Object.assign({},v,Z))}}}catch(C){console.error("Failed to fetch student profile",C)}};return h.useEffect(()=>{x()},[]),l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Student Lists"})}),l.jsx("div",{className:"page-content card-container approvals-list",children:c?l.jsx("p",{children:"Loading..."}):r.length===0?l.jsx("p",{children:"No approved students yet."}):r.map(v=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ut,{name:v.name,email:v.email||null,className:"avatar-small"}),l.jsx("div",{className:"student-name",children:v.name})]}),l.jsx("div",{className:"row-right",children:l.jsx("button",{className:"btn-view",onClick:()=>N(v),children:"View"})})]},v.id))}),f&&l.jsx("div",{className:"modal-overlay",onClick:()=>p(null),children:l.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Student Details"}),l.jsxs("div",{className:"student-details-box",children:[l.jsx("div",{className:"modal-avatar-container",children:l.jsx(ut,{name:f.name,email:f.email||null,className:"modal-avatar"})}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Name:"}),l.jsx("p",{children:f.name})]}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Email:"}),l.jsx("p",{children:f.email})]}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Student ID:"}),l.jsx("p",{children:f.studentId&&f.studentId!==""?f.studentId:"None"})]}),l.jsxs("div",{className:"details-row",children:[l.jsx("label",{children:"Biography:"}),l.jsx("p",{children:f.bio&&f.bio!==""?f.bio:"None"})]})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>p(null),children:"Close"}),l.jsx("button",{className:"modal-btn delete",onClick:()=>E(f.id),children:"Remove Student"})]})]})})]})}function Zm(r){const c=Date.now()-r.getTime(),u=Math.floor(c/6e4);if(u<1)return"Just now";if(u<60)return`${u} minutes ago`;const f=Math.floor(u/60);if(f<24)return`${f} hours ago`;const p=Math.floor(f/24);return p===1?"Yesterday":`${p} days ago`}function g0(r){if(!r)return"";const o=new Date(r),c=String(o.getMonth()+1).padStart(2,"0"),u=String(o.getDate()).padStart(2,"0"),f=o.getFullYear();let p=o.getHours();const x=String(o.getMinutes()).padStart(2,"0"),E=p>=12?"PM":"AM";return p=p%12,p===0&&(p=12),`${c}/${u}/${f}-${p}:${x}${E}`}function y0(r){if(!r)return null;try{const o=new Date(r),c=o.getHours()===0&&o.getMinutes()===0&&o.getSeconds()===0,u=o.getUTCHours&&o.getUTCHours()===0&&o.getUTCMinutes&&o.getUTCMinutes()===0&&o.getUTCSeconds&&o.getUTCSeconds()===0,f=c||u,p=o.getFullYear&&o.getFullYear()===1970;f&&o.setHours(23,59,59,999);const x=Date.now(),E=o.getTime()-x;if(E<=0)return{status:"timesUp",label:"Time's Up"};if(p)return{status:"timeOnly",timePart:o.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};if(!f){const N=Math.floor(E/6e4);if(N<60)return{status:"relative",label:`Due in ${N}mins`,datePart:o.toLocaleDateString(),timePart:o.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})};const v=Math.round(N/60);return v<24?{status:"relative",label:`Due in ${v}hrs`,datePart:o.toLocaleDateString(),timePart:o.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}:{status:"date",datePart:o.toLocaleDateString(),timePart:o.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}}return{status:"date",datePart:o.toLocaleDateString(),timePart:o.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}}catch{return null}}function v0(){const{user:r}=wt?wt():{user:null},o=typeof window<"u"?localStorage.getItem("userEmail"):null,c=r?.email||o||"",[u,f]=h.useState([]),[p,x]=h.useState({}),[E,N]=h.useState(!0),[v,C]=h.useState({}),[D,Z]=h.useState(null),[re,X]=h.useState(""),[S,A]=h.useState(null),[H,B]=h.useState(null),[k,W]=h.useState({}),[j,O]=h.useState([]),[g,y]=h.useState("all");h.useEffect(()=>{const fe=Ce=>{const Ee=Ce.target;Ee&&(Ee.closest(".module-dropdown")||Ee.closest(".module-more-btn")||Ee.closest(".announcement-menu")||Ee.closest(".announcement-menu-btn")||(A(null),B(null)))};return document.addEventListener("click",fe),()=>document.removeEventListener("click",fe)},[]);const[U,I]=h.useState(!1),[de,ie]=h.useState(null),[z,M]=h.useState(""),[le,w]=h.useState(null);h.useEffect(()=>{(async()=>{try{const Ee=await(await fetch(De("/announcement"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json(),ee=Array.isArray(Ee)?Ee.slice().sort((we,Se)=>new Date(Se.createdAt).getTime()-new Date(we.createdAt).getTime()):[];try{const we=await fetch(De("/api/auth/teachers"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(we.ok){const Se=await we.json(),Ae={};if(Array.isArray(Se))for(const ge of Se)ge.email&&(Ae[ge.email]=ge);x(Ae);const oe=ee.map(ge=>({...ge,authorPicture:ge.picture||ge.teacherEmail&&Ae[ge.teacherEmail]&&Ae[ge.teacherEmail].picture||null,username:ge.username||(ge.teacherEmail?Ae[ge.teacherEmail]&&Ae[ge.teacherEmail].name:ge.username)}));f(oe)}else f(ee)}catch{f(ee)}try{const Se=await(await fetch(De("/attendance"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();if(Array.isArray(Se)){const Ae={};for(const oe of Se)Array.isArray(oe.marks)&&oe.marks.some(ge=>ge.studentEmail===c)&&(Ae[oe.id]=!0);W(Ae),O(Array.isArray(Se)?Se:[])}}catch{}}catch(Ce){console.error("Failed to load announcements:",Ce)}finally{N(!1)}})()},[]);const $=async fe=>{const Ce=(v[fe]||"").trim();if(Ce)try{const Ee=await fetch(De(`/announcement/${fe}/comments`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:Ce})}),ee=await Ee.json();if(!Ee.ok){alert(ee.error||"Failed to add comment");return}f(we=>we.map(Se=>Se.id===fe?{...Se,comments:[...Se.comments,ee]}:Se)),C(we=>({...we,[fe]:""}))}catch(Ee){console.error(Ee),alert("Failed to add comment")}},P=fe=>{Z(fe.id),X(fe.text),B(null)},me=async fe=>{if(!D)return;const Ce=re.trim();if(!Ce)return alert("Comment cannot be empty");try{const Ee=await fetch(De(`/announcement/${fe}/comments/${D}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:Ce})}),ee=await Ee.json();if(!Ee.ok){alert(ee.error||"Failed to edit comment");return}f(we=>we.map(Se=>Se.id===fe?{...Se,comments:Se.comments.map(Ae=>Ae.id===ee.id?ee:Ae)}:Se)),Z(null),X("")}catch(Ee){console.error(Ee),alert("Failed to edit comment")}},ae=async(fe,Ce)=>{if(await window.customConfirm("Delete this comment?"))try{const Ee=await fetch(De(`/announcement/${fe}/comments/${Ce}`),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),ee=await Ee.json();if(!Ee.ok){alert(ee.error||"Failed to delete comment");return}f(we=>we.map(Se=>Se.id===fe?{...Se,comments:Se.comments.filter(Ae=>Ae.id!==Ce)}:Se)),B(null)}catch(Ee){console.error(Ee),alert("Failed to delete comment")}},b=fe=>{ie(fe.id);try{const{text:Ce,attendanceId:Ee}=Y(fe.description);M(Ce||""),w(Ee)}catch{M(fe.description||""),w(null)}I(!0),A(null)},_=async()=>{if(de)try{let fe=(z||"").trim();le&&(fe=fe.replace(/\s*\[ATTENDANCE_ID:\d+\]/,"").trim(),fe=fe+` [ATTENDANCE_ID:${le}]`);const Ce=await fetch(De(`/announcement/${de}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:fe})}),Ee=await Ce.json();if(!Ce.ok){alert(Ee.error||"Failed to update announcement");return}f(ee=>ee.map(we=>we.id===Ee.id?{...we,description:Ee.description}:we)),I(!1),ie(null),M(""),w(null)}catch(fe){console.error(fe),alert("Failed to update announcement")}},V=async fe=>{if(await window.customConfirm("Delete this announcement?"))try{const Ce=await fetch(De(`/announcement/${fe}`),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});f(Ee=>Ee.filter(ee=>ee.id!==fe)),A(null)}catch(Ce){console.error(Ce),alert("Failed to delete announcement")}},q=async fe=>{try{const Ce=await fetch(De(`/attendance/${fe}/mark`),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),Ee=await Ce.json();if(!Ce.ok){if(Ee&&Ee.error&&Ee.error.toLowerCase().includes("already")){W(ee=>({...ee,[fe]:!0}));return}alert(Ee.error||"Failed to mark attendance");return}W(ee=>({...ee,[fe]:!0}))}catch(Ce){console.error(Ce),alert("Failed to mark attendance")}},Y=fe=>{if(!fe)return{text:fe,attendanceId:null};const Ce=fe.match(/\[ATTENDANCE_ID:(\d+)\]/);if(Ce){const Ee=Number(Ce[1]);let ee=fe.replace(/\s*\[ATTENDANCE_ID:\d+\]/,"");return ee=ee.replace(/\s*\s*Due:\s*[^\[]*/,"").trim(),{text:ee,attendanceId:Ee}}return{text:fe,attendanceId:null}},[Q,L]=h.useState(!1),[ne,he]=h.useState(null),[pe,Ne]=h.useState(!1),[je,Ie]=h.useState([]),bt=async fe=>{Ne(!0),he(fe);try{const[Ce,Ee]=await Promise.all([fetch(De(`/attendance/${fe}`),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),fetch(De("/students"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})]),[ee,we]=await Promise.all([Ce.json(),Ee.json()]);if(!Ce.ok)alert(ee.error||"Failed to load present list"),Ie([]);else if(!Ee.ok)Ie(Array.isArray(ee.marks)?ee.marks.map(Se=>({studentEmail:Se.studentEmail,studentName:Se.studentName||Se.studentEmail,present:!0,markedAt:Se.createdAt})):[]);else{const Se=Array.isArray(ee.marks)?ee.marks:[],Ae=Array.isArray(we)?we:[],oe={};for(const be of Se)oe[be.studentEmail]=be;const ge=Ae.map(be=>{const Qe=oe[be.email];return{id:be.id,studentName:be.name||be.email,studentEmail:be.email,present:!!Qe,markedAt:Qe?Qe.createdAt:null}});for(const be of Se)Ae.find(Qe=>Qe.email===be.studentEmail)||ge.push({id:null,studentName:be.studentName||be.studentEmail,studentEmail:be.studentEmail,present:!0,markedAt:be.createdAt});Ie(ge)}}catch(Ce){console.error("Failed to fetch present list",Ce),alert("Failed to load present list"),Ie([])}finally{Ne(!1),L(!0)}},Et=(u||[]).filter(fe=>{try{const{attendanceId:Ce}=Y(fe.description);return g==="attendance"?!!Ce:g==="announcement"?!Ce:!0}catch{return g!=="attendance"}});return l.jsxs("div",{className:"announcement-wrap",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>y("all"),style:{padding:"8px 12px",borderRadius:8,border:g==="all"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="all"?"#2563eb":"#fff",color:g==="all"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"All"}),l.jsx("button",{onClick:()=>y("announcement"),style:{padding:"8px 12px",borderRadius:8,border:g==="announcement"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="announcement"?"#2563eb":"#fff",color:g==="announcement"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Announcement"}),l.jsx("button",{onClick:()=>y("attendance"),style:{padding:"8px 12px",borderRadius:8,border:g==="attendance"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="attendance"?"#2563eb":"#fff",color:g==="attendance"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Attendance"})]}),l.jsx("h1",{className:"text-4xl font-bold mb-6",style:{margin:0},children:"Announcements"})]}),E&&l.jsx("p",{children:"Loading announcements..."}),!E&&u.length===0&&l.jsx("p",{children:"No announcements yet."}),!E&&Et.length===0&&l.jsx("p",{children:"No items match this filter."}),!E&&Et.map(fe=>{const Ee=(Array.isArray(fe.comments)?fe.comments:[]).slice().sort((ee,we)=>new Date(ee.createdAt).getTime()-new Date(we.createdAt).getTime());return l.jsxs("div",{className:"announcement-card",children:[l.jsx("div",{className:"announcement-menu-btn",onClick:()=>A(ee=>ee===fe.id?null:fe.id),"aria-label":"announcement menu",title:"Actions",children:""}),S===fe.id&&l.jsx("div",{className:"announcement-menu",children:(fe.teacherEmail===c||r?.role==="teacher"||r?.role==="superteacher")&&l.jsxs(l.Fragment,{children:[l.jsx("p",{onClick:()=>b(fe),children:" Edit"}),l.jsx("p",{onClick:()=>V(fe.id),children:" Delete"})]})}),l.jsxs("div",{className:"announcement-header",children:[l.jsx(ut,{src:fe.authorPicture||void 0,name:fe.username||fe.teacherEmail&&p[fe.teacherEmail]&&(p[fe.teacherEmail].username||p[fe.teacherEmail].name)||(fe.teacherEmail?.split("@")?.[0]??fe.teacherEmail),email:fe.teacherEmail,className:"announcement-avatar"}),l.jsxs("div",{className:"announcement-meta",children:[l.jsx("p",{children:fe.username||fe.teacherEmail&&p[fe.teacherEmail]&&(p[fe.teacherEmail].username||p[fe.teacherEmail].name)||(fe.teacherEmail?.split("@")?.[0]??fe.teacherEmail)}),l.jsxs("p",{children:[Zm(new Date(fe.createdAt))," - ",g0(new Date(fe.createdAt))]})]})]}),l.jsx("div",{className:"announcement-body",children:(()=>{const{text:ee,attendanceId:we}=Y(fe.description);return l.jsxs(l.Fragment,{children:[l.jsx("pre",{className:"announcement-text",children:ee}),fe.filePath&&(()=>{const Se=String(fe.filePath||""),Ae=fe.displayFileName||Se.split(/[/\\]/).pop()||Se,oe=(Ae.split(".").pop()||"").toLowerCase(),ge=Se.replace(/^[/\\]+/,"").replace(/\\/g,"/"),be=ge.includes("/")?De(`/${ge}`):De(`/uploads/announcements/${ge}`);return oe==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("iframe",{src:be,className:"gc-pdf-preview",title:Ae}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Ae}),l.jsx("a",{href:be,target:"_blank",rel:"noreferrer",download:Ae,className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Ae}),l.jsx("a",{href:be,target:"_blank",rel:"noreferrer",download:Ae,className:"gc-open-btn",children:"Open"})]})]})})(),we&&r?.role!=="teacher"&&l.jsx("div",{style:{marginTop:8},children:(()=>{const Se=j.find(ge=>ge.id===we),Ae=Se&&Se.dueDate?new Date(Se.dueDate):null,oe=Ae?Date.now()>Ae.getTime():!1;return k[we]?l.jsx("button",{className:"attendance-badge",disabled:!0,children:"PRESENT"}):oe?l.jsx("button",{className:"attendance-btn",disabled:!0,style:{background:"#ef4444"},children:"Time's Up"}):l.jsx("button",{className:"attendance-btn",style:{background:"#0ea5e9"},onClick:()=>q(we),children:"Present"})})()}),we&&r?.role==="teacher"&&l.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:12},children:[l.jsx("button",{className:"attendance-btn",style:{background:"#0b74c9"},onClick:()=>bt(we),children:"SHOW PRESENT"}),(()=>{const Se=j.find(Ae=>Ae.id===we);if(Se&&Se.dueDate){const Ae=y0(Se.dueDate);if(!Ae)return null;if(Ae.status==="timesUp")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#ef4444",fontWeight:600},children:Ae.label});if(Ae.status==="relative")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:`(${Ae.label}) ${Ae.datePart}, ${Ae.timePart}`});if(Ae.status==="timeOnly")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:Ae.timePart});if(Ae.status==="date")return l.jsxs("div",{style:{fontSize:"0.9rem",color:"#374151",display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{children:`Due on ${Ae.datePart}`}),Ae.timePart&&l.jsx("span",{style:{fontWeight:600,color:"#374151"},children:Ae.timePart})]})}return null})()]})]})})()}),l.jsx("div",{className:"announcement-comments-list",children:Ee.map(ee=>l.jsxs("div",{className:"gc-comment",children:[l.jsx(ut,{src:ee.authorEmail===c?r&&r.picture:ee.authorPicture||p[ee.authorEmail]&&p[ee.authorEmail].picture,name:ee.username||ee.authorEmail&&p[ee.authorEmail]&&(p[ee.authorEmail].username||p[ee.authorEmail].name)||ee.authorName,email:ee.authorEmail,className:"gc-comment-avatar"}),l.jsxs("div",{className:"gc-comment-body",children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"baseline"},children:[l.jsx("p",{className:"gc-comment-author",children:ee.username||ee.authorEmail&&p[ee.authorEmail]&&(p[ee.authorEmail].username||p[ee.authorEmail].name)||ee.authorName}),l.jsx("p",{className:"gc-comment-time",children:Zm(new Date(ee.createdAt))}),ee.updatedAt&&new Date(ee.updatedAt)>new Date(ee.createdAt)&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#999"},children:"(edited)"})]}),D===ee.id?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"gc-comment-input",value:re,onChange:we=>X(we.target.value),style:{marginTop:8,marginBottom:8}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"gc-send-btn",onClick:()=>me(fe.id),style:{background:"#16a34a",fontSize:"0.9rem"},children:"Save"}),l.jsx("button",{className:"gc-send-btn",onClick:()=>Z(null),style:{background:"#6b7280",fontSize:"0.9rem"},children:"Cancel"})]})]}):l.jsx("p",{className:"gc-comment-text",children:ee.text})]}),(ee.authorEmail===c||r?.role==="teacher"||r?.role==="superteacher")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"module-more-btn",onClick:()=>B(we=>we===ee.id?null:ee.id),children:""}),H===ee.id&&l.jsxs("div",{className:"module-dropdown",style:{right:12,top:28},children:[ee.authorEmail===c&&l.jsx("div",{className:"module-dropdown-item",onClick:()=>P(ee),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>ae(fe.id,ee.id),children:" Delete"})]})]})]},ee.id))}),l.jsxs("div",{className:"announcement-comment",children:[l.jsx(ut,{src:r?.picture,name:r?.username||r?.name||"",email:c,className:"gc-comment-avatar small"}),l.jsx("input",{className:"announcement-input",placeholder:"Add a comment",value:v[fe.id]||"",onChange:ee=>C(we=>({...we,[fe.id]:ee.target.value})),onKeyDown:ee=>{ee.key==="Enter"&&$(fe.id)}}),l.jsx("button",{className:"gc-send-btn",onClick:()=>$(fe.id),title:"Send comment",children:""})]})]},fe.id)}),Q&&l.jsx("div",{className:"modal-overlay",onClick:()=>L(!1),children:l.jsxs("div",{className:"modal-content",onClick:fe=>fe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Present List"}),l.jsx("div",{className:"modal-form",children:pe?l.jsx("p",{children:"Loading..."}):je.length===0?l.jsx("p",{children:"No students have marked present."}):l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:je.map(fe=>l.jsxs("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #eee"},children:[l.jsxs("div",{children:[l.jsx("strong",{children:fe.studentName}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#666"},children:fe.studentEmail})]}),l.jsx("div",{children:fe.present?l.jsx("span",{style:{background:"#16a34a",color:"#fff",padding:"6px 10px",borderRadius:6,fontWeight:600},children:"PRESENT"}):l.jsx("span",{style:{background:"#e5e7eb",color:"#374151",padding:"6px 10px",borderRadius:6},children:"ABSENT"})})]},(fe.id||fe.studentEmail)+(fe.present?"-present":"-absent")))})}),l.jsx("div",{className:"modal-actions",children:l.jsx("button",{className:"modal-btn create",onClick:()=>L(!1),children:"Close"})})]})}),U&&l.jsx("div",{className:"modal-overlay",onClick:()=>I(!1),children:l.jsxs("div",{className:"modal-content",onClick:fe=>fe.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Announcement"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{value:z,onChange:fe=>M(fe.target.value),className:"announcement-edit-box"})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>I(!1),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:_,children:"Save"})]})]})})]})}function x0(){const[r,o]=h.useState([]),[c,u]=h.useState(!0);jt();const[f,p]=h.useState(null),[x,E]=h.useState([]),[N,v]=h.useState(!1),[C,D]=h.useState(!1),[Z,re]=h.useState(null),[X,S]=h.useState(null);function A(j){return j?String(j).split(" ").filter(Boolean).map(O=>O.charAt(0).toUpperCase()+O.slice(1).toLowerCase()).join(" "):""}h.useEffect(()=>{let j=!0;return(async()=>{try{const y=await(await fetch("http://localhost:5000/auth/approved",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();j&&o(Array.isArray(y)?y:[])}catch(g){console.error("Error loading students",g),j&&o([])}finally{j&&u(!1)}})(),()=>j=!1},[]);const H=async j=>{p(j),v(!0);try{const g=await(await fetch("http://localhost:5000/quizzes/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json(),y=[];(Array.isArray(g)?g:[]).forEach(I=>{(I.quizzes||[]).forEach(de=>y.push({...de,moduleTitle:I.title}))});const U=await Promise.all(y.map(async I=>{try{const de=await fetch(`http://localhost:5000/quizzes/${I.id}/scores`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!de.ok)return{quiz:I,score:null};const ie=await de.json(),z=Array.isArray(ie)?ie.find(M=>M.studentEmail&&M.studentEmail===j.email||M.email&&M.email===j.email||M.studentId&&(M.studentId===j.id||M.studentId===Number(j.id))):null;return{quiz:I,score:z?z.score:null}}catch{return{quiz:I,score:null}}}));E(U.map(I=>({id:I.quiz.id,title:I.quiz.title,totalPoints:I.quiz.totalPoints||null,score:I.score})))}catch(O){console.error("Failed to load quizzes/scores",O),E([])}finally{v(!1)}},B=async j=>{try{const O=j.startsWith("http")?j:`http://localhost:5000${j}`,g=await fetch(O,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!g.ok){alert("Failed to download file");return}const y=await g.blob(),U=URL.createObjectURL(y),I=document.createElement("a");I.href=U;const de=j.split("/");I.download=de[de.length-1]||"download",document.body.appendChild(I),I.click(),I.remove(),URL.revokeObjectURL(U)}catch(O){console.error("Download error",O),alert("Download failed")}},k=(j,O)=>{if(!j)return null;const g=String(j),y=g.startsWith("http")?g:`http://localhost:5000${g}`,U=g.split("/").pop(),I=(U||"").split(".").pop()?.toLowerCase(),ie=Object.assign({},{width:"100%",borderRadius:8,border:"1px solid #eef0f3",background:"#fff",overflow:"hidden"},{display:"flex",alignItems:"center",gap:12,padding:10}),z={width:120,height:80,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:4,background:"#f7fafc"};return I==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:ie,children:[l.jsx("div",{className:"gc-pdf-preview",style:z,children:l.jsx("iframe",{src:y,title:U,style:{width:"100%",height:"100%",border:"none"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:U}),l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>B(j),style:{marginLeft:8},className:"quiz-view-btn",children:"Download"})]})]})]},O):["png","jpg","jpeg","gif","webp"].includes(I)?l.jsxs("div",{className:"gc-pdf-card",style:ie,children:[l.jsx("div",{className:"gc-pdf-preview",style:z,children:l.jsx("img",{src:y,alt:U,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:U}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O):l.jsxs("div",{className:"gc-pdf-card",style:ie,children:[l.jsx("div",{className:"gc-pdf-preview",style:z,children:l.jsx("div",{style:{fontSize:28},children:""})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:U}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O)},W=async j=>{if(f){D(!0);try{const O=await fetch(`http://localhost:5000/quizzes/${j.id}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),g=O.ok?await O.json():null;re(g);const y=await fetch(`http://localhost:5000/quizzes/${j.id}/attempts/list`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),U=y.ok?await y.json():[],de=(Array.isArray(U)?U:[]).filter(ie=>ie.studentEmail===f.email||ie.studentId===f.id||ie.studentId===Number(f.id));de.length===0?S(null):(de.sort((ie,z)=>{const M=ie.createdAt?new Date(ie.createdAt).getTime():ie.id||0;return(z.createdAt?new Date(z.createdAt).getTime():z.id||0)-M}),S(de[0]))}catch(O){console.error("Failed loading quiz/attempts for direct view",O),alert("Failed to load quiz or attempts")}finally{D(!1)}}};return l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Grades"})}),l.jsx("div",{className:"page-content card-container approvals-list",children:c?l.jsx("p",{children:"Loading..."}):r.length===0?l.jsx("p",{style:{textAlign:"center",padding:"1rem",color:"#777"},children:"No students found."}):r.map(j=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ut,{name:j.name,email:j.email||null,className:"avatar-small"}),l.jsx("div",{className:"student-name",children:A(j.name)})]}),l.jsx("div",{className:"row-right",children:l.jsx("button",{className:"approval-btn approval-approve",onClick:()=>H(j),children:"View"})})]},j.id))}),f&&l.jsx("div",{className:"modal-overlay",onClick:()=>{p(null),E([])},children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"modal-header-left",children:[l.jsx(ut,{name:f.name,email:f.email||null,className:"tqv-pfp"}),l.jsxs("div",{children:[l.jsx("div",{className:"student-fullname",children:A(f.name)}),l.jsx("div",{className:"student-email",children:f.email||""})]})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn tqv-close-text",title:"Close","aria-label":"Close",onClick:()=>{p(null),E([])},children:"Close"})})]}),l.jsx("h3",{className:"modal-title",children:"Quizzes & Scores"}),l.jsx("div",{className:"student-modal-divider"}),N?l.jsx("p",{children:"Loading..."}):x.length===0?l.jsx("p",{className:"muted",children:"No quizzes found or no scores available."}):l.jsx("div",{children:x.map(j=>l.jsxs("div",{className:"quiz-row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"quiz-title",children:j.title}),j.totalPoints!==null&&l.jsxs("div",{className:"quiz-meta",children:[j.totalPoints," Item(s)"]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{className:"quiz-score",style:{color:j.score!==null&&j.score!==void 0?"#111":"#666"},children:j.score!==null&&j.score!==void 0?`${j.score}${j.totalPoints?`/${j.totalPoints}`:""}`:l.jsx("span",{className:"score-missing",children:"missing"})}),l.jsx("button",{className:"tqv-view-btn",onClick:()=>W(j),children:"View"})]})]},j.id))})]})}),Z&&l.jsx("div",{className:"modal-overlay",onClick:()=>{S(null),re(null)},children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{children:[l.jsx("strong",{children:X?.name||X?.email||"Student Attempt"}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:X?.createdAt?new Date(X.createdAt).toLocaleString():""})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn",onClick:()=>{S(null),re(null)},children:"Close"})})]}),C?l.jsx("p",{children:"Loading attempt..."}):l.jsxs("div",{children:[X&&X.noAttempt&&l.jsxs("div",{style:{padding:10,background:"#fff7e6",border:"1px solid #ffe5b4",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"No attempt found."})," Showing the quiz questions and correct answers only."]}),X&&X.submittedFiles&&X.submittedFiles.length>0&&l.jsxs("div",{style:{padding:10,background:"#f7f9ff",border:"1px solid #e1e9ff",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"Submitted files (module):"}),l.jsx("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:8},children:X.submittedFiles.map((j,O)=>k(j,O))})]}),l.jsx("h3",{style:{marginTop:0},children:"Answers"}),l.jsx("div",{className:"student-modal-divider"}),(Z?.questions||[]).map((j,O)=>{let g=[];try{if(X&&X.answers)if(Array.isArray(X.answers))g=X.answers;else{const ie=typeof X.answers=="string"?JSON.parse(X.answers):X.answers;Array.isArray(ie)?g=ie:ie&&typeof ie=="object"&&(g=Object.entries(ie).map(([z,M])=>({questionId:Number(z),answer:M})))}}catch{g=[]}const y=g.find(ie=>ie.questionId===j.id||ie.qid===j.id||ie.questionId===Number(j.id));let U=[];try{U=j.options?Array.isArray(j.options)?j.options:JSON.parse(j.options):[]}catch{U=[]}const I=y?y.answer??y.selected??y.value??null:null;let de=[];try{if(y){if(Array.isArray(y.files)&&y.files.length>0)de=y.files;else if(Array.isArray(y.uploads)&&y.uploads.length>0)de=y.uploads;else if(typeof y.answer=="string")try{const ie=JSON.parse(y.answer);Array.isArray(ie)&&ie.length>0&&ie.every(z=>typeof z=="string")&&(de=ie)}catch{if(y.answer&&(y.answer.includes("/uploads")||y.answer.startsWith("/")))de=[y.answer];else if(y.answer&&y.answer.startsWith("__FILE__:"))try{const M=y.answer.split(":").slice(2).join(":");if(M&&X&&Array.isArray(X.submittedFiles)){const le=X.submittedFiles.filter(w=>String(w).endsWith(M)||String(w).includes(M));le.length&&(de=le)}}catch{}}}}catch{de=[]}return l.jsxs("div",{style:{padding:"10px 8px",borderBottom:"1px solid #f1f1f1"},children:[l.jsxs("div",{style:{fontWeight:600},children:["Question ",O+1]}),l.jsx("div",{style:{marginTop:6},children:j.question}),U.length>0?l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Options:"}),l.jsx("div",{style:{marginTop:8},children:U.map((ie,z)=>{const M=j.answer!==void 0&&j.answer!==null&&String(ie)===String(j.answer),le=I!==null&&String(ie)===String(I),w={padding:"8px 10px",borderRadius:6,marginBottom:6,border:"1px solid #eef0f3",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"};return le?M?(w.background="#e6ffed",w.border="1px solid #7be29a"):(w.background="#ffecec",w.border="1px solid #ff9b9b"):M&&(w.background="#f3fff6",w.border="1px solid #9ee3b5"),l.jsxs("div",{style:w,children:[l.jsx("div",{style:{flex:1},children:ie}),l.jsx("div",{style:{marginLeft:12,fontSize:12,color:"#444",minWidth:80,textAlign:"right"},children:le?l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:M?"#0f9d58":"#e55a4e",color:"#fff",fontSize:12},children:M?"Selected - correct":"Selected - wrong"}):null})]},z)})})]}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Student answer:"}),l.jsx("div",{style:{marginTop:6,color:I?"#111":"#666"},children:(()=>{const ie=z=>{if(!z||typeof z!="string")return!1;const M=z.toLowerCase();return!!(M.startsWith("/")||M.includes("/uploads/")||/\.(pdf|png|jpg|jpeg|gif|webp)$/i.test(M))};if(de&&de.length>0)return l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:de.map((z,M)=>k(z,M))});if(ie(I))return l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:k(I,0)});if(I){if(j.type==="Identification"){const z=(j.answer||"").toString().trim().toLowerCase()===String(I).toString().trim().toLowerCase();return l.jsx("div",{style:{marginTop:8},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:10,borderRadius:8,background:z?"#e6ffed":"#ffecec",border:z?"1px solid #7be29a":"1px solid #ff9b9b"},children:[l.jsx("div",{style:{flex:1},children:String(I)}),l.jsx("div",{style:{marginLeft:12},children:z?null:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:"#e55a4e",color:"#fff",fontSize:12},children:"wrong"})})]})})}return String(I)}return l.jsx("em",{children:"No answer"})})()}),j.answer&&l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Correct answer:"}),l.jsx("div",{style:{marginTop:6,color:"#666"},children:j.answer})]})]})]},j.id)})]})]})})]})}function j0(){const[r,o]=h.useState([]),[c,u]=h.useState(null),[f,p]=h.useState(null),[x,E]=h.useState({}),N=jt();h.useEffect(()=>{(async()=>{try{const S=await fetch("http://localhost:5000/quizzes/teacher",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!S.ok){console.error("Failed to load quizzes");return}const A=await S.json();o(Array.isArray(A)?A:[])}catch(S){console.error("Error fetching quizzes:",S)}})()},[]);const v=X=>{u(S=>S===X?null:X),p(null)},C=X=>{if(!X)return"No Due Date";const S=String(X).split("T"),A=S[0]||"",H=S[1]?S[1].split("Z")[0].split("+")[0]:"",B=H?H.slice(0,5):"";if(A==="1970-01-01")return B?`Due: ${new Date(`1970-01-01T${B}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`:"Due: --:--";if(!B){const[W,j,O]=A.split("-").map(y=>Number(y));if(!W||!j||!O)return`Due: ${A}`;const g=new Date(W,j-1,O,23,59,0,0);return`Due: ${g.toLocaleDateString()} ${g.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`}const k=new Date(X);return isNaN(k.getTime())?"No Due Date":`Due: ${k.toLocaleDateString()} ${k.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`},D=X=>{N("/teacher/quiz-builder",{state:{quizId:X.id,moduleId:X.moduleId,title:X.title}})},Z=async X=>{if(await window.customConfirm("Delete this quiz? This action cannot be undone."))try{const S=await fetch(`http://localhost:5000/quizzes/${X}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!S.ok){const A=await S.json().catch(()=>null);console.error("Delete quiz failed",A),alert("Failed to delete quiz");return}o(A=>A.map(H=>({...H,quizzes:(H.quizzes||[]).filter(B=>B.id!==X)}))),E(A=>{const H={...A};return delete H[X],H}),f===X&&p(null),alert("Quiz deleted")}catch(S){console.error("Error deleting quiz:",S),alert("Error deleting quiz")}},re=async(X,S)=>{if(await window.customConfirm("Delete this question?"))try{if(!(await fetch(`http://localhost:5000/quizzes/question/${X}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok){console.error("Failed to delete question"),alert("Failed to delete question");return}E(H=>{const B=H[S];return B?{...H,[S]:{...B,questions:B.questions.filter(k=>k.id!==X)}}:H}),alert("Question deleted")}catch(A){console.error("Error deleting question:",A),alert("Error deleting question")}};return l.jsxs("div",{className:"page-wrap",children:[l.jsxs("div",{className:"page-header-box",children:[l.jsx("h1",{className:"page-title",children:"Quizzes"}),l.jsx("p",{className:"page-subtitle",children:"Module-Specific Quizzes"})]}),l.jsxs("div",{className:"quiz-module-list",children:[r.length===0&&l.jsx("p",{className:"empty-text",children:"No quizzes created yet."}),r.map((X,S)=>l.jsxs("div",{className:"module-block",children:[l.jsxs("div",{className:"module-block-header",onClick:()=>v(X.id),children:[l.jsx("h2",{className:"module-title",children:X.title}),c===X.id?l.jsx(bh,{size:20}):l.jsx(jh,{size:20})]}),c===X.id&&l.jsxs("div",{className:"module-block-content",children:[X.description&&l.jsx("p",{className:"module-desc",children:X.description}),X.document&&l.jsx("a",{href:`http://localhost:5000/${X.document}`,target:"_blank",rel:"noopener noreferrer",className:"module-doc-link",children:" View Attached Document"}),l.jsx("h3",{className:"module-subtitle",children:"Quizzes"}),(X.quizzes??[]).length===0&&l.jsx("p",{children:"No quizzes yet for this module"}),(X.quizzes??[]).map(A=>{const H=f===A.id,B=x[A.id];return l.jsxs("div",{className:"quiz-item",children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{className:"quiz-title",children:A.title}),l.jsxs("p",{className:"quiz-meta",children:[B&&Array.isArray(B.questions)?B.questions.reduce((k,W)=>k+(Number(W.points)||1),0):A.totalPoints??0," pts "," ",C(A.dueDate)]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>N(`/teacher/quiz/${A.id}/view`),children:"View"}),l.jsx("button",{type:"button",className:"quiz-edit-btn",onClick:()=>D({id:A.id,title:A.title,moduleId:X.id}),title:"Edit quiz",children:l.jsx(Sh,{size:16})}),l.jsx("button",{type:"button",className:"quiz-delete-btn",onClick:()=>Z(A.id),title:"Delete quiz",children:l.jsx(qs,{size:16})})]}),H&&B&&l.jsxs("div",{className:"quiz-questions",children:[B.questions.length===0&&l.jsx("p",{children:"No questions yet."}),B.questions.map(k=>{let W=[],j=[];try{W=k.options?JSON.parse(k.options):[]}catch{}try{j=k.files?JSON.parse(k.files):[]}catch{}return l.jsxs("div",{className:"quiz-question-item",children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("p",{style:{margin:0,fontWeight:600},children:k.question||"(no text)"}),l.jsx("span",{style:{fontSize:12,color:"#666"},children:`${Number(k.points)||1} pts`})]}),l.jsxs("small",{children:["Type: ",k.type]}),W.length>0&&l.jsx("div",{children:l.jsxs("small",{children:["Options: ",W.join(" | ")]})}),l.jsx("div",{children:l.jsxs("small",{children:["Answer: ",k.answer||"(none)"]})}),j.length>0&&l.jsxs("div",{children:[l.jsx("small",{children:"Files:"}),l.jsx("ul",{children:j.map((O,g)=>l.jsx("li",{children:l.jsx("a",{href:`http://localhost:5000${O}`,target:"_blank",rel:"noreferrer",children:O})},g))})]})]}),l.jsx("div",{style:{display:"flex",gap:8},children:l.jsx("button",{className:"delete-option-btn",onClick:()=>re(k.id,A.id),title:"Delete question",children:l.jsx(qs,{size:14})})})]},k.id)})]}),H&&!B&&l.jsx("div",{className:"loader-small",children:"Loading..."})]},A.id)})]})]},X.id??`mod-${S}`))]})]})}function b0(){const[r,o]=h.useState([]),c=x=>x?String(x).split(" ").map(E=>E.charAt(0).toUpperCase()+E.slice(1).toLowerCase()).join(" "):"",u=async()=>{const x=await la.get(`${Aa}/auth/pending`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});o(x.data)},f=async x=>{try{await la.post(`${Aa}/auth/approve/${x}`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),o(E=>E.filter(N=>N.id!==x));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}catch(E){console.error("Approve failed",E),alert("Failed to approve registrant"),u()}},p=async x=>{if(await window.customConfirm("Reject this registrant?"))try{await la.post(`${Aa}/auth/deny/${x}`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),o(E=>E.filter(N=>N.id!==x));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}catch(E){console.error("Deny failed",E),alert("Failed to reject registrant"),u()}};return h.useEffect(()=>{u()},[]),l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Pending Registrants"})}),l.jsx("div",{className:"card-container",children:r.length===0?l.jsx("p",{style:{textAlign:"center",padding:"1rem",color:"#777"},children:"No Pending Registrants."}):r.map(x=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ut,{name:x.name,email:x.email||null,className:"avatar-small"}),l.jsxs("div",{children:[l.jsx("div",{className:"student-name",children:c(x.name)}),l.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:x.email||""})]})]}),l.jsxs("div",{className:"row-right",children:[l.jsx("button",{className:"approval-btn approval-approve",onClick:()=>f(x.id),children:"Approve"}),l.jsx("button",{className:"approval-btn approval-reject",onClick:()=>p(x.id),style:{marginLeft:"10px"},children:"Reject"})]})]},x.id))})]})}function S0(){const r=jt(),{state:o}=fn(),c=o?.quizId;o?.moduleId;const[u,f]=h.useState(""),[p,x]=h.useState(""),[E,N]=h.useState(""),[v,C]=h.useState(""),[D,Z]=h.useState([{type:"Multiple Choice",question:"",options:["",""],answer:"",points:1,files:[]}]);h.useEffect(()=>{if(!o?.questions)return;if(f(o.description||""),x(o.timeLimit?String(o.timeLimit):""),o.dueDate){const O=o.dueDate.split("T"),g=O[0]||"",y=O[1]?O[1].split("Z")[0].split("+")[0]:"",U=y?y.slice(0,5):"";g==="1970-01-01"?(N(""),C(U)):(N(g),C(U))}else N(""),C("");const j=o.questions.map(O=>({type:O.type,question:O.question,options:O.options?JSON.parse(O.options):[],answer:O.answer,points:O.points!==void 0?O.points:1,files:O.files?JSON.parse(O.files):[]}));Z(j)},[o]);const re=()=>{Z([...D,{type:"Multiple Choice",question:"",options:["",""],answer:"",points:1,files:[]}])},X=j=>{D.length!==1&&Z(D.filter((O,g)=>g!==j))},S=(j,O,g)=>{const y=[...D];y[j][O]=g,O==="type"&&(g==="Multiple Choice"?(y[j].options=["",""],y[j].answer=""):g==="Identification"?(y[j].options=[],y[j].answer=""):g==="Activity"&&(y[j].options=[],y[j].answer="",y[j].files=[])),Z(y)},A=j=>{const O=[...D];O[j].options.push(""),Z(O)},H=(j,O)=>{const g=[...D];g[j].options.splice(O,1),Z(g)},B=(j,O,g)=>{const y=[...D];y[j].options[O]=g,Z(y)},k=(j,O)=>{const g=[...D];g[j].files=O,Z(g)},W=async()=>{try{const j=new FormData;j.append("quizId",c),j.append("description",u),j.append("timeLimit",p);let O="";E?O=v?`${E}T${v}`:E:v?O=`1970-01-01T${v}`:O="",j.append("dueDate",O);const g=D.map(U=>({type:U.type,question:U.question,options:U.options,answer:U.answer,points:U.points??1}));j.append("questions",JSON.stringify(g)),D.forEach((U,I)=>{U.type==="Activity"&&Array.isArray(U.files)&&U.files.forEach(de=>{de instanceof File&&j.append(`files_q${I}`,de)})});const y=localStorage.getItem("token");await la.post("http://localhost:5000/quizzes/save-questions",j,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"multipart/form-data"}}),alert("Quiz saved!");try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}r("/teacher/quizzes")}catch(j){console.error("Error saving quiz:",j),alert("Error saving quiz")}};return l.jsxs("div",{className:"quiz-builder-container",children:[l.jsx("h1",{children:"Quiz Builder"}),l.jsxs("div",{className:"quiz-card",children:[l.jsx("label",{children:"Description"}),l.jsx("textarea",{value:u,onChange:j=>f(j.target.value)}),l.jsx("label",{children:"Time Limit (minutes)"}),l.jsx("input",{type:"number",value:p,onChange:j=>x(j.target.value)}),l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{children:"Due Date"}),l.jsx("input",{type:"date",value:E,onChange:j=>N(j.target.value)})]}),l.jsxs("div",{style:{width:170},children:[l.jsx("label",{children:"Time"}),l.jsx("input",{type:"time",value:v,onChange:j=>C(j.target.value)})]})]})]}),l.jsx("h2",{children:"Questions"}),D.map((j,O)=>l.jsxs("div",{className:"quiz-card",children:[l.jsx("label",{children:"Question Text"}),l.jsx("input",{type:"text",value:j.question,onChange:g=>S(O,"question",g.target.value),placeholder:"Enter question"}),j.type!=="Activity"&&l.jsxs("div",{className:"question-points",style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:[l.jsx("label",{style:{fontSize:12,color:"#666",marginRight:8},children:"Points"}),l.jsx("input",{type:"number",min:0,value:j.points??1,onChange:g=>S(O,"points",Number(g.target.value)),style:{width:72,padding:"6px 8px",borderRadius:6,border:"1px solid #ddd"}})]}),l.jsx("label",{children:"Question Type"}),l.jsxs("select",{value:j.type,onChange:g=>S(O,"type",g.target.value),children:[l.jsx("option",{value:"Multiple Choice",children:"Multiple Choice"}),l.jsx("option",{value:"Identification",children:"Identification"}),l.jsx("option",{value:"Activity",children:"Activity"})]}),j.type==="Multiple Choice"&&l.jsxs(l.Fragment,{children:[l.jsx("label",{children:"Options"}),j.options.map((g,y)=>l.jsxs("div",{className:"option-row",children:[l.jsx("input",{type:"text",value:g,placeholder:`Option ${y+1}`,onChange:U=>B(O,y,U.target.value)}),l.jsx("button",{className:"delete-option-btn",onClick:()=>H(O,y),children:""})]},y)),l.jsx("button",{className:"add-option-btn",onClick:()=>A(O),children:"+ Add Option"}),l.jsx("label",{children:"Correct Answer"}),l.jsxs("select",{value:j.answer,onChange:g=>S(O,"answer",g.target.value),children:[l.jsx("option",{value:"",children:"-- Select Answer --"}),j.options.map((g,y)=>l.jsx("option",{value:g,children:g},y))]})]}),j.type==="Identification"&&l.jsxs(l.Fragment,{children:[l.jsx("label",{children:"Correct Answer"}),l.jsx("input",{type:"text",value:j.answer,placeholder:"Correct answer",onChange:g=>S(O,"answer",g.target.value)})]}),j.type==="Activity"&&l.jsxs(l.Fragment,{children:[l.jsx("label",{children:"Upload File(s)"}),l.jsx("input",{type:"file",multiple:!0,onChange:g=>k(O,Array.from(g.target.files||[]))}),Array.isArray(j.files)&&j.files.map((g,y)=>typeof g=="string"&&l.jsxs("p",{style:{fontSize:"14px"},children:[" Existing File:"," ",l.jsx("a",{href:`http://localhost:5000${g}`,target:"_blank",rel:"noreferrer",children:g})]},y))]}),l.jsx("div",{className:"question-tools",children:l.jsx("button",{onClick:()=>X(O),children:" Delete"})})]},O)),l.jsxs("div",{className:"quiz-actions",children:[l.jsx("button",{className:"add-option-btn",onClick:re,children:"+ Add Question"}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsx("button",{className:"save-quiz-btn",onClick:W,children:"Save Quiz"}),l.jsx("button",{className:"cancel-quiz-btn",onClick:()=>r("/teacher/dashboard"),children:"Cancel"})]})]})]})}function Jm(r){const o=new Date(r),u=Math.floor((new Date().getTime()-o.getTime())/1e3),f={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const p in f){const x=Math.floor(u/f[p]);if(x>=1)return`${x} ${p}${x>1?"s":""} ago`}return"Just now"}function Km(){const{id:r}=Qs(),{user:o}=wt(),[c,u]=h.useState(null),[f,p]=h.useState([]),[x,E]=h.useState(""),[N,v]=h.useState({}),[C,D]=h.useState(null),[Z,re]=h.useState(null),[X,S]=h.useState(""),A=localStorage.getItem("email")??"";h.useEffect(()=>{H(),B()},[r]);const H=async()=>{try{const y=await(await fetch(`http://localhost:5000/modules/${r}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();try{const U=await fetch("/api/auth/teachers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(U.ok){const I=await U.json(),de=Array.isArray(I)&&y.teacherEmail?I.find(z=>z.email===y.teacherEmail):null,ie={};if(Array.isArray(I))for(const z of I)z.email&&(ie[z.email]=z);v(ie),v(ie),u({...y,teacherPicture:de?de.picture:y.picture||null,teacherName:de?de.username||de.name:y.teacherName||null,quizzes:Array.isArray(y.quizzes)?y.quizzes:[]})}else u({...y,teacherPicture:y.picture||null,teacherName:y.teacherName||null,quizzes:Array.isArray(y.quizzes)?y.quizzes:[]})}catch{u({...y,teacherPicture:y.picture||null,teacherName:y.teacherName||null,quizzes:Array.isArray(y.quizzes)?y.quizzes:[]})}}catch(g){console.error(g)}},B=async()=>{try{const y=await(await fetch(`http://localhost:5000/module-comments/${r}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();p(Array.isArray(y)?y:[])}catch(g){console.error("Error loading comments:",g)}},k=async()=>{if(x.trim())try{const g=await fetch(`http://localhost:5000/module-comments/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:x})});if(!g.ok){const y=await g.json().catch(()=>null);console.error("Failed to post comment:",y),alert("Failed to post comment");return}E(""),B()}catch(g){console.error("Error posting comment:",g),alert("Error posting comment")}},W=async g=>{if(await window.customConfirm("Delete this comment?"))try{const y=await fetch(`http://localhost:5000/module-comments/delete/${g}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!y.ok){const U=await y.json().catch(()=>null);console.error("Failed to delete comment:",U),alert("Failed to delete comment");return}D(null),B()}catch(y){console.error("Error deleting comment:",y),alert("Error deleting comment")}},j=g=>{re(g.id),S(g.text),D(null)},O=async g=>{if(X.trim())try{const y=await fetch(`http://localhost:5000/module-comments/${g}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:X})});if(!y.ok){const U=await y.json().catch(()=>null);console.error("Failed to edit comment:",U),alert("Failed to edit comment");return}re(null),S(""),B()}catch(y){console.error("Error editing comment:",y),alert("Error editing comment")}};return c?l.jsxs("div",{className:"gc-module-page",children:[l.jsx("div",{className:"gc-header",children:l.jsxs("div",{className:"gc-header-left",children:[l.jsx(ut,{src:c.teacherPicture||void 0,name:c.teacherName||c.teacherEmail.split("@")[0],email:c.teacherEmail,className:"gc-profile-circle"}),l.jsxs("div",{children:[l.jsx("h1",{className:"gc-title",children:c.teacherName||c.teacherEmail.split("@")[0]}),l.jsx("p",{className:"gc-subtitle",children:c.teacherEmail}),c.createdAt&&l.jsxs("p",{className:"gc-date-small",children:["Posted ",Jm(c.createdAt)]})]})]})}),l.jsxs("div",{className:"gc-material-card",children:[l.jsx("h1",{className:"gc-section-title",children:c.title}),l.jsx("hr",{style:{margin:"10px 0",opacity:.3}}),c.description&&l.jsx("p",{style:{marginBottom:"15px"},children:c.description}),l.jsx("hr",{style:{margin:"10px 0",opacity:.3}}),!c.documentPath&&l.jsx("p",{children:"No material uploaded."}),c.documentPath&&(()=>{const g=c.documentPath.split("\\").pop()?.split("/").pop();return g?.split(".").pop()?.toLowerCase()==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:`http://localhost:5000/${c.documentPath}`,className:"gc-pdf-preview"}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:g}),l.jsx("a",{href:`http://localhost:5000/${c.documentPath}`,target:"_blank",className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:g}),l.jsx("a",{href:`http://localhost:5000/${c.documentPath}`,target:"_blank",className:"gc-open-btn",children:"Open"})]})]})})(),(c.videoPath||c.mediaPath||c.videoUrl||c.mediaUrl)&&(()=>{const g=c.videoPath||c.mediaPath||null,y=c.videoUrl||c.mediaUrl||null;return l.jsxs("div",{className:"gc-media-card",children:[g&&(()=>{const U=String(g).split("\\").pop()?.split("/").pop(),I=U?.split(".").pop()?.toLowerCase();return I==="mp4"||I==="webm"||I==="mkv"?l.jsx("video",{src:`http://localhost:5000/${g}`,controls:!0,className:"gc-pdf-preview"}):I==="mp3"||I==="wav"||I==="ogg"?l.jsx("audio",{src:`http://localhost:5000/${g}`,controls:!0,className:"gc-audio-preview"}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:U}),l.jsx("a",{href:`http://localhost:5000/${g}`,target:"_blank",className:"gc-open-btn",children:"Open"})]})]})})(),y&&(()=>{const U=String(y).trim(),I=U.match(/(?:youtube\.com.*(?:v=|\/embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{6,})/);if(I){const ie=`https://www.youtube.com/embed/${I[1]}`;return l.jsx("iframe",{src:ie,className:"gc-pdf-preview",title:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}const de=U.match(/vimeo\.com\/(?:video\/)?(\d+)/);if(de){const ie=`https://player.vimeo.com/video/${de[1]}`;return l.jsx("iframe",{src:ie,className:"gc-pdf-preview",title:"Vimeo video",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})}return U.match(/\.(mp3|wav|ogg)(?:\?.*)?$/i)?l.jsx("audio",{src:U,controls:!0,className:"gc-audio-preview"}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:U,target:"_blank",rel:"noreferrer",className:"module-doc-link",children:U})]})})()]})})()]}),l.jsxs("div",{className:"gc-comments-section",children:[l.jsx("h3",{className:"gc-section-title",children:"Class comments"}),l.jsx("div",{className:"gc-comment-list",children:f.map(g=>l.jsxs("div",{className:"gc-comment",children:[l.jsx(ut,{src:g.authorEmail===A?o&&o.picture:g.authorPicture||N[g.authorEmail]&&N[g.authorEmail].picture,name:g.username||g.authorEmail&&N[g.authorEmail]&&(N[g.authorEmail].username||N[g.authorEmail].name)||g.authorName,email:g.authorEmail,className:"gc-comment-avatar"}),l.jsxs("div",{className:"gc-comment-body",children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"baseline"},children:[l.jsx("p",{className:"gc-comment-author",children:g.username||g.authorEmail&&N[g.authorEmail]&&(N[g.authorEmail].username||N[g.authorEmail].name)||g.authorName}),l.jsx("p",{className:"gc-comment-time",children:Jm(g.createdAt)}),g.updatedAt&&new Date(g.updatedAt)>new Date(g.createdAt)&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#999"},children:"(edited)"})]}),Z===g.id?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"gc-comment-input",value:X,onChange:y=>S(y.target.value),style:{marginTop:8,marginBottom:8}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"gc-send-btn",onClick:()=>O(g.id),style:{background:"#16a34a",fontSize:"0.9rem"},children:"Save"}),l.jsx("button",{className:"gc-send-btn",onClick:()=>re(null),style:{background:"#6b7280",fontSize:"0.9rem"},children:"Cancel"})]})]}):l.jsx("p",{className:"gc-comment-text",children:g.text})]}),(A===g.authorEmail||o?.role==="teacher"||o?.role==="superteacher")&&l.jsxs("div",{style:{marginLeft:8,position:"relative"},children:[l.jsx("button",{className:"module-more-btn",onClick:()=>D(y=>y===g.id?null:g.id),children:""}),C===g.id&&l.jsxs("div",{className:"module-dropdown",style:{left:"100%",top:28},children:[(A===g.authorEmail||o?.role==="teacher"||o?.role==="superteacher")&&l.jsx("div",{className:"module-dropdown-item",onClick:()=>j(g),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>W(g.id),children:" Delete"})]})]})]},g.id))}),l.jsxs("div",{className:"gc-comment-input-row",children:[l.jsx(ut,{src:o?.picture,name:o?.name||A.split("@")[0],email:o?.email||A,className:"gc-comment-avatar small"}),l.jsx("input",{className:"gc-comment-input",placeholder:"Add class comment...",value:x,onChange:g=>E(g.target.value),onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),k())}}),l.jsx("button",{className:"gc-send-btn",onClick:k,children:""})]})]})]}):l.jsx("p",{children:"Loading..."})}function N0(){const{id:r}=Qs(),o=jt(),[c,u]=h.useState(null),[f,p]=h.useState(!0),[x,E]=h.useState("test"),[N,v]=h.useState([]),[C,D]=h.useState(null),[Z,re]=h.useState(!1),[X,S]=h.useState(!0),[A,H]=h.useState(!0),[B,k]=h.useState(!1),W=h.useRef(null);h.useEffect(()=>{(async()=>{try{const le=await(await fetch(`http://localhost:5000/quizzes/${r}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();u(le)}catch(M){console.error("Failed to load quiz",M)}finally{p(!1)}})(),j()},[r]),h.useEffect(()=>{const z=M=>{B&&W.current&&!W.current.contains(M.target)&&k(!1)};return document.addEventListener("click",z),()=>document.removeEventListener("click",z)},[B]);const j=async()=>{try{const M=await(await fetch(`http://localhost:5000/quizzes/${r}/scores`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();v(Array.isArray(M)?M:[])}catch(z){console.error("Failed to load scores",z)}},{user:O}=wt()||{},g=z=>{try{const M=`recentViewedItems_${O&&O.email?O.email:"guest"}`,le=localStorage.getItem(M),w=le?JSON.parse(le):[],$=`Quiz-${z}`;if(!w.includes($)){w.push($),localStorage.setItem(M,JSON.stringify(w));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}}catch{}};h.useEffect(()=>{c&&c.id&&g(c.id)},[c]);const y=async z=>{try{const M=z.startsWith("http")?z:`http://localhost:5000${z}`,le=await fetch(M,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!le.ok){alert("Failed to download file");return}const w=await le.blob(),$=URL.createObjectURL(w),P=document.createElement("a");P.href=$;const me=z.split("/");P.download=me[me.length-1]||"download",document.body.appendChild(P),P.click(),P.remove(),URL.revokeObjectURL($)}catch(M){console.error("Download error",M),alert("Download failed")}},U=z=>{if(!z||typeof z!="string")return[];let M=z.trim();if((M.startsWith('"')&&M.endsWith('"')||M.startsWith("'")&&M.endsWith("'"))&&(M=M.slice(1,-1)),M=M.replace(/\\\\/g,"\\").replace(/\\/g,"/"),M.startsWith("["))try{const $=JSON.parse(M);if(Array.isArray($))return $.map(String)}catch{}const le=/(https?:\/\/[^\s"']+|\/uploads\/[^\s"']+)/g,w=M.match(le);return w&&w.length?w.map($=>$.trim()):M.startsWith("/")||M.includes("/uploads/")||/\.(pdf|png|jpg|jpeg|gif|webp|docx?|pptx?)$/i.test(M)?[M]:[]},I=(z,M)=>{if(!z)return null;const le=String(z),w=le.startsWith("http")?le:`http://localhost:5000${le}`,$=le.split("/").pop(),P=($||"").split(".").pop()?.toLowerCase();return P==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:w,className:"gc-pdf-preview",title:$}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:$}),l.jsxs("div",{children:[l.jsx("a",{href:w,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>y(le),children:"Download"})]})]})]},M):["png","jpg","jpeg","gif","webp"].includes(P)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:w,alt:$,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:$}),l.jsxs("div",{children:[l.jsx("a",{href:w,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>y(le),children:"Download"})]})]})]},M):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:$}),l.jsx("a",{href:w,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},M)},de=async()=>{if(!await window.customConfirm("Delete this entire quiz?"))return;(await fetch(`http://localhost:5000/quizzes/${r}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok&&(alert("Quiz deleted"),o("/teacher/quizzes"))},ie=async z=>{if(!await window.customConfirm("Delete this question?"))return;(await fetch(`http://localhost:5000/quizzes/question/${z}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok&&u({...c,questions:c.questions.filter(le=>le.id!==z)})};return f?l.jsx("p",{className:"loader",children:"Loading..."}):c?l.jsxs("div",{className:"tqv-container",children:[l.jsxs("div",{className:"tqv-card",style:{position:"relative"},children:[l.jsx("button",{onClick:()=>o("/teacher/quizzes"),"aria-label":"Close and go back",title:"Back to quizzes",className:"tqv-close-btn",children:"Close"}),l.jsxs("div",{className:"tqv-tabs",children:[l.jsx("div",{className:`tqv-tab ${x==="test"?"active":""}`,onClick:()=>E("test"),children:"Test"}),l.jsx("div",{className:`tqv-tab ${x==="scores"?"active":""}`,onClick:()=>E("scores"),children:"Scores"})]}),x==="test"&&l.jsxs("div",{className:"tqv-header-content",children:[l.jsx("h1",{className:"tqv-title",children:c.title}),l.jsxs("p",{className:"tqv-subinfo",children:[c.totalPoints||0," points",c.dueDate&&l.jsxs(l.Fragment,{children:["  Due ",new Date(c.dueDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"tqv-btn-row",children:[l.jsxs("button",{className:"tqv-edit-btn",onClick:()=>o("/teacher/quiz-builder",{state:{quizId:c.id,moduleId:c.moduleId,title:c.title,description:c.description,timeLimit:c.timeLimit,dueDate:c.dueDate,questions:c.questions}}),children:[l.jsx(Sh,{size:16})," Edit Quiz"]}),l.jsxs("button",{className:"tqv-delete-btn",onClick:de,children:[l.jsx(qs,{size:16})," Delete Quiz"]})]})]})]}),x==="test"&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"tqv-section-title",children:"Questions"}),c.questions.map((z,M)=>{let le=[],w=[];try{le=z.options?JSON.parse(z.options):[]}catch{}try{w=z.files?JSON.parse(z.files):[]}catch{}return l.jsxs("div",{className:"tqv-card",children:[l.jsxs("div",{className:"tqv-question-header",children:[l.jsxs("h3",{className:"tqv-question-number",children:["Question ",M+1]}),l.jsx("button",{className:"tqv-trash",onClick:()=>ie(z.id),children:l.jsx(qs,{size:16})})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:6},children:[l.jsx("p",{className:"tqv-question-text",style:{margin:0,flex:1},children:z.question}),l.jsx("span",{style:{fontSize:12,color:"#666",marginLeft:12},children:`${Number(z.points)||1} pts`})]}),l.jsxs("p",{className:"tqv-type",children:["Type: ",z.type]}),z.type==="Multiple Choice"&&l.jsx("div",{className:"tqv-option-list",children:le.map(($,P)=>l.jsx("div",{className:`tqv-option-item ${$===z.answer?"correct":""}`,children:$},P))}),z.type==="Identification"&&l.jsxs("p",{className:"tqv-identification-answer",children:[l.jsx("strong",{children:"Answer:"})," ",z.answer]}),w.length>0&&l.jsxs("div",{className:"tqv-files",children:[l.jsx("strong",{children:"Files:"}),w.map(($,P)=>{const me=$.startsWith("http")?$:`http://localhost:5000${$}`,ae=String($).split("/").pop(),b=(ae||"").split(".").pop()?.toLowerCase();return b==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:me,className:"gc-pdf-preview"}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:ae}),l.jsx("a",{href:me,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},P):["png","jpg","jpeg","gif","webp"].includes(b)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:me,alt:ae,style:{maxWidth:"100%",maxHeight:"160px",objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:ae}),l.jsx("a",{href:me,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},P):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:ae}),l.jsx("a",{href:me,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},P)})]})]},z.id)})]}),x==="scores"&&l.jsxs("div",{children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("h2",{className:"tqv-section-title",children:"Student Scores"}),l.jsxs("div",{ref:W,className:"tqv-filter-wrap",children:[l.jsx("button",{className:"tqv-filter-btn","aria-expanded":B,onClick:z=>{z.stopPropagation(),k(M=>!M)},children:"Filters "}),B&&l.jsxs("div",{className:"tqv-filter-dropdown",onClick:z=>z.stopPropagation(),children:[l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:X,onChange:z=>S(z.target.checked),style:{marginRight:8}}),"Taken"]}),l.jsxs("label",{style:{display:"block",marginTop:6},children:[l.jsx("input",{type:"checkbox",checked:A,onChange:z=>H(z.target.checked),style:{marginRight:8}}),"Missing"]})]})]})]}),N.length===0&&l.jsx("p",{children:"No students are enrolled in this module yet."}),(()=>{const M=!X&&!A?N:N.filter(le=>{const w=le.score!==null&&le.score!==void 0;return!!(w&&X||!w&&A)});return N.length>0&&M.length===0?l.jsx("p",{children:"No students match the selected filters."}):l.jsx("div",{className:"tqv-score-list",children:M.map(le=>l.jsxs("div",{className:"tqv-score-item",children:[l.jsxs("div",{className:"tqv-score-left",children:[l.jsx(ut,{src:le.profilePic||null,name:le.name,className:"tqv-pfp"}),l.jsx("span",{className:"tqv-score-name",children:le.name})]}),l.jsxs("div",{className:"tqv-score-right",children:[l.jsx("b",{style:{marginRight:12},children:le.score!==null&&le.score!==void 0?`${le.score}/${le.total??c.totalPoints??(c.questions?c.questions.reduce((w,$)=>w+(Number($.points)||1),0):0)}`:"missing"}),l.jsx("button",{className:"tqv-view-btn",onClick:async()=>{re(!0);try{const w=await fetch(`http://localhost:5000/quizzes/${r}/attempts/list`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!w.ok){alert("Failed to load attempts");return}const $=await w.json(),me=(Array.isArray($)?$:[]).filter(ae=>ae.studentEmail===le.email||ae.studentId===le.studentId||ae.studentId===Number(le.studentId));if(me.length===0){console.log("No quiz attempt found for student, checking module submissions",le);try{const ae=await fetch(`http://localhost:5000/quizzes/${r}/submissions`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(ae.ok){const b=await ae.json(),_=Array.isArray(b)?b.find(V=>V.studentEmail===le.email):null;if(_){D({name:le.name||le.email||"Student",email:le.email,noAttempt:!0,createdAt:_.createdAt,answers:[],submittedFiles:_.filePath?[_.filePath]:[]});return}}}catch(ae){console.error("Error loading submissions",ae)}D({name:le.name||le.email||"Student",email:le.email,noAttempt:!0,createdAt:null,answers:[]});return}me.sort((ae,b)=>{const _=ae.createdAt?new Date(ae.createdAt).getTime():ae.id||0;return(b.createdAt?new Date(b.createdAt).getTime():b.id||0)-_}),console.log("Selected attempt for student",le,me[0]),D(me[0]);try{const ae=await fetch(`http://localhost:5000/quizzes/${r}/submissions`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(ae.ok){const b=await ae.json(),_=Array.isArray(b)?b.find(V=>V.studentEmail===me[0].studentEmail||V.studentEmail===le.email):null;_&&_.filePath&&D(V=>({...V||{},submittedFiles:[_.filePath]}))}}catch(ae){console.error("Error loading submissions after selecting attempt",ae)}}catch(w){console.error(w),alert("Error loading attempt")}finally{re(!1)}},children:"View"})]})]},le.studentId))})})(),C&&l.jsx("div",{className:"modal-overlay",onClick:()=>D(null),children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:z=>z.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{children:[l.jsx("strong",{children:C.name||C.email||"Student Attempt"}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:C.createdAt?new Date(C.createdAt).toLocaleString():""})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn",onClick:()=>D(null),children:"Close"})})]}),Z?l.jsx("p",{children:"Loading attempt..."}):l.jsxs("div",{children:[C.noAttempt&&l.jsxs("div",{style:{padding:10,background:"#fff7e6",border:"1px solid #ffe5b4",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"No attempt found."})," Showing the quiz questions and correct answers only."]}),C.submittedFiles&&C.submittedFiles.length>0&&l.jsxs("div",{style:{padding:10,background:"#f7f9ff",border:"1px solid #e1e9ff",borderRadius:6,marginBottom:12},children:[l.jsx("strong",{children:"Submitted files (module):"}),l.jsx("ul",{style:{marginTop:6,listStyle:"none",paddingLeft:0},children:C.submittedFiles.map((z,M)=>l.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,padding:"6px 0"},children:[l.jsx("a",{style:{color:"#0b5fff",textDecoration:"underline"},href:z.startsWith("http")?z:`http://localhost:5000${z}`,target:"_blank",rel:"noreferrer",children:z.split("/").pop()}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>{const le=z.startsWith("http")?z:`http://localhost:5000${z}`;window.open(le,"_blank")},style:{padding:"6px 10px",borderRadius:6,border:"1px solid #dfe8ff",background:"#fff",cursor:"pointer"},children:"View"}),l.jsx("button",{onClick:()=>y(z),title:"Download",style:{width:34,height:34,borderRadius:999,background:"#e74c3c",color:"#fff",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:""})]})]},M))})]}),l.jsx("h3",{style:{marginTop:0},children:"Answers"}),l.jsx("div",{className:"student-modal-divider"}),c.questions.map((z,M)=>{let le=[];try{if(C.answers)if(Array.isArray(C.answers))le=C.answers;else{const ae=typeof C.answers=="string"?JSON.parse(C.answers):C.answers;Array.isArray(ae)?le=ae:ae&&typeof ae=="object"&&(le=Object.entries(ae).map(([b,_])=>({questionId:Number(b),answer:_})))}}catch{le=[]}const w=le.find(ae=>ae.questionId===z.id||ae.qid===z.id||ae.questionId===Number(z.id));let $=[];try{$=z.options?JSON.parse(z.options):[]}catch{}const P=w?w.answer??w.selected??w.value??null:null;let me=[];try{if(w){if(Array.isArray(w.files)&&w.files.length>0)me=w.files;else if(Array.isArray(w.uploads)&&w.uploads.length>0)me=w.uploads;else if(typeof w.answer=="string")try{const ae=JSON.parse(w.answer);Array.isArray(ae)&&ae.length>0&&ae.every(b=>typeof b=="string")&&(me=ae)}catch{if(w.answer&&(w.answer.includes("/uploads")||w.answer.startsWith("/")))me=[w.answer];else if(w.answer&&w.answer.startsWith("__FILE__:"))try{const _=w.answer.split(":").slice(2).join(":");if(_&&selectedQuizAttempt&&Array.isArray(selectedQuizAttempt.submittedFiles)){const V=selectedQuizAttempt.submittedFiles.filter(q=>String(q).endsWith(_)||String(q).includes(_));V.length&&(me=V)}}catch{}}}}catch{me=[]}return l.jsxs("div",{style:{padding:"10px 8px",borderBottom:"1px solid #f1f1f1"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{fontWeight:600},children:["Question ",M+1]}),l.jsx("span",{style:{fontSize:12,color:"#666"},children:z.type==="Activity"?me&&me.length>0||P!==null&&String(P).trim()!==""?"Submitted":"Not submitted":`${Number(z.points)||1} pts`})]}),l.jsx("div",{style:{marginTop:6},children:z.question}),$.length>0?l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Options:"}),l.jsx("div",{style:{marginTop:8},children:$.map((ae,b)=>{const _=z.answer!==void 0&&z.answer!==null&&String(ae)===String(z.answer),V=P!==null&&String(ae)===String(P),q={padding:"8px 10px",borderRadius:6,marginBottom:6,border:"1px solid #eef0f3",background:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"};return V?_?(q.background="#e6ffed",q.border="1px solid #7be29a"):(q.background="#ffecec",q.border="1px solid #ff9b9b"):_&&(q.background="#f3fff6",q.border="1px solid #9ee3b5"),l.jsx("div",{style:q,children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{style:{flex:1},children:ae}),l.jsx("div",{style:{minWidth:80,textAlign:"right",marginLeft:12},children:V?l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:_?"#9ee3b5":"#ff9b9b",color:"#fff",fontSize:12},children:_?"  ":"   "}):null})]})},b)})})]}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Student answer:"}),l.jsx("div",{style:{marginTop:6,color:P?"#111":"#666"},children:P?(()=>{if(z.type==="Identification"){const ae=(z.answer||"").toString().trim().toLowerCase()===String(P).toString().trim().toLowerCase(),b=typeof P=="string"?P:JSON.stringify(P);return l.jsxs("div",{style:{marginTop:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:10,borderRadius:8,background:ae?"#e6ffed":"#ffecec",border:ae?"1px solid #7be29a":"1px solid #ff9b9b"},children:[l.jsx("div",{style:{flex:1},children:b}),l.jsx("div",{style:{marginLeft:12},children:ae?null:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:"#e55a4e",color:"#fff",fontSize:12},children:"wrong"})})]})]})}if(typeof P=="string"&&P.startsWith("__FILE__:")){const ae=P.replace("__FILE__:",""),b=C&&Array.isArray(C.submittedFiles)?C.submittedFiles:[],_=b.filter(Y=>String(Y).endsWith(ae)||String(Y).includes(ae)),V=_.length?_[0]:b.length?b[0]:null;if(V){const Y=V.startsWith("http")?V:`http://localhost:5000${V}`,Q=String(V).split("/").pop(),L=(Q||"").split(".").pop()?.toLowerCase();return L==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:Y,className:"gc-pdf-preview",title:Q}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Q}),l.jsxs("div",{children:[l.jsx("a",{href:Y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>y(V),children:"Download"})]})]})]}):["png","jpg","jpeg","gif","webp"].includes(L)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("img",{src:Y,alt:Q,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:Q}),l.jsxs("div",{children:[l.jsx("a",{href:Y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>y(V),children:"Download"})]})]})]}):l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("a",{href:Y,target:"_blank",rel:"noreferrer",style:{color:"#0b5fff",textDecoration:"underline"},children:String(Q)}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>window.open(Y,"_blank"),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #eef0f3",background:"#fff",cursor:"pointer"},children:"View"}),l.jsx("button",{onClick:()=>y(V),title:"Download",style:{width:34,height:34,borderRadius:999,background:"#e74c3c",color:"#fff",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:""})]})]})}const q=C&&C.submittedFiles&&C.submittedFiles[0]?C.submittedFiles[0]:null;if(q){const Y=q.startsWith("http")?q:`http://localhost:5000${q}`,Q=String(q).split("/").pop();return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsx("a",{href:Y,target:"_blank",rel:"noreferrer",style:{color:"#0b5fff",textDecoration:"underline"},children:Q}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>window.open(Y,"_blank"),style:{padding:"6px 10px",borderRadius:6,border:"1px solid #eef0f3",background:"#fff",cursor:"pointer"},children:"View"}),l.jsx("button",{onClick:()=>y(q),title:"Download",style:{width:34,height:34,borderRadius:999,background:"#e74c3c",color:"#fff",border:"none",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:""})]})]})}return l.jsx("em",{children:"File submitted (not previewable)"})}if(typeof P=="string"){const ae=U(P);if(ae&&ae.length>0)return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[ae.map((b,_)=>I(b,_))]})}if(typeof P=="string"&&(P.startsWith("/")||P.startsWith("http")||/\.(pdf|png|jpg|jpeg|gif|webp)$/i.test(String(P)))){const ae=P.startsWith("http")?P:`http://localhost:5000${P}`,b=String(P).split("/").pop(),_=(b||"").split(".").pop()?.toLowerCase();return _==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:ae,className:"gc-pdf-preview",title:b}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:b}),l.jsxs("div",{children:[l.jsx("a",{href:ae,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>y(P),children:"Download"})]})]})]}):["png","jpg","jpeg","gif","webp"].includes(_)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("img",{src:ae,alt:b,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:b}),l.jsxs("div",{children:[l.jsx("a",{href:ae,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>y(P),children:"Download"})]})]})]}):String(P)}return String(P)})():l.jsx("em",{children:"No answer"})}),z.answer&&l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Correct answer:"}),l.jsx("div",{style:{marginTop:6,color:"#666"},children:z.answer})]})]}),l.jsx("hr",{style:{marginTop:8,border:"none",borderTop:"1px solid #eee"}}),z.files&&(()=>{let ae=[];try{ae=Array.isArray(z.files)?z.files:JSON.parse(z.files)}catch{ae=[]}return ae.length===0?null:l.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:8},children:[l.jsx("strong",{children:"Files (question):"}),ae.map((b,_)=>{const V=b.startsWith("http")?b:`http://localhost:5000${b}`,q=String(b).split("/").pop(),Y=(q||"").split(".").pop()?.toLowerCase();return Y==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:V,className:"gc-pdf-preview",title:q}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:q}),l.jsx("a",{href:V,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},_):["png","jpg","jpeg","gif","webp"].includes(Y)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:V,alt:q,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:q}),l.jsx("a",{href:V,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},_):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:q}),l.jsx("a",{href:V,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]},_)})]})})(),me&&me.length>0&&l.jsxs("div",{style:{marginTop:8,display:"none",flexDirection:"column",gap:8},children:[l.jsx("strong",{children:"Files (submitted):"}),me.map((ae,b)=>{const _=ae.startsWith("http")?ae:`http://localhost:5000${ae}`,V=String(ae).split("/").pop(),q=(V||"").split(".").pop()?.toLowerCase();return q==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:_,className:"gc-pdf-preview",title:V}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:V}),l.jsxs("div",{children:[l.jsx("a",{href:_,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>y(ae),style:{marginLeft:8},children:"Download"})]})]})]},b):["png","jpg","jpeg","gif","webp"].includes(q)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:_,alt:V,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:V}),l.jsxs("div",{children:[l.jsx("a",{href:_,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>y(ae),style:{marginLeft:8},children:"Download"})]})]})]},b):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:V}),l.jsxs("div",{children:[l.jsx("a",{href:_,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>y(ae),style:{marginLeft:8},children:"Download"})]})]})]},b)})]})]},z.id)})]})]})})]})]}):l.jsx("p",{children:"Quiz not found"})}function w0({src:r,onCancel:o,onCrop:c,exportSize:u=320}){const f=h.useRef(null),p=h.useRef(null),[x,E]=h.useState(null),[N,v]=h.useState(1),[C,D]=h.useState({x:0,y:0}),Z=h.useRef(!1),re=h.useRef({x:0,y:0}),X=h.useRef({x:0,y:0});h.useEffect(()=>{if(!r)return;const B=new Image;B.onload=()=>{E(B);const k=400,W=400,j=B.naturalWidth,O=B.naturalHeight,g=Math.max(k/j,W/O);v(g);const y=j*g,U=O*g;D({x:(k-y)/2,y:(W-U)/2})},B.src=r},[r]),h.useEffect(()=>{const B=W=>{if(!Z.current)return;W.preventDefault();const j=W.clientX??(W.touches&&W.touches[0].clientX),O=W.clientY??(W.touches&&W.touches[0].clientY),g=j-re.current.x,y=O-re.current.y;D({x:X.current.x+g,y:X.current.y+y})},k=()=>{Z.current=!1};return window.addEventListener("mousemove",B),window.addEventListener("mouseup",k),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",k),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",k),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",k)}},[]);const S=B=>{Z.current=!0,re.current={x:B.clientX??(B.touches&&B.touches[0].clientX),y:B.clientY??(B.touches&&B.touches[0].clientY)},X.current={...C}},A=()=>{if(!x||!f.current)return;const B=400,k=320,W=(B-k)/2,j=(B-k)/2,O=Math.max(0,(W-C.x)/N),g=Math.max(0,(j-C.y)/N),y=k/N,U=Math.min(x.naturalWidth-O,y),I=Math.min(x.naturalHeight-g,y),de=document.createElement("canvas");de.width=u,de.height=u;const ie=de.getContext("2d");ie.clearRect(0,0,u,u);try{ie.save(),ie.beginPath(),ie.arc(u/2,u/2,u/2,0,Math.PI*2),ie.closePath(),ie.clip(),ie.drawImage(x,O,g,U,I,0,0,u,u),ie.restore();const z=de.toDataURL("image/png");c&&c(z)}catch(z){console.error("crop error",z)}},H=B=>{if(!x)return;const k=N,W=Number(B),j=400,O=j/2,g=j/2,y=(O-C.x)/k,U=(g-C.y)/k,I=O-y*W,de=g-U*W;v(W),D({x:I,y:de})};return l.jsx("div",{style:{position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.6)"},children:l.jsxs("div",{style:{width:520,background:"#fff",padding:16,borderRadius:8},children:[l.jsx("h3",{style:{marginTop:0},children:"Adjust Profile Picture"}),l.jsxs("div",{style:{display:"flex",gap:12},children:[l.jsxs("div",{style:{width:400,height:400,position:"relative",background:"#222",overflow:"hidden",borderRadius:6},ref:f,children:[l.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",cursor:"grab"},onMouseDown:S,onTouchStart:S}),x&&l.jsx("img",{ref:p,src:x.src,alt:"to-crop",style:{position:"absolute",left:C.x,top:C.y,transform:`scale(${N})`,transformOrigin:"top left",userSelect:"none",pointerEvents:"none"},draggable:!1}),l.jsx("div",{style:{position:"absolute",left:80/2,top:80/2,width:320,height:320,boxShadow:"0 0 0 9999px rgba(0,0,0,0.45)",border:"2px solid rgba(255,255,255,0.9)",boxSizing:"border-box",pointerEvents:"none",borderRadius:"50%"}})]}),l.jsxs("div",{style:{flex:1,minWidth:140},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("label",{style:{display:"block",fontSize:13,color:"#333"},children:"Zoom"}),l.jsx("input",{type:"range",min:N,max:Math.max(3,N+2),step:.01,value:N,onChange:B=>H(B.target.value)})]}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"btn",onClick:o,children:"Cancel"}),l.jsx("button",{className:"btn btn-primary",onClick:A,children:"Crop & Save"})]}),l.jsx("p",{style:{marginTop:12,color:"#6b7280",fontSize:13},children:"Drag the image to position it inside the circle. Use zoom to scale."})]})]})]})})}function mo(){const{user:r,updateProfile:o}=wt(),[c,u]=h.useState(r?.name||""),[f,p]=h.useState(r?.email||""),[x,E]=h.useState(r?.studentId||""),[N,v]=h.useState(r?.bio||""),[C,D]=h.useState(r?.picture||null),Z=(f||"").toString().toLowerCase().includes("@gmail.com"),[re,X]=h.useState(!1),[S,A]=h.useState(null),[H,B]=h.useState(!1),k=async g=>{const y=g.target.files&&g.target.files[0];if(!y)return;const U=URL.createObjectURL(y);A(U),X(!0)},W=g=>{S&&S.startsWith("blob:")&&URL.revokeObjectURL(S),D(g),A(null),X(!1)},j=()=>{S&&S.startsWith("blob:")&&URL.revokeObjectURL(S),A(null),X(!1)},O=async()=>{B(!0);try{let g=C;try{if(C&&C.startsWith("data:")&&fl){const U=await(await fetch(C)).blob(),I=new FormData;I.append("avatar",U,"avatar.png");const de=`${fl.replace(/\/$/,"")}/profile/avatar`,ie=localStorage.getItem("token"),z=await fetch(de,{method:"POST",body:I,headers:ie?{Authorization:"Bearer "+ie}:void 0});if(z.ok){const M=await z.json();M?.url&&(g=M.url)}}}catch(y){console.error("Avatar upload failed",y)}try{const y=await o({name:c,email:f,bio:N,studentId:x,picture:g});if(y){y.picture&&D(y.picture),y.name&&u(y.name),y.email&&p(y.email),y.bio!==void 0&&v(y.bio||""),y.studentId!==void 0&&E(y.studentId||"");try{window.alert("Saved Successfully")}catch{}}}catch(y){console.error("Profile save failed",y)}}catch(g){console.error(g)}finally{B(!1)}};return l.jsxs("div",{className:"profile-container",children:[l.jsxs("div",{className:"profile-left",children:[l.jsx("div",{className:"profile-avatar-wrapper",children:l.jsx(ut,{name:c,email:f,src:C,className:"profile-avatar"})}),l.jsxs("label",{className:"edit-profile-pic",children:["Edit Profile Picture",l.jsx("input",{type:"file",accept:"image/*",onChange:k,style:{display:"none"}})]}),l.jsx("button",{className:"save-btn",onClick:O,disabled:H,children:H?"Saving...":"SAVE"})]}),l.jsx("div",{className:"profile-right",children:l.jsxs("div",{className:"profile-form-card",children:[l.jsx("label",{className:"form-label",children:"Name"}),l.jsx("input",{className:"form-input",value:c,onChange:g=>u(g.target.value),placeholder:"Teacher"}),l.jsx("label",{className:"form-label",children:"Email"}),l.jsx("input",{className:"form-input",value:f,onChange:g=>p(g.target.value),placeholder:"admin@gmail.com",readOnly:Z,style:Z?{backgroundColor:"#f3f4f6"}:void 0}),Z&&l.jsx("div",{style:{fontSize:12,color:"#666",marginTop:6},children:"Gmail addresses cannot be edited here. Contact Teacher to change it."}),l.jsx("label",{className:"form-label",children:" ID"}),l.jsx("input",{className:"form-input",value:x,onChange:g=>E(g.target.value),placeholder:"add if you want"}),l.jsx("label",{className:"form-label",children:"Biography"}),l.jsx("textarea",{className:"form-textarea",rows:6,value:N,onChange:g=>v(g.target.value)})]})}),re&&S&&l.jsx(w0,{src:S,onCancel:j,onCrop:W,exportSize:320})]})}function A0(){const[r,o]=h.useState([]);h.useEffect(()=>{fetch(De("/auth/pending"),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(f=>f.json()).then(o).catch(f=>console.error("Error loading pending users:",f))},[]);const c=async f=>{await fetch(De(`/auth/approve/${f}`),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),o(p=>p.filter(x=>x.id!==f))},u=async f=>{await fetch(De(`/auth/deny/${f}`),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),o(p=>p.filter(x=>x.id!==f))};return l.jsxs("div",{className:"page-wrap",children:[l.jsx("div",{className:"page-header-box",children:l.jsx("h1",{className:"page-title",children:"Pending Accounts"})}),l.jsx("div",{className:"card-container",children:r.length===0?l.jsx("p",{style:{textAlign:"center",padding:"1rem",color:"#777"},children:"No pending approval requests."}):r.map(f=>l.jsxs("div",{className:"approval-row",children:[l.jsxs("div",{className:"row-left",children:[l.jsx(ut,{name:f.name,email:f.email||null,className:"avatar-small"}),l.jsx("div",{className:"student-name",children:f.name})]}),l.jsxs("div",{className:"row-right",children:[l.jsx("button",{className:"btn-accept",onClick:()=>c(f.id),children:"Accept"}),l.jsx("button",{className:"btn-deny",style:{marginLeft:"10px",background:"#ce3434",color:"white",padding:"8px 16px",borderRadius:"6px"},onClick:()=>u(f.id),children:"Deny"})]})]},f.id))})]})}function z0(){const{user:r}=wt(),[o,c]=h.useState([]),[u,f]=h.useState(null),[p,x]=h.useState(new Date),[E,N]=h.useState(null),v=jt(),[C,D]=h.useState([]),[Z,re]=h.useState([]),[X,S]=h.useState([]),[A,H]=h.useState([]),[B,k]=h.useState(!1);h.useEffect(()=>{let g=!0;return fetch(De("/api/modules/student"),{headers:{Authorization:localStorage.getItem("token")?"Bearer "+localStorage.getItem("token"):void 0}}).then(y=>{if(!y.ok)throw new Error("network");return y.json()}).then(y=>{g&&Array.isArray(y)&&c(y)}).catch(()=>{g&&c([])}),()=>{g=!1}},[]);const W=g=>f(y=>y===g?null:g);h.useEffect(()=>{const g=y=>{const U=y.target;U&&(U.closest(".module-menu-wrapper")||U.closest(".module-dropdown")||f(null))};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)},[]),h.useMemo(()=>{const g=[...X.map(y=>({...y})),...C.map(y=>({...y})),...Z.map(y=>({...y})),...A.map(y=>({...y}))];return g.sort((y,U)=>!y.created&&!U.created?0:y.created?U.created?U.created-y.created:-1:1),g},[X,C,Z]),h.useEffect(()=>{let g=!0;k(!0);const y=localStorage.getItem("token"),U=y?{Authorization:"Bearer "+y}:{},I=fetch(De("/api/announcement"),{headers:U}).then(M=>M.ok?M.json():[]).catch(()=>[]),de=fetch(De("/api/modules/student"),{headers:U}).then(M=>M.ok?M.json():[]).catch(()=>[]),ie=fetch(De("/api/quizzes/student"),{headers:U}).then(M=>M.ok?M.json():[]).catch(()=>[]),z=fetch(De("/api/auth/teachers"),{headers:U}).then(M=>M.ok?M.json():[]).catch(()=>[]);return Promise.all([I,de,ie,z]).then(([M,le,w,$])=>{if(!g)return;const P=Array.isArray(M)?M.filter(V=>V.teacherEmail).map(V=>({id:V.id,title:V.title||(V.description?String(V.description).slice(0,60):"Announcement"),created:V.createdAt?new Date(V.createdAt):V.updatedAt?new Date(V.updatedAt):null,raw:V,type:"Announcement"})):[],me=Array.isArray(le)?le.filter(V=>V.teacherEmail).map(V=>({id:V.id,title:V.title||"Module",created:V.createdAt?new Date(V.createdAt):V.updatedAt?new Date(V.updatedAt):null,raw:V,type:"Module"})):[],ae=Array.isArray(w)?w.filter(V=>V.teacherEmail).map(V=>({id:V.id,title:V.title||"Quiz",created:V.createdAt?new Date(V.createdAt):V.updatedAt?new Date(V.updatedAt):null,dueDate:V.dueDate?new Date(V.dueDate):null,raw:V,type:"Quiz"})):[],b=V=>V.slice().sort((q,Y)=>!q.created&&!Y.created?0:q.created?Y.created?Y.created-q.created:-1:1);S(b(P)),D(b(me)),re(b(ae));const _=Array.isArray($)?$.map(V=>({id:V.id,title:V.name||V.email,created:V.createdAt?new Date(V.createdAt):null,raw:V,type:"Teacher"})):[];H(_)}).catch(()=>{g&&(S([]),D([]),re([]),H([]))}).finally(()=>{g&&k(!1)}),()=>{g=!1}},[]),p.toLocaleString("default",{month:"long",year:"numeric"});function j(g){const U=(g.getDay()+6)%7,I=new Date(g);return I.setDate(g.getDate()-U),I.setHours(0,0,0,0),I}function O(g){const y=[],U=new Date(g.getFullYear(),g.getMonth(),1);let I=j(U);for(let de=0;de<6;de++){const ie=[];for(let z=0;z<7;z++){const M=new Date(I);M.setDate(I.getDate()+de*7+z),ie.push(M)}y.push(ie)}return y}return O(p),l.jsxs("div",{className:"gc-module-page",style:{display:"flex",gap:20},children:[l.jsxs("div",{style:{flex:1,maxWidth:"72%",paddingRight:20},children:[l.jsxs("div",{className:"gc-header",children:[l.jsxs("div",{className:"gc-header-left",children:[l.jsx("h1",{className:"gc-title",children:"Dashboard"}),l.jsx("p",{className:"gc-subtitle",children:"Welcome back  here's what's happening"})]}),l.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12},children:[l.jsx("div",{className:"icon-btn",title:"role-pill",children:"STUDENT"}),l.jsx("div",{className:"icon-btn",title:"notifications",children:""}),l.jsx(ut,{name:r?.name||null,email:r?.email||null,src:r?.picture,className:"gc-profile-circle"})]})]}),l.jsxs("div",{style:{display:"grid",gap:16,gridTemplateColumns:"repeat(4, 1fr)",marginBottom:18},children:[l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"All Modules"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Total modules enrolled"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:o.length})})]})}),l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"In Progress"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Course completion"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:"0%"})})]})}),l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"Completed"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Finished modules"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:"0"})})]})}),l.jsx("div",{className:"stats-card card-container",children:l.jsxs("div",{className:"card-header",children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:700},children:"Quiz Attempts"}),l.jsx("div",{style:{color:"#6b7280",marginTop:6},children:"Total taken"})]}),l.jsx("div",{style:{textAlign:"right"},children:l.jsx("div",{style:{fontSize:22,fontWeight:700},children:"0"})})]})})]}),l.jsxs("div",{style:{display:"flex",gap:16,marginBottom:20},children:[l.jsxs("div",{className:"card-container",style:{flex:1},children:[l.jsx("h3",{style:{marginBottom:8},children:"Check Attendance"}),l.jsx("button",{className:"view-all-btn",children:"View Attendance"})]}),l.jsxs("div",{className:"card-container",style:{flex:1},children:[l.jsx("h3",{style:{marginBottom:8},children:"Take Quizzes/Test"}),l.jsx("button",{className:"view-all-btn",children:"Available Quiz"})]})]}),l.jsxs("div",{className:"module-list",style:{marginTop:8},children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"Continue Learning"}),l.jsx("div",{className:"module-list-subtitle",children:"Jump back into your current modules"})]}),l.jsx("button",{className:"view-all-btn",children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:o.length?o.map(g=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{className:"module-more-btn white",onClick:()=>W(g.id),children:""}),u===g.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>v(`/student/module/${g.id}`),children:"View"}),l.jsx("div",{className:"module-dropdown-item",onClick:()=>alert(g.description||"No description"),children:"Details"})]})]}),l.jsx("div",{className:"module-code",children:g.title}),l.jsx("div",{className:"module-desc",children:g.description}),l.jsx("button",{className:"module-view-btn",onClick:()=>v(`/student/module/${g.id}`),children:"View"})]},g.id)):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"module-card",children:[l.jsx("div",{className:"module-code",children:"GEC-105 MOD1"}),l.jsx("div",{className:"module-desc",children:"A container for content related to persuasive, professional, and cross-cultural communication techniques"}),l.jsx("button",{className:"module-view-btn",children:"View"})]}),l.jsxs("div",{className:"module-card",children:[l.jsx("div",{className:"module-code",children:"GEC-105 MOD2"}),l.jsx("div",{className:"module-desc",children:"Prepares you to navigate the complexities of communicating across diverse cultures and boundaries."}),l.jsx("button",{className:"module-view-btn",children:"View"})]})]})})]})]}),l.jsx(gl,{})]})}function E0(){const[r,o]=h.useState([]),[c,u]=h.useState(null),f=jt(),[p,x]=h.useState(new Date),[E,N]=h.useState(null),[v,C]=h.useState([]),[D,Z]=h.useState([]),[re,X]=h.useState([]),[S,A]=h.useState([]),[H,B]=h.useState(!1),k=O=>u(g=>g===O?null:O);h.useEffect(()=>{const O=g=>{const y=g.target;y&&(y.closest(".module-menu-wrapper")||y.closest(".module-dropdown")||u(null))};return document.addEventListener("click",O),()=>document.removeEventListener("click",O)},[]),h.useEffect(()=>{(async()=>{const y=await(await fetch("/api/modules/student",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).json();o(Array.isArray(y)?y:[])})()},[]),h.useEffect(()=>{let O=!0;B(!0);const g=localStorage.getItem("token"),y=g?{Authorization:"Bearer "+g}:{},U=fetch("/api/announcement",{headers:y}).then(z=>z.ok?z.json():[]).catch(()=>[]),I=fetch("/api/modules/student",{headers:y}).then(z=>z.ok?z.json():[]).catch(()=>[]),de=fetch("/api/quizzes/student",{headers:y}).then(z=>z.ok?z.json():[]).catch(()=>[]),ie=fetch("/api/auth/teachers",{headers:y}).then(z=>z.ok?z.json():[]).catch(()=>[]);return Promise.all([U,I,de,ie]).then(([z,M,le,w])=>{if(!O)return;const $=Array.isArray(z)?z.filter(_=>_.teacherEmail).map(_=>({id:_.id,title:_.title||(_.description?String(_.description).slice(0,60):"Announcement"),created:_.createdAt?new Date(_.createdAt):_.updatedAt?new Date(_.updatedAt):null,raw:_,type:"Announcement"})):[],P=Array.isArray(M)?M.filter(_=>_.teacherEmail).map(_=>({id:_.id,title:_.title||"Module",created:_.createdAt?new Date(_.createdAt):_.updatedAt?new Date(_.updatedAt):null,raw:_,type:"Module"})):[],me=Array.isArray(le)?le.filter(_=>_.teacherEmail).map(_=>({id:_.id,title:_.title||"Quiz",created:_.createdAt?new Date(_.createdAt):_.updatedAt?new Date(_.updatedAt):null,dueDate:_.dueDate?new Date(_.dueDate):null,raw:_,type:"Quiz"})):[],ae=Array.isArray(w)?w.map(_=>({id:_.id,title:_.name||_.email,created:_.createdAt?new Date(_.createdAt):null,raw:_,type:"Teacher"})):[],b=_=>_.slice().sort((V,q)=>!V.created&&!q.created?0:V.created?q.created?q.created-V.created:-1:1);C(b($)),Z(b(P)),X(b(me)),A(b(ae))}).catch(()=>{O&&(C([]),Z([]),X([]),A([]))}).finally(()=>{O&&B(!1)}),()=>{O=!1}},[]),h.useMemo(()=>{const O=[...v,...D,...re,...S];return O.sort((g,y)=>!g.created&&!y.created?0:g.created?y.created?y.created-g.created:-1:1),O},[v,D,re,S]);function W(O){const y=(O.getDay()+6)%7,U=new Date(O);return U.setDate(O.getDate()-y),U.setHours(0,0,0,0),U}function j(O){const g=[],y=new Date(O.getFullYear(),O.getMonth(),1);let U=W(y);for(let I=0;I<6;I++){const de=[];for(let ie=0;ie<7;ie++){const z=new Date(U);z.setDate(U.getDate()+I*7+ie),de.push(z)}g.push(de)}return g}return j(p),l.jsx("div",{className:"main-layout",children:l.jsx("div",{className:"dashboard-container",children:l.jsxs("div",{style:{display:"flex",gap:24,alignItems:"flex-start"},children:[l.jsx("div",{style:{flex:1},children:l.jsxs("div",{className:"module-list",children:[l.jsxs("div",{className:"module-list-header",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"module-list-title",children:"List of Modules"}),l.jsx("div",{className:"module-list-subtitle",children:"Available course modules"})]}),l.jsx("button",{className:"view-all-btn",onClick:()=>f("/student/modules"),children:"View All"})]}),l.jsx("div",{style:{display:"flex",gap:22,marginTop:20,flexWrap:"wrap"},children:r.map(O=>l.jsxs("div",{className:"module-card",children:[l.jsxs("div",{className:"module-menu-wrapper",children:[l.jsx("button",{className:"module-more-btn white",onClick:()=>k(O.id),children:""}),c===O.id&&l.jsxs("div",{className:"module-dropdown",children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>f(`/student/module/${O.id}`),children:"View"}),l.jsx("div",{className:"module-dropdown-item",onClick:()=>alert(O.description||"No description"),children:"Details"})]})]}),l.jsx("div",{className:"module-code",children:O.title}),l.jsx("div",{className:"module-desc",children:O.description}),l.jsx("button",{className:"module-view-btn",onClick:()=>f(`/student/module/${O.id}`),children:"View"})]},O.id))})]})}),l.jsx(gl,{})]})})})}function Fm(r){const c=Date.now()-r.getTime(),u=Math.floor(c/6e4);if(u<1)return"Just now";if(u<60)return`${u} minutes ago`;const f=Math.floor(u/60);if(f<24)return`${f} hours ago`;const p=Math.floor(f/24);return p===1?"Yesterday":`${p} days ago`}function C0(r){if(!r)return null;try{const o=new Date(r),c=Date.now(),u=o.getTime()-c,f=o.getHours()===0&&o.getMinutes()===0&&o.getSeconds()===0,p=o.getFullYear&&o.getFullYear()===1970;if(u<=0)return{status:"timesUp",label:"Time's Up"};if(p)return{status:"timeOnly",timePart:o.toLocaleTimeString()};if(!f){const x=Math.floor(u/6e4);if(x<60)return{status:"relative",label:`Due in ${x}mins`};const E=Math.round(x/60);return E<24?{status:"relative",label:`Due in ${E}hrs`}:{status:"date",datePart:o.toLocaleDateString(),timePart:o.toLocaleTimeString()}}return{status:"date",datePart:o.toLocaleDateString(),timePart:null}}catch{return null}}function T0(){const{user:r}=wt?wt():{user:null},o=typeof window<"u"?localStorage.getItem("userEmail"):null,c=r?.email||o||"",[u,f]=h.useState([]),[p,x]=h.useState({}),[E,N]=h.useState(!0),[v,C]=h.useState({}),[D,Z]=h.useState(null),[re,X]=h.useState(""),[S,A]=h.useState(null),[H,B]=h.useState(null),[k,W]=h.useState({}),[j,O]=h.useState([]),[g,y]=h.useState("all");h.useEffect(()=>{const Y=Q=>{const L=Q.target;L&&(L.closest(".module-dropdown")||L.closest(".module-more-btn")||(A(null),B(null)))};return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[]);const[U,I]=h.useState(!1),[de,ie]=h.useState(null),[z,M]=h.useState("");h.useEffect(()=>{(async()=>{try{const{data:Q}=await wa.get("/announcement",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),L=Array.isArray(Q)?Q.slice().sort((ne,he)=>new Date(he.createdAt).getTime()-new Date(ne.createdAt).getTime()):[];try{const ne=await wa.get("/auth/teachers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(ne&&ne.data){const he=ne.data,pe={};if(Array.isArray(he))for(const je of he)je.email&&(pe[je.email]=je);x(pe);const Ne=L.map(je=>({...je,authorPicture:je.picture||je.teacherEmail&&pe[je.teacherEmail]&&pe[je.teacherEmail].picture||null,username:je.username||(je.teacherEmail?pe[je.teacherEmail]&&pe[je.teacherEmail].name:je.username)}));f(Ne)}else f(L)}catch{f(L)}try{const he=(await wa.get("/attendance",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).data;if(Array.isArray(he)){const pe={};for(const Ne of he)Array.isArray(Ne.marks)&&Ne.marks.some(je=>je.studentEmail===c)&&(pe[Ne.id]=!0);W(pe),O(Array.isArray(he)?he:[])}}catch{}}catch(Q){console.error("Failed to load announcements:",Q)}finally{N(!1)}})()},[]);const le=async Y=>{const Q=(v[Y]||"").trim();if(Q)try{const L=await fetch(De(`/announcement/${Y}/comments`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:Q})}),ne=await L.json();if(!L.ok){alert(ne.error||"Failed to add comment");return}const he={...ne,username:ne.username||r?.username||r?.name||(ne.authorEmail?.split?.("@")?.[0]??ne.authorName??ne.authorEmail),authorPicture:ne.authorPicture||r?.picture||ne.authorEmail&&p[ne.authorEmail]&&p[ne.authorEmail].picture||null};f(pe=>pe.map(Ne=>Ne.id===Y?{...Ne,comments:[...Ne.comments,he]}:Ne)),C(pe=>({...pe,[Y]:""}))}catch(L){console.error(L),alert("Failed to add comment")}},w=Y=>{Z(Y.id),X(Y.text),B(null)},$=async Y=>{if(!D)return;const Q=re.trim();if(!Q)return alert("Comment cannot be empty");try{const L=await fetch(De(`/announcement/${Y}/comments/${D}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({text:Q})}),ne=await L.json();if(!L.ok){alert(ne.error||"Failed to edit comment");return}const he={...ne,username:ne.username||r?.username||r?.name||(ne.authorEmail?.split?.("@")?.[0]??ne.authorName??ne.authorEmail),authorPicture:ne.authorPicture||ne.authorEmail&&p[ne.authorEmail]&&p[ne.authorEmail].picture||r?.picture||null};f(pe=>pe.map(Ne=>Ne.id===Y?{...Ne,comments:Ne.comments.map(je=>je.id===he.id?he:je)}:Ne)),Z(null),X("")}catch(L){console.error(L),alert("Failed to edit comment")}},P=async(Y,Q)=>{if(await window.customConfirm("Delete this comment?"))try{const L=await fetch(De(`/announcement/${Y}/comments/${Q}`),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),ne=await L.json();if(!L.ok){alert(ne.error||"Failed to delete comment");return}f(he=>he.map(pe=>pe.id===Y?{...pe,comments:pe.comments.filter(Ne=>Ne.id!==Q)}:pe)),B(null)}catch(L){console.error(L),alert("Failed to delete comment")}},me=Y=>{ie(Y.id),M(Y.description),I(!0),A(null)},ae=async()=>{if(de)try{const Y=await fetch(De(`/announcement/${de}`),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({description:z})}),Q=await Y.json();if(!Y.ok){alert(Q.error||"Failed to update announcement");return}f(L=>L.map(ne=>ne.id===Q.id?{...ne,description:Q.description}:ne)),I(!1),ie(null),M("")}catch(Y){console.error(Y),alert("Failed to update announcement")}},b=async Y=>{if(await window.customConfirm("Delete this announcement?"))try{const Q=await fetch(De(`/announcement/${Y}`),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),L=await Q.json();if(!Q.ok){alert(L.error||"Failed to delete announcement");return}f(ne=>ne.filter(he=>he.id!==Y)),A(null)}catch(Q){console.error(Q),alert("Failed to delete announcement")}},_=async Y=>{W(Q=>({...Q,[Y]:!0}));try{const Q=await fetch(`http://localhost:5000/attendance/${Y}/mark`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),L=await Q.json().catch(()=>null);if(!Q.ok){if(L&&L.error&&L.error.toLowerCase().includes("already"))return;W(ne=>{const he={...ne};return delete he[Y],he}),alert(L&&L.error||"Failed to mark attendance");return}}catch(Q){console.error(Q),W(L=>{const ne={...L};return delete ne[Y],ne}),alert("Failed to mark attendance")}},V=Y=>{if(!Y)return{text:Y,attendanceId:null};const Q=Y.match(/\[ATTENDANCE_ID:(\d+)\]/);if(Q){const L=Number(Q[1]);let ne=Y.replace(/\s*\[ATTENDANCE_ID:\d+\]/,"");return ne=ne.replace(/\s*\s*Due:\s*[^\[]*/,"").trim(),{text:ne,attendanceId:L}}return{text:Y,attendanceId:null}},q=async Y=>{if(await window.customConfirm("Delete this attendance?"))try{const Q=await fetch(`http://localhost:5000/attendance/${Y}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!Q.ok){const L=await Q.json().catch(()=>null);alert(L&&L.error||"Failed to delete attendance");return}f(L=>L.map(ne=>{const he=V(ne.description);return he&&he.attendanceId===Y?{...ne,description:he.text}:ne})),O(L=>Array.isArray(L)?L.filter(ne=>ne.id!==Y):L),W(L=>{const ne={...L};return delete ne[Y],ne}),A(null)}catch(Q){console.error(Q),alert("Failed to delete attendance")}};return l.jsxs("div",{style:{display:"flex",gap:20},children:[l.jsx("main",{style:{flex:1},children:l.jsxs("div",{className:"announcement-wrap",children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("button",{onClick:()=>y("all"),style:{padding:"8px 12px",borderRadius:8,border:g==="all"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="all"?"#2563eb":"#fff",color:g==="all"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"All"}),l.jsx("button",{onClick:()=>y("announcement"),style:{padding:"8px 12px",borderRadius:8,border:g==="announcement"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="announcement"?"#2563eb":"#fff",color:g==="announcement"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Announcement"}),l.jsx("button",{onClick:()=>y("attendance"),style:{padding:"8px 12px",borderRadius:8,border:g==="attendance"?"1px solid #2563eb":"1px solid #e6e6e6",background:g==="attendance"?"#2563eb":"#fff",color:g==="attendance"?"#fff":"#111",cursor:"pointer",fontWeight:600},children:"Attendance"})]}),l.jsx("h1",{className:"text-4xl font-bold mb-6",style:{margin:0},children:"Announcements"})]}),E&&l.jsx("p",{children:"Loading announcements..."}),!E&&u.length===0&&l.jsx("p",{children:"No announcements yet."}),(()=>{const Y=(u||[]).filter(Q=>{try{const{attendanceId:L}=V(Q.description);return g==="attendance"?!!L:g==="announcement"?!L:!0}catch{return g!=="attendance"}});return!E&&Y.length===0?l.jsx("p",{children:"No items match this filter."}):Y.map(Q=>(Array.isArray(Q.comments)&&Q.comments,l.jsxs("div",{className:"announcement-card",children:[l.jsxs("div",{style:{position:"relative"},children:[l.jsx("button",{className:"module-more-btn",onClick:()=>A(L=>L===Q.id?null:Q.id),"aria-label":"announcement menu",title:"Actions"}),S===Q.id&&l.jsxs("div",{className:"module-dropdown",children:[(Q.teacherEmail===c||r?.role==="teacher"||r?.role==="superteacher")&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"module-dropdown-item",onClick:()=>me(Q),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>b(Q.id),children:" Delete"})]}),(()=>{const{attendanceId:L}=V(Q.description);return L&&(r?.role==="teacher"||r?.role==="superteacher")?l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>q(L),children:" Delete Attendance"}):null})()]}),l.jsxs("div",{className:"announcement-header",children:[l.jsx(ut,{src:Q.authorPicture||void 0,name:Q.username||Q.teacherEmail&&p[Q.teacherEmail]&&(p[Q.teacherEmail].username||p[Q.teacherEmail].name)||(Q.teacherEmail?.split?.("@")?.[0]??Q.teacherEmail),email:Q.teacherEmail,className:"announcement-avatar"}),l.jsxs("div",{className:"announcement-meta",children:[l.jsx("p",{children:Q.username||Q.teacherEmail&&p[Q.teacherEmail]&&(p[Q.teacherEmail].username||p[Q.teacherEmail].name)||(Q.teacherEmail?.split?.("@")?.[0]??Q.teacherEmail)}),l.jsx("p",{children:Fm(new Date(Q.createdAt))})]})]}),l.jsx("div",{className:"announcement-body",children:(()=>{const{text:L,attendanceId:ne}=V(Q.description);return l.jsxs(l.Fragment,{children:[l.jsx("pre",{className:"announcement-text",children:L}),Q.filePath&&(()=>{const he=String(Q.filePath||""),pe=Q.displayFileName||he.split(/[/\\]/).pop()||he,Ne=(pe.split(".").pop()||"").toLowerCase(),je=he.replace(/^[/\\]+/,"").replace(/\\/g,"/"),Ie=je.includes("/")?De(`/${je}`):De(`/uploads/announcements/${je}`);return Ne==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("iframe",{src:Ie,className:"gc-pdf-preview",title:pe}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:pe}),l.jsx("a",{href:Ie,target:"_blank",rel:"noreferrer",download:pe,className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",style:{marginTop:8},children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:pe}),l.jsx("a",{href:Ie,target:"_blank",rel:"noreferrer",download:pe,className:"gc-open-btn",children:"Open"})]})]})})(),ne&&r?.role!=="teacher"&&l.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:12},children:[(()=>{const he=j.find(je=>je.id===ne),pe=he&&he.dueDate?new Date(he.dueDate):null,Ne=pe?Date.now()>pe.getTime():!1;return k[ne]?l.jsx("button",{className:"attendance-badge",disabled:!0,children:"PRESENT"}):Ne?l.jsx("button",{className:"attendance-btn",disabled:!0,style:{background:"#ef4444"},children:"Time's Up"}):l.jsx("button",{className:"attendance-btn",style:{background:"#0ea5e9"},onClick:()=>_(ne),children:"Present"})})(),(()=>{const he=j.find(pe=>pe.id===ne);if(he&&he.dueDate){const pe=C0(he.dueDate);if(!pe)return null;if(pe.status==="timesUp")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#ef4444",fontWeight:600},children:pe.label});if(pe.status==="relative")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:`(${pe.label}) ${new Date(he.dueDate).toLocaleString()}`});if(pe.status==="timeOnly")return l.jsx("div",{style:{fontSize:"0.9rem",color:"#374151"},children:pe.timePart});if(pe.status==="date")return l.jsxs("div",{style:{fontSize:"0.9rem",color:"#374151",display:"flex",alignItems:"center",gap:8},children:[l.jsx("span",{children:`Due on ${pe.datePart}`}),pe.timePart&&l.jsx("span",{style:{fontWeight:600,color:"#374151"},children:pe.timePart})]})}return null})()]})]})})()})]}),l.jsx("div",{className:"announcement-comments-list",children:(Array.isArray(Q.comments)?Q.comments.slice().sort((L,ne)=>new Date(L.createdAt).getTime()-new Date(ne.createdAt).getTime()):[]).map(L=>l.jsxs("div",{className:"gc-comment",children:[l.jsx(ut,{src:L.authorEmail===c?r&&r.picture:L.authorPicture||p[L.authorEmail]&&p[L.authorEmail].picture,name:L.username||L.authorEmail&&p[L.authorEmail]&&(p[L.authorEmail].username||p[L.authorEmail].name)||L.authorName,email:L.authorEmail,className:"gc-comment-avatar"}),l.jsxs("div",{className:"gc-comment-body",children:[l.jsxs("div",{style:{display:"flex",gap:10,alignItems:"baseline"},children:[l.jsx("p",{className:"gc-comment-author",children:L.username||L.authorEmail&&p[L.authorEmail]&&(p[L.authorEmail].username||p[L.authorEmail].name)||L.authorName}),l.jsx("p",{className:"gc-comment-time",children:Fm(new Date(L.createdAt))}),L.updatedAt&&new Date(L.updatedAt)>new Date(L.createdAt)&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#999"},children:"(edited)"})]}),D===L.id?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{className:"gc-comment-input",value:re,onChange:ne=>X(ne.target.value),style:{marginTop:8,marginBottom:8}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"gc-send-btn",onClick:()=>$(Q.id),style:{background:"#16a34a",fontSize:"0.9rem"},children:"Save"}),l.jsx("button",{className:"gc-send-btn",onClick:()=>Z(null),style:{background:"#6b7280",fontSize:"0.9rem"},children:"Cancel"})]})]}):l.jsx("p",{className:"gc-comment-text",children:L.text})]}),(L.authorEmail===c||r?.role==="teacher"||r?.role==="superteacher")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"module-more-btn",onClick:()=>B(ne=>ne===L.id?null:L.id),children:""}),H===L.id&&l.jsxs("div",{className:"module-dropdown",style:{right:12,top:28},children:[L.authorEmail===c&&l.jsx("div",{className:"module-dropdown-item",onClick:()=>w(L),children:" Edit"}),l.jsx("div",{className:"module-dropdown-item module-dropdown-delete",onClick:()=>P(Q.id,L.id),children:" Delete"})]})]})]},L.id))}),l.jsxs("div",{className:"announcement-comment",children:[l.jsx(ut,{src:r?.picture,name:r?.username||r?.name||"",email:c,className:"gc-comment-avatar small"}),l.jsx("input",{className:"announcement-input",placeholder:"Add a comment",value:v[Q.id]||"",onChange:L=>C(ne=>({...ne,[Q.id]:L.target.value})),onKeyDown:L=>{L.key==="Enter"&&le(Q.id)}}),l.jsx("button",{className:"gc-send-btn",onClick:()=>le(Q.id),title:"Send comment",children:""})]})]},Q.id)))})(),U&&l.jsx("div",{className:"modal-overlay",onClick:()=>I(!1),children:l.jsxs("div",{className:"modal-content",onClick:Y=>Y.stopPropagation(),children:[l.jsx("h2",{className:"modal-title",children:"Edit Announcement"}),l.jsxs("div",{className:"modal-form",children:[l.jsx("label",{children:"Description:"}),l.jsx("textarea",{value:z,onChange:Y=>M(Y.target.value),className:"announcement-edit-box"})]}),l.jsxs("div",{className:"modal-actions",children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>I(!1),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:ae,children:"Save"})]})]})})]})}),l.jsx(gl,{})]})}function D0(){const r=Aa,[o,c]=h.useState([]),[u,f]=h.useState({}),[p,x]=h.useState(null),[E,N]=h.useState(!0),[v,C]=h.useState(null),[D,Z]=h.useState(!1),re=jt();h.useEffect(()=>{X()},[]);const X=async()=>{N(!0);try{const j=await fetch(`${r}/modules/student`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!j.ok){console.error("Failed to load modules"),N(!1);return}const O=await j.json(),y=(Array.isArray(O)?O:[]).map(U=>({id:U.id,title:U.title,description:U.description,document:U.document,quizzes:Array.isArray(U.quizzes)?U.quizzes:[]}));y.forEach(U=>{(U.quizzes||[]).forEach(I=>S(I.id))}),c(y)}catch(j){console.error("Error loading data:",j)}finally{N(!1)}},S=async j=>{try{const O=await fetch(`${r}/quizzes/${j}/attempts`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!O.ok)return;const g=await O.json();f(y=>({...y,[j]:{usedAttempts:g.used??0,remainingAttempts:g.remaining??0}}))}catch(O){console.error("Error loading attempt status:",O)}},A=j=>{x(O=>O===j?null:j)},H=j=>{if(!j)return!1;const O=String(j).split("T"),g=O[0]||"",y=O[1]?O[1].split("Z")[0].split("+")[0]:"",U=y?y.slice(0,5):"",I=Date.now();if(g==="1970-01-01"){if(!U)return!1;const[ie,z]=U.split(":"),M=new Date;return M.setHours(Number(ie||0),Number(z||0),0,0),M.getTime()<=I}if(!U){const[ie,z,M]=g.split("-").map(w=>Number(w));return!ie||!z||!M?!1:new Date(ie,z-1,M,23,59,59,0).getTime()<=I}const de=new Date(j);return isNaN(de.getTime())?!1:de.getTime()<=I},B=j=>{if(!j)return"No Due Date";const O=String(j).split("T"),g=O[0]||"",y=O[1]?O[1].split("Z")[0].split("+")[0]:"",U=y?y.slice(0,5):"";if(g==="1970-01-01")return U?`Due: ${new Date(`1970-01-01T${U}`).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`:"Due: --:--";if(!U){const[de,ie,z]=g.split("-").map(le=>Number(le));if(!de||!ie||!z)return`Due: ${g}`;const M=new Date(de,ie-1,z,23,59,0,0);return`Due: ${M.toLocaleDateString()} ${M.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`}const I=new Date(j);return isNaN(I.getTime())?"No Due Date":`Due: ${I.toLocaleDateString()} ${I.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}`},k=j=>{const O=j.files&&j.files[0]||j.document||j.file||null;if(!O)return l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{fontSize:36},children:""})}),l.jsx("div",{className:"gc-pdf-info",children:l.jsx("p",{className:"gc-pdf-name",children:"No attachment"})})]});const g=String(O),y=g.startsWith("http")?g:De(g),U=g.split("/").pop(),I=(U||"").split(".").pop()?.toLowerCase();return I==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:y,className:"gc-pdf-preview",title:U}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:U}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&re(`/student/quiz/${j.id}?start=1`)},children:"Take Quiz"})]})]})]}):["png","jpg","jpeg","gif","webp"].includes(I)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:y,alt:U,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:U}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&re(`/student/quiz/${j.id}?start=1`)},children:"Take Quiz"})]})]})]}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:U}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&re(`/student/quiz/${j.id}?start=1`)},children:"Take Quiz"})]})]})]})},W=(j,O)=>{if(!j)return null;const g=String(j),y=g.startsWith("http")?g:De(g),U=g.split("/").pop(),I=(U||"").split(".").pop()?.toLowerCase(),ie=Object.assign({},{width:260,borderRadius:8,border:"1px solid #eef0f3",background:"#fff",overflow:"hidden"},{display:"flex",alignItems:"center",gap:12,padding:10}),z={width:120,height:80,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:4,background:"#f7fafc"};return I==="pdf"?l.jsxs("div",{className:"gc-pdf-card",style:ie,children:[l.jsx("div",{className:"gc-pdf-preview",style:z,children:l.jsx("iframe",{src:y,title:U,style:{width:"100%",height:"100%",border:"none"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:U}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O):["png","jpg","jpeg","gif","webp"].includes(I)?l.jsxs("div",{className:"gc-pdf-card",style:ie,children:[l.jsx("div",{className:"gc-pdf-preview",style:z,children:l.jsx("img",{src:y,alt:U,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover"}})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:U}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O):l.jsxs("div",{className:"gc-pdf-card",style:ie,children:[l.jsx("div",{className:"gc-pdf-preview",style:z,children:l.jsx("div",{style:{fontSize:28},children:""})}),l.jsxs("div",{className:"gc-pdf-info",style:{flex:1},children:[l.jsx("p",{className:"gc-pdf-name",style:{margin:0},children:U}),l.jsx("div",{style:{marginTop:8},children:l.jsx("a",{href:y,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})})]})]},O)};return l.jsxs("div",{style:{display:"flex",gap:20},children:[l.jsx("main",{style:{flex:1},children:l.jsxs("div",{className:"page-wrap",children:[l.jsxs("div",{className:"page-header-box",children:[l.jsx("h1",{className:"page-title",children:"Quizzes"}),l.jsx("p",{className:"page-subtitle",children:"All available quizzes, grouped by module."})]}),E&&l.jsx("p",{className:"empty-text",children:"Loading modules and quizzes..."}),!E&&o.length===0&&l.jsx("p",{className:"empty-text",children:"No modules available."}),!E&&o.length>0&&l.jsx("div",{className:"quiz-module-list",children:o.map(j=>{const O=p===j.id,g=j.quizzes??[];return l.jsxs("div",{className:"module-block",children:[l.jsxs("div",{className:"module-block-header",onClick:()=>A(j.id),children:[l.jsx("h2",{className:"module-title",children:j.title}),O?l.jsx(bh,{size:20}):l.jsx(jh,{size:20})]}),O&&l.jsxs("div",{className:"module-block-content",children:[j.description&&l.jsx("p",{className:"module-desc",children:j.description}),j.document&&l.jsx("a",{href:`http://localhost:5000/${j.document}`,target:"_blank",rel:"noopener noreferrer",className:"module-doc-link",children:" View Attached Document"}),l.jsx("h3",{className:"module-subtitle",children:"Quizzes"}),g.length===0&&l.jsx("p",{className:"no-quizzes-text",children:"No quizzes in this module"}),g.map(y=>{const U=u[y.id];return l.jsxs("div",{className:"quiz-item",children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("h4",{className:"quiz-title",children:y.title}),l.jsxs("p",{className:"quiz-meta",children:[y.totalPoints||0," pts "," ",B(y.dueDate)]}),y.description&&l.jsx("p",{className:"quiz-desc",children:y.description}),U&&l.jsxs("p",{className:"quiz-status",children:[(U.remainingAttempts??0)>0?l.jsx(l.Fragment,{children:l.jsxs("span",{style:{color:"#16a34a"},children:[" ",U.remainingAttempts," attempts remaining"]})}):l.jsx("span",{style:{color:"#dc2626"},children:"No attempts remaining"}),(U.usedAttempts??0)>0&&l.jsxs("span",{style:{marginLeft:"12px",color:"#666"},children:["(",U.usedAttempts," completed)"]})]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[y.type==="activity"||y.activityType==="activity"?l.jsx("div",{children:k(y)}):H(y.dueDate)?l.jsx("span",{style:{fontSize:"0.95rem",color:"#c43030ff",fontWeight:700},children:"Time's up"}):(!U||(U.usedAttempts??0)===0)&&l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:()=>{window.confirm("Do you want to start the Quiz?")&&re(`/student/quiz/${y.id}?start=1`)},children:"Take Quiz"}),!H(y.dueDate)&&U&&(U.usedAttempts??0)>0&&l.jsx("button",{type:"button",className:"quiz-view-btn",onClick:async()=>{try{Z(!0);const[I,de]=await Promise.all([fetch(`${r}/quizzes/${y.id}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}),fetch(`${r}/quizzes/${y.id}/score`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})]);if(!I.ok||!de.ok){alert("Failed to load score or quiz details"),Z(!1);return}const ie=await I.json(),z=await de.json();C({quiz:ie,quizTitle:z.quizTitle,score:z.score,total:z.total,details:z.details})}catch(I){console.error(I),alert("Error loading score")}finally{Z(!1)}},style:{background:"#7c3aed"},children:D?"Loading...":"View Score"}),!U&&l.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:"Loading..."})]})]},y.id)})]})]},j.id)})})]})}),v&&l.jsx("div",{className:"modal-overlay",onClick:()=>C(null),children:l.jsxs("div",{className:"modal-content",role:"dialog","aria-modal":"true",onClick:j=>j.stopPropagation(),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[l.jsxs("div",{children:[l.jsx("strong",{style:{fontSize:16},children:`Points ${v?.score??0}/${v?.total??0}`}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:(()=>{const j=v&&(v.createdAt||v.attemptedAt||v.submittedAt||v.timestamp);if(j)try{const O=new Date(j);if(!isNaN(O.getTime()))return O.toLocaleString()}catch{}return""})()})]}),l.jsx("div",{children:l.jsx("button",{className:"tqv-close-btn",onClick:()=>C(null),children:"Close"})})]}),D?l.jsx("p",{children:"Loading score..."}):l.jsxs("div",{children:[l.jsx("h3",{style:{marginTop:0},children:"Answers"}),l.jsx("div",{className:"student-modal-divider"}),v.quiz&&v.quiz.questions&&v.quiz.questions.map((j,O)=>{let g=[];try{g=Array.isArray(v.details)?v.details:v.details?JSON.parse(v.details):[]}catch{g=[]}const y=g.find($=>$.id===j.id||$.questionId===j.id||$.questionId===Number(j.id)||$.qid===j.id||$.questionId===Number(j.id));let U=[];try{U=j.options?JSON.parse(j.options):[]}catch{U=[]}const I=y?y.userAnswer??y.answer??y.selected??y.value??null:null,de=$=>{try{return $==null?"":String($).trim().toLowerCase()}catch{return""}},ie=de(I),z=de(j.answer);let M=[];try{if(y){if(Array.isArray(y.files)&&y.files.length>0)M=y.files;else if(Array.isArray(y.uploads)&&y.uploads.length>0)M=y.uploads;else if(typeof y.answer=="string")try{const $=JSON.parse(y.answer);Array.isArray($)&&$.every(P=>typeof P=="string")&&(M=$)}catch{y.answer&&(y.answer.includes("/uploads")||y.answer.startsWith("/"))&&(M=[y.answer])}}}catch{M=[]}const le=Number(j.points)||1;let w=0;try{y&&(y.points!==void 0?w=Number(y.points)||0:y.score!==void 0?w=Number(y.score)||0:y.pointsEarned!==void 0&&(w=Number(y.pointsEarned)||0)),w||(Array.isArray(U)&&U.length>0?ie!==""&&z!==""&&ie===z?w=le:w=w||0:ie!==""&&z!==""&&ie===z&&(w=le))}catch{w=w||0}return l.jsxs("div",{style:{padding:"10px 8px",borderBottom:"1px solid #f1f1f1"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{fontWeight:600},children:["Question ",O+1]}),l.jsxs("span",{style:{fontSize:12,color:"#666",display:"flex",alignItems:"center",gap:8},children:[j.type==="Activity"?M&&M.length>0||I!==null&&String(I).trim()!==""?l.jsx("span",{children:"Submitted"}):l.jsx("span",{children:"Not submitted"}):null,l.jsx("span",{style:{background:"#e8f0ff",color:"#1e40af",padding:"2px 6px",borderRadius:6,fontSize:12,fontWeight:600},children:`${w}/${le} pts`})]})]}),l.jsx("div",{style:{marginTop:6},children:j.question}),U.length>0?l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Options:"}),l.jsx("div",{style:{marginTop:8},children:U.map(($,P)=>{const me=z!==""&&de($)===z,ae=ie!==""&&de($)===ie,b={padding:"8px 10px",borderRadius:6,marginBottom:6,border:"1px solid #eef0f3",background:"#fff"};return me&&ae?(b.background="#e6ffed",b.border="1px solid #7be29a"):me?(b.background="#f3fff6",b.border="1px solid #9ee3b5"):ae&&(b.background="#fff2f2",b.border="1px solid #ff9b9b"),l.jsx("div",{style:b,children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("div",{children:$}),l.jsxs("div",{style:{fontSize:12,color:"#555"},children:[ae?l.jsx("em",{children:"Selected"}):null,me?ae?l.jsx("span",{style:{marginLeft:8,color:"#117a3a"},children:" correct"}):l.jsx("span",{style:{marginLeft:8,color:"#117a3a"},children:""}):null]})]})},P)})})]}):l.jsxs("div",{style:{marginTop:8},children:[l.jsx("strong",{children:"Student answer:"}),l.jsx("div",{style:{marginTop:6,color:I?"#111":"#666"},children:I?typeof I=="string"&&I.startsWith("__FILE__:")?(()=>{const $=I.replace("__FILE__:",""),P=v.submittedFiles&&v.submittedFiles.length>0?v.submittedFiles[0]:M.length>0?M[0]:null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[l.jsx("a",{style:{color:"#0b5fff",textDecoration:"underline"},href:P?P.startsWith("http")?P:`http://localhost:5000${P}`:"#",target:"_blank",rel:"noreferrer",onClick:me=>{P||(me.preventDefault(),alert("File not found on server"))},children:$}),l.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[M&&M.length>0?M.map((me,ae)=>W(me,ae)):null]})]})})():String(I):l.jsx("em",{children:"No answer"})}),j.answer&&j.type!=="Activity"&&l.jsxs("div",{style:Object.assign({marginTop:8},z!==""&&ie===z?{background:"#e6ffed",border:"1px solid #9ee3b5",padding:8,borderRadius:6}:{}),children:[l.jsx("strong",{children:"Correct answer:"}),l.jsxs("div",{style:{marginTop:6,color:z!==""&&ie===z?"#117a3a":"#666",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:j.answer}),z!==""&&ie===z?l.jsx("span",{style:{color:"#117a3a",marginLeft:8},children:" correct"}):null]})]})]})]},j.id)})]})]})}),l.jsx(gl,{})]})}function M0(){const{id:r}=Qs(),o=jt(),[c,u]=h.useState(null),[f,p]=h.useState(1),[x,E]=h.useState({}),[N,v]=h.useState(null),[C,D]=h.useState(!1),[Z,re]=h.useState(null),[X,S]=h.useState(null),A=h.useRef(null),[H,B]=h.useState([]),[k,W]=h.useState(!1),j=!!(c&&(c.activityType==="activity"||c.type==="Activity"||c.type==="activity"||Array.isArray(c.questions)&&c.questions.some(q=>(q.type||"").toString().toLowerCase()==="activity"))),O=q=>{if(q===null)return"";if(q<=0)return"Time's up";const Y=Math.floor(q/1e3),Q=Math.floor(Y/3600),L=Math.floor(Y%3600/60),ne=Y%60;return Q>0?`${Q}:${String(L).padStart(2,"0")}:${String(ne).padStart(2,"0")}`:`${String(L).padStart(2,"0")}:${String(ne).padStart(2,"0")}`},g=fn(),{user:y}=wt()||{},U=c?c.timeLimit?Number(c.timeLimit)*60*1e3:c.dueDate?Math.max(0,new Date(c.dueDate).getTime()-Date.now()):null:null,I=c?!c.timeLimit&&!c.dueDate?"No Time limit":O(Z!==null?Z:U):"",de=Z!==null&&Z<=0;h.useEffect(()=>{if(!c)return;if(new URLSearchParams(g.search).get("start")){if(c.timeLimit){const Y=Date.now()+Number(c.timeLimit)*60*1e3;S(Y);try{localStorage.setItem("active_quiz_endAt",String(Y)),localStorage.setItem("active_quiz_id",String(r))}catch{}}else if(c.dueDate){const Y=new Date(c.dueDate).getTime();if(!isNaN(Y)){S(Y);try{localStorage.setItem("active_quiz_endAt",String(Y)),localStorage.setItem("active_quiz_id",String(r))}catch{}}}p(1)}},[c,g.search]),h.useEffect(()=>{try{const q=localStorage.getItem("active_quiz_endAt"),Y=localStorage.getItem("active_quiz_id");if(q&&Y===String(r)){const Q=Number(q);!isNaN(Q)&&Q>Date.now()&&S(Q)}}catch{}},[r]),h.useEffect(()=>{if(!X)return;re(Math.max(0,X-Date.now()));const q=setInterval(()=>{const Y=Math.max(0,X-Date.now());if(re(Y),Y<=0){clearInterval(q);try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}}},1e3);return()=>clearInterval(q)},[X]),h.useEffect(()=>{ie(),z()},[r]);const ie=async()=>{const q=await fetch(De(`/quizzes/${r}`),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});q.ok&&u(await q.json())},z=async()=>{const q=await fetch(De(`/quizzes/${r}/attempts`),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});q.ok&&v(await q.json())},M=q=>{try{const Y=`recentViewedItems_${y&&y.email?y.email:"guest"}`,Q=localStorage.getItem(Y),L=Q?JSON.parse(Q):[],ne=`Quiz-${q}`;if(!L.includes(ne)){L.push(ne),localStorage.setItem(Y,JSON.stringify(L));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}}catch{}};h.useEffect(()=>{c&&c.id&&M(c.id)},[c]);const le=(q,Y)=>{E(Q=>({...Q,[q]:Y}))},w=async()=>{if(!c)return;const q=[];if(c.questions.forEach(L=>{const ne=x[L.id];L.type==="Multiple Choice"?(ne==null||ne==="")&&q.push(L.id):L.type==="Identification"?(!ne||typeof ne=="string"&&ne.trim()==="")&&q.push(L.id):L.type==="Activity"?ne||q.push(L.id):(ne==null||ne==="")&&q.push(L.id)}),q.length>0)try{if(!await(window.customConfirm||(he=>Promise.resolve(window.confirm(he))))("Some questions are unanswered. Submit anyway?")){p(he=>{const pe=q[0],Ne=c.questions.findIndex(je=>je.id===pe);return Ne>=0?Ne+1:he});return}}catch{return}try{if(H&&H.length>0){const L=new FormData,ne={};if(Object.keys(x).forEach(pe=>{const Ne=Number(pe),je=x[Ne];je instanceof File?(ne[Ne]=`__FILE__:${Ne}:${je.name}`,L.append(`files_q${Ne}`,je,je.name)):Array.isArray(je)&&je.length&&je[0]instanceof File?(ne[Ne]=`__FILE__:${Ne}:${je.map(Ie=>Ie.name).join(",")}`,je.forEach(Ie=>L.append(`files_q${Ne}`,Ie,Ie.name))):ne[Ne]=je}),L.append("answers",JSON.stringify(ne)),(await fetch(De(`/quizzes/${r}/submit`),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:L})).ok){try{const pe=`recentViewedItems_${y&&y.email?y.email:"guest"}`,Ne=localStorage.getItem(pe),je=Ne?JSON.parse(Ne):[],Ie=`Quiz-${r}`;if(!je.includes(Ie)){je.push(Ie),localStorage.setItem(pe,JSON.stringify(je));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}}catch{}if(j){try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}W(!0);return}try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}o(`/student/quizzes/${r}/score`);return}}}catch(L){console.error("Multipart submit failed:",L)}const Y={};if(Object.keys(x).forEach(L=>{const ne=Number(L),he=x[ne];he instanceof File?Y[ne]=`__FILE__:${ne}:${he.name}`:Array.isArray(he)&&he.length&&he[0]instanceof File?Y[ne]=`__FILE__:${ne}:${he.map(pe=>pe.name).join(",")}`:Y[ne]=he}),(await fetch(De(`/quizzes/${r}/submit`),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:JSON.stringify({answers:Y})})).ok){try{const L=`recentViewedItems_${y&&y.email?y.email:"guest"}`,ne=localStorage.getItem(L),he=ne?JSON.parse(ne):[],pe=`Quiz-${r}`;if(!he.includes(pe)){he.push(pe),localStorage.setItem(L,JSON.stringify(he));try{localStorage.setItem("recentUpdated",String(Date.now())),window.dispatchEvent(new Event("recentUpdated"))}catch{}}}catch{}if(j){try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}W(!0)}else{try{localStorage.removeItem("active_quiz_endAt"),localStorage.removeItem("active_quiz_id")}catch{}o(`/student/quizzes/${r}/score`)}}},$=async()=>{try{(await fetch(De(`/quizzes/${r}/unsubmit`),{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")}})).ok}catch{}W(!1)};if(!c||!N)return l.jsx("p",{children:"Loading..."});if(N.remaining<=0)return l.jsx("h2",{children:"You have used all attempts for this quiz."});if(C)return l.jsx("div",{className:"quiz-end-screen",children:l.jsxs("div",{className:"card end-card",children:[l.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3159/3159066.png",width:"80"}),j&&l.jsx("div",{className:"card",style:{padding:12,marginTop:12,textAlign:"center"},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"Your work"}),l.jsx("div",{children:"+ Add or create"}),l.jsx("div",{style:{marginTop:8},children:l.jsx("button",{className:"gc-open-btn",onClick:()=>w(),children:"Mark as done"})})]})})]})});c.questions[f-1];const P=q=>{if(!q)return null;const Y=String(q),Q=Y.startsWith("http")?Y:De(Y),L=Y.split("/").pop(),ne=(L||"").split(".").pop()?.toLowerCase();return ne==="pdf"?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("iframe",{src:Q,className:"gc-pdf-preview",title:L}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:L}),l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]}):["png","jpg","jpeg","gif","webp"].includes(ne)?l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("img",{src:Q,alt:L,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:L}),l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]}):l.jsxs("div",{className:"gc-pdf-card",children:[l.jsx("div",{className:"gc-pdf-preview",children:l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:L}),l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"})]})]})},me=()=>{k||A.current?.click()},ae=q=>{try{const Y=URL.createObjectURL(q),Q=document.createElement("a");Q.href=Y,Q.download=q.name||"download",document.body.appendChild(Q),Q.click(),Q.remove(),URL.revokeObjectURL(Y)}catch(Y){console.error("Local download failed",Y)}},b=q=>{const Y=Array.from(q.target.files||[]);if(!Y||Y.length===0)return;B(L=>[...L,...Y]);const Q=c.questions.find(L=>L.type==="Activity"||L.type==="activity");Q&&le(Q.id,Y[0]),q.target.value=""},_=q=>{k||B(Y=>{const Q=Y.slice(),L=Q.splice(q,1)[0],ne=c.questions.find(he=>he.type==="Activity"||he.type==="activity");if(ne){const he=x[ne.id];if(he instanceof File&&he.name===L.name){const pe=Q[0]||null;le(ne.id,pe)}}return Q})},V=()=>{try{o(-1)}catch{o("/student/quizzes")}};return l.jsxs("div",{className:"student-quiz-take",style:{display:"flex",gap:80,alignItems:"flex-start"},children:[l.jsxs("main",{style:{flex:1,paddingLeft:60,maxWidth:"900px"},children:[c.questions.map((q,Y)=>l.jsxs("div",{className:"card question-card",style:{position:"relative"},children:[String(q.type).toLowerCase()==="activity"?null:l.jsx("div",{className:"question-points",children:`${q.points?q.points:1} pts`}),l.jsx("h2",{children:String(q.type).toLowerCase()==="activity"?"Submission":["Question ",Y+1,"/",c.questions.length]}),l.jsx("p",{className:"subtext",children:"Contextualize your topic with a subtitle"}),l.jsx("div",{className:"question-text",children:q.question}),q.type==="Multiple Choice"&&q.options&&l.jsx("div",{children:JSON.parse(q.options).map((Q,L)=>l.jsxs("div",{className:"approval-row",children:[l.jsx("div",{className:"approval-avatar",children:l.jsx("span",{children:(L+1).toString()})}),l.jsx("div",{className:"approval-text",children:Q}),l.jsx("div",{className:"approval-actions",children:l.jsx("button",{type:"button",className:x[q.id]===Q?"accept-btn selected":"accept-btn",onClick:()=>le(q.id,Q),children:x[q.id]===Q?"Selected":"Select"})})]},L))}),q.type==="Identification"&&l.jsxs("div",{className:"id-row",children:[l.jsx("div",{className:"approval-avatar",children:l.jsx("span",{children:"A"})}),l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center"},children:l.jsx("input",{type:"text",className:"input",placeholder:"Type your answer...",value:x[q.id]||"",onChange:Q=>le(q.id,Q.target.value),style:{padding:"12px 14px",borderRadius:8,border:"1px solid #e6e6e6",width:"100%"}})})]}),q.type==="Activity"&&l.jsxs("div",{style:{marginTop:12},children:[(()=>{try{const Q=q.files?JSON.parse(q.files):q.filePath?[q.filePath]:[];return!Q||Q.length===0?null:l.jsxs("div",{children:Q.map((L,ne)=>l.jsxs("div",{className:"card",style:{padding:12,marginBottom:12},children:[l.jsx("div",{style:{fontWeight:700,marginBottom:8},children:q.title||q.question||"Files"}),l.jsx("div",{children:P(L)})]},ne))})}catch{return null}})()]}),l.jsx("button",{type:"button","aria-label":"Close activity",onClick:V,className:"question-close-btn",children:""})]},Y)),,j?null:l.jsxs("div",{style:{display:"flex",justifyContent:"center",marginTop:18},children:[l.jsx("button",{className:"gc-open-btn",style:{padding:"10px 20px"},onClick:k?$:()=>w(),children:k?"Unsubmit":j?"Mark as done":"Submit"})]})]}),l.jsx("aside",{style:{width:340},children:l.jsxs("div",{children:[j?null:l.jsx("div",{className:"card",style:{padding:16,textAlign:"center"},children:l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:"Time Remaining"}),l.jsx("div",{style:{fontSize:28,fontWeight:700,color:de?"#ef4444":"#111"},children:I})]})}),l.jsxs("div",{className:"card",style:{padding:12,marginTop:12},children:[j?l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("strong",{children:"Your work"}),l.jsx("div",{style:{fontSize:12,color:"#666"},children:"Assigned"})]}),l.jsxs("div",{children:[H&&H.length>0?l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:10},children:[H.map((q,Y)=>{const Q=q&&q instanceof File?URL.createObjectURL(q):null,L=q.name||String(q).split("/").pop(),ne=(L||"").split(".").pop()?.toLowerCase();return ne==="pdf"?l.jsxs("div",{key:Y,className:"gc-pdf-card",children:[l.jsx("iframe",{src:Q,className:"gc-pdf-preview",title:L}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:L}),l.jsxs("div",{children:[l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>ae(q),children:"Download"})]})]})]},Y):["png","jpg","jpeg","gif","webp"].includes(ne)?l.jsxs("div",{key:Y,className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("img",{src:Q,alt:L,style:{maxWidth:"100%",maxHeight:160,objectFit:"contain"}})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:L}),l.jsxs("div",{children:[l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>ae(q),children:"Download"})]})]})]},Y):l.jsxs("div",{key:Y,className:"gc-pdf-card",children:[l.jsxs("div",{className:"gc-pdf-preview",children:[l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:36},children:""})]}),l.jsxs("div",{className:"gc-pdf-info",children:[l.jsx("p",{className:"gc-pdf-name",children:L}),l.jsxs("div",{children:[l.jsx("a",{href:Q,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>ae(q),children:"Download"}),k?l.jsx("div",{style:{color:"#6b7280",fontSize:12,display:"inline-block",marginLeft:8},children:"Submitted"}):l.jsx("button",{className:"sidebar-file-remove","aria-label":"Remove file",onClick:()=>_(Y),style:{marginLeft:8},children:""})]})]})]},Y)})]}):null,l.jsx("div",{style:{marginBottom:10},children:l.jsx("button",{className:k?"view-all-btn disabled":"view-all-btn",style:{padding:"8px 18px",width:"100%",borderRadius:8,textAlign:"center",opacity:k?.6:1,cursor:k?"not-allowed":"pointer"},onClick:me,disabled:k,children:"+ Add or create"})})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center"},children:l.jsx("button",{className:"gc-open-btn",style:{padding:"8px 18px",width:"100%"},onClick:k?$:()=>w(),children:k?"Unsubmit":"Mark as done"})}),l.jsx("input",{type:"file",ref:A,style:{display:"none"},onChange:b,multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx"}),l.jsx("div",{style:{marginTop:12},children:(()=>{const q=c.questions.find(Q=>Q.type==="Activity"||Q.type==="activity");if(!q)return null;const Y=x[q.id];return Y?Y instanceof File?null:P(Y):l.jsx("div",{style:{color:"#666",textAlign:"center"},children:null})})()})]}):l.jsx("div",{style:{color:"#666"},children:""})]})]})})]})}function O0(){const{id:r}=Qs(),o=jt(),[c,u]=h.useState(null),[f,p]=h.useState([]),[x,E]=h.useState({}),N=(S,A)=>{E(H=>({...H,[S]:H[S]?null:A}))};h.useEffect(()=>{v()},[r]),h.useEffect(()=>{if(c)try{console.log("StudentQuizScore loaded scoreData",c)}catch{}},[c]);const v=async()=>{const S=await fetch(`http://localhost:5000/quizzes/${r}/score`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!S.ok)return;const A=await S.json();u(A);try{const H=await fetch(`http://localhost:5000/quizzes/${r}/submissions`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(H.ok){const B=await H.json();p(Array.isArray(B)?B:[])}}catch(H){console.error("failed loading submissions",H)}},C=async S=>{try{const A=S.startsWith("http")?S:`http://localhost:5000${S}`,H=await fetch(A,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});if(!H.ok)return alert("Failed to download file");const B=await H.blob(),k=URL.createObjectURL(B),W=document.createElement("a");W.href=k;const j=S.split("/");W.download=j[j.length-1]||"download",document.body.appendChild(W),W.click(),W.remove(),URL.revokeObjectURL(k)}catch(A){console.error("download error",A),alert("Download failed")}},D=S=>{if(!S||typeof S!="string")return[];let A=S.trim();if((A.startsWith('"')&&A.endsWith('"')||A.startsWith("'")&&A.endsWith("'"))&&(A=A.slice(1,-1)),A=A.replace(/\\\\/g,"/").replace(/\\/g,"/"),A.startsWith("["))try{const k=JSON.parse(A);return Array.isArray(k)?k:[]}catch{}const H=/(https?:\/\/[^\s"']+|\/uploads\/[^\s"']+)/g,B=A.match(H);return B?.length?B:A.includes("/uploads/")?[A]:[]},Z=(S,A)=>{const H=S.startsWith("http")?S:`http://localhost:5000${S}`,B=(S.split(".").pop()||"").toLowerCase();return B==="pdf"?l.jsxs("div",{style:{marginTop:10},children:[l.jsx("iframe",{src:H,style:{width:"100%",height:250}}),l.jsx("a",{href:H,target:"_blank",rel:"noreferrer",children:"Open PDF"})]},A):["png","jpg","jpeg","gif","webp"].includes(B)?l.jsxs("div",{style:{marginTop:10},children:[l.jsx("img",{src:H,alt:"",style:{maxWidth:"100%",maxHeight:250}}),l.jsx("a",{href:H,target:"_blank",rel:"noreferrer",children:"Open Image"})]},A):l.jsx("div",{style:{marginTop:10},children:l.jsx("a",{href:H,target:"_blank",rel:"noreferrer",children:S})},A)},re=(S,A)=>{if(!S)return null;const H=String(S),B=H.startsWith("http")?H:`http://localhost:5000${H}`,k=H.split("/").pop();return(k||"").split(".").pop()?.toLowerCase()==="pdf"?l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("div",{style:{width:160,height:120,border:"1px solid #eef0f3"},children:l.jsx("iframe",{src:B,title:k,style:{width:"100%",height:"100%",border:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:k}),l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:B,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>C(H),style:{marginLeft:8},className:"quiz-view-btn",children:"Download"})]})]})]},A):l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l.jsx("div",{style:{width:120,height:90,border:"1px solid #eef0f3",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600},children:k}),l.jsxs("div",{style:{marginTop:8},children:[l.jsx("a",{href:B,target:"_blank",rel:"noreferrer",className:"gc-open-btn",children:"Open"}),l.jsx("button",{onClick:()=>C(H),style:{marginLeft:8},className:"quiz-view-btn",children:"Download"})]})]})]},A)},X=S=>{const A=[];if(!S)return A;S.filePath&&A.push(String(S.filePath)),Array.isArray(S.filePaths)&&S.filePaths.forEach(k=>A.push(String(k)));const H=k=>{k&&(Array.isArray(k)?k.forEach(W=>{W&&A.push(String(W))}):A.push(String(k)))};if(typeof S.userAnswer=="string"){const k=S.userAnswer.trim();if(k.startsWith("/uploads/")||/\.(pdf|docx?|pptx?|png|jpg|jpeg|gif)$/i.test(k))return A.push(k),A}const B=k=>{if(k){if(typeof k=="string"){let W=k;try{W=W.replace(/\\\//g,"/").replace(/\\\\/g,"/").replace(/\\n/g," ")}catch{}try{if(W.startsWith("__FILE__:")){const g=W.split(":").slice(2).join(":");if(g&&f&&f.length>0){for(const y of f)if(y){y.filePath&&String(y.filePath).endsWith(g)&&A.push(String(y.filePath)),y.filePaths&&Array.isArray(y.filePaths)&&y.filePaths.forEach(U=>{String(U).endsWith(g)&&A.push(String(U))});try{B(y)}catch{}}}return}}catch{}const j=D(W);if(j&&j.length){for(const O of j)A.push(O);return}(W.includes("/uploads/")||/https?:\/\//.test(W)||/\.(pdf|png|jpg|jpeg|gif|docx?|pptx?)$/i.test(W))&&A.push(W);return}if(Array.isArray(k)){for(const W of k)B(W);return}if(typeof k=="object")for(const W of Object.keys(k))try{B(k[W])}catch{}}};if(Array.isArray(S.submittedFiles)&&S.submittedFiles.length&&H(S.submittedFiles),Array.isArray(S.files)&&S.files.length&&H(S.files),Array.isArray(S.uploads)&&S.uploads.length&&H(S.uploads),S.userAnswer)if(typeof S.userAnswer=="string"){const k=D(S.userAnswer);k&&k.length&&H(k);try{const W=JSON.parse(S.userAnswer);Array.isArray(W)&&H(W)}catch{}}else Array.isArray(S.userAnswer)?H(S.userAnswer):S.userAnswer&&typeof S.userAnswer=="object"&&(Array.isArray(S.userAnswer.files)&&H(S.userAnswer.files),Array.isArray(S.userAnswer.uploads)&&H(S.userAnswer.uploads));if(S.answer)if(typeof S.answer=="string"){const k=D(S.answer);k&&k.length&&H(k);try{const W=JSON.parse(S.answer);Array.isArray(W)&&H(W)}catch{}}else Array.isArray(S.answer)?H(S.answer):S.answer&&typeof S.answer=="object"&&(Array.isArray(S.answer.files)&&H(S.answer.files),Array.isArray(S.answer.uploads)&&H(S.answer.uploads),B(S.answer));if(Object.keys(S).forEach(k=>{const W=S[k];if(typeof W=="string"&&W.includes("/uploads/")){const j=D(W);j&&j.length&&H(j)}}),A.length===0&&f&&f.length>0)for(const k of f)k&&(k.filePath&&H(k.filePath),k.filePaths&&H(k.filePaths),B(k));return A.length===0&&B(S),Array.from(new Set(A.map(String)))};return c?l.jsxs("div",{className:"score-page",children:[l.jsxs("div",{className:"card score-header",children:[l.jsx("h1",{children:c.quizTitle}),l.jsxs("h2",{children:["Score: ",c.score," / ",c.total]}),l.jsx("button",{className:"btn",onClick:()=>o("/student/quizzes"),children:"Back to Quizzes"})]}),l.jsx("div",{className:"score-details",children:c.details.map((S,A)=>l.jsxs("div",{className:`card answer-card ${S.isCorrect?"correct":"wrong"}`,children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("h3",{children:["Question ",A+1]}),l.jsx("div",{style:{fontSize:13,color:"#444"},children:S.type==="Activity"?l.jsx("strong",{children:S.submitted?"Submitted":"Not submitted"}):l.jsxs("strong",{children:[S.awarded??0," / ",S.points??1," pts"]})})]}),l.jsx("p",{children:l.jsx("strong",{children:S.question})}),l.jsxs("p",{children:[l.jsx("strong",{children:"Your Answer:"})," ",(()=>{try{if(S.type==="Multiple Choice"){const j=S.userAnswer,O=S.correctAnswer,g=Array.isArray(S.options)?S.options:[];if(!g||g.length===0){const y=(S.userAnswer??S.answer??"")||"<No answer>",U=typeof y=="string"?y:JSON.stringify(y),I=!!S.isCorrect,de={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",borderRadius:8,background:I?"#e6ffed":"#ffecec",border:I?"1px solid #7be29a":"1px solid #ff9b9b",color:"#111"};return l.jsx("div",{style:{marginTop:8},children:l.jsxs("div",{style:de,children:[l.jsx("div",{style:{flex:1},children:U}),l.jsx("div",{style:{marginLeft:12},children:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:I?"#0f9d58":"#e55a4e",color:"#fff",fontSize:12},children:"Selected"})})]})})}return l.jsx("div",{style:{marginTop:10},children:g.map((y,U)=>{const I=y===j,de=y===O;let ie="#f7f7f7",z="1px solid #ccc";return de&&(ie="#e6ffed",z="1px solid #7be29a"),I&&!de&&(ie="#ffecec",z="1px solid #ff9b9b"),l.jsxs("div",{style:{padding:"10px",marginBottom:"8px",borderRadius:"8px",background:ie,border:z,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{style:{flex:1},children:y}),I&&l.jsx("span",{style:{padding:"4px 10px",fontSize:"12px",borderRadius:"999px",background:de?"#0f9d58":"#e55a4e",color:"white",marginLeft:12},children:de?"Selected - correct":"Selected - wrong"})]},U)})})}if(S.type==="Identification"){const j=(S.userAnswer??S.answer??"")||"<No answer>",O=typeof j=="string"?j:JSON.stringify(j),g=!!S.isCorrect,y={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px",borderRadius:8,background:g?"#e6ffed":"#ffecec",border:g?"1px solid #7be29a":"1px solid #ff9b9b",color:"#111"};return l.jsx("div",{style:{marginTop:8},children:l.jsxs("div",{style:y,children:[l.jsx("div",{style:{flex:1},children:O}),l.jsx("div",{style:{marginLeft:12},children:l.jsx("span",{style:{padding:"4px 8px",borderRadius:999,background:g?"#0f9d58":"#e55a4e",color:"#fff",fontSize:12},children:"Selected"})})]})})}const H=typeof S.userAnswer=="string"&&S.userAnswer||typeof S.answer=="string"&&S.answer||"",B=D(H||"");if(B&&B.length>0)return l.jsx("div",{children:B.map((j,O)=>Z(j,`simple-${A}-${O}`))});let k=X(S)||[];if((!k||k.length===0)&&typeof S.userAnswer=="string"&&(k=D(S.userAnswer)),(!k||k.length===0)&&typeof S.answer=="string"&&(k=D(S.answer)),!k||k.length===0)try{const j=JSON.stringify(S),O=D(j);O&&O.length&&(k=O)}catch{}if(k&&k.length>0)return l.jsxs("div",{children:[k.map((j,O)=>re(j,O))]});const W=typeof S.userAnswer=="string"&&S.userAnswer.trim()||typeof S.answer=="string"&&S.answer.trim()||null;if(W&&(W.includes("/uploads/")||W.startsWith("/"))){const j=W.trim(),O=j.startsWith("http")?j:`http://localhost:5000${j}`,g=j.split("/").pop();return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[l.jsx("div",{style:{fontWeight:600},children:g}),l.jsxs("div",{children:[l.jsx("button",{onClick:()=>window.open(O,"_blank"),className:"gc-open-btn",children:"Open"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>C(j),children:"Download"}),l.jsx("button",{style:{marginLeft:8},onClick:()=>N(A,O),children:x[A]?"Hide Preview":"Preview"})]})]}),x[A]?l.jsx("div",{style:{marginTop:8},children:l.jsx("iframe",{src:O,title:g,style:{width:"100%",height:400,border:"none"}})}):null]})}}catch(H){console.error("Answer render error",H)}return l.jsx("span",{style:{color:S.isCorrect?"green":"red"},children:S.userAnswer??S.answer})})()]}),!S.isCorrect&&l.jsxs("p",{children:[l.jsx("strong",{children:"Correct Answer:"})," ",S.correctAnswer]})]},A))})]}):l.jsx("p",{children:"Loading score..."})}function _0(){const{user:r}=wt(),[o,c]=h.useState(!0);return l.jsx(dv,{children:r?l.jsxs("div",{className:"min-h-screen",style:{display:"flex"},children:[l.jsx(l0,{}),l.jsxs("div",{style:{marginLeft:"16rem",flex:1},children:[l.jsx(u0,{}),l.jsx("main",{style:{padding:"1.5rem"},children:l.jsxs(Yy,{children:[r.role==="superteacher"&&l.jsxs(l.Fragment,{children:[l.jsx(Ke,{path:"/superteacher/approvals",element:l.jsx(A0,{})}),l.jsx(Ke,{path:"/profile",element:l.jsx(mo,{})}),l.jsx(Ke,{path:"*",element:l.jsx(ro,{to:"/superteacher/approvals",replace:!0})})]}),r.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsx(Ke,{path:"/teacher/dashboard",element:l.jsx(f0,{})}),l.jsx(Ke,{path:"/profile",element:l.jsx(mo,{})}),l.jsx(Ke,{path:"/teacher/module",element:l.jsx(m0,{})}),l.jsx(Ke,{path:"/teacher/settings",element:l.jsx(h0,{})}),l.jsx(Ke,{path:"/teacher/students",element:l.jsx(p0,{})}),l.jsx(Ke,{path:"/teacher/announcements",element:l.jsx(v0,{})}),l.jsx(Ke,{path:"/teacher/grades",element:l.jsx(x0,{})}),l.jsx(Ke,{path:"/teacher/quizzes",element:l.jsx(j0,{})}),l.jsx(Ke,{path:"/teacher/approvals",element:l.jsx(b0,{})}),l.jsx(Ke,{path:"/teacher/module/:id",element:l.jsx(Km,{})}),l.jsx(Ke,{path:"/teacher/quiz-builder",element:l.jsx(S0,{})}),l.jsx(Ke,{path:"/teacher/quiz/:id/view",element:l.jsx(N0,{})}),l.jsx(Ke,{path:"*",element:l.jsx(ro,{to:"/teacher/dashboard",replace:!0})})]}),r.role==="student"&&l.jsxs(l.Fragment,{children:[l.jsx(Ke,{path:"/profile",element:l.jsx(mo,{})}),l.jsx(Ke,{path:"/student/dashboard",element:l.jsx(z0,{})}),l.jsx(Ke,{path:"/student/modules",element:l.jsx(E0,{})}),l.jsx(Ke,{path:"/student/quizzes",element:l.jsx(D0,{})}),l.jsx(Ke,{path:"/student/announcements",element:l.jsx(T0,{})}),l.jsx(Ke,{path:"/student/quiz/:id",element:l.jsx(M0,{})}),l.jsx(Ke,{path:"/student/quizzes/:id/score",element:l.jsx(O0,{})}),l.jsx(Ke,{path:"/student/module/:id",element:l.jsx(Km,{})}),l.jsx(Ke,{path:"*",element:l.jsx(ro,{to:"/student/dashboard",replace:!0})})]})]})})]})]}):l.jsx("div",{className:"container",children:o?l.jsx(Mv,{onToggle:()=>c(!1)}):l.jsx(Ov,{onToggle:()=>c(!0)})})})}const k0=h.createContext(null);function R0({children:r}){const[o,c]=h.useState(null),u=h.useCallback(E=>new Promise(N=>{c({type:"alert",message:String(E),resolve:N})}),[]),f=h.useCallback(E=>new Promise(N=>{c({type:"confirm",message:String(E),resolve:N})}),[]);h.useEffect(()=>(window.customAlert=E=>u(E),window.customConfirm=E=>f(E),window.alert=E=>{u(E)},()=>{try{delete window.customAlert}catch{}try{delete window.customConfirm}catch{}}),[u,f]);const p=()=>{o&&o.type==="alert"&&(o.resolve(),c(null))},x=E=>{o&&(o.resolve(!!E),c(null))};return l.jsxs(k0.Provider,{value:{showAlert:u,showConfirm:f},children:[r,o&&l.jsx("div",{className:"modal-overlay",onClick:()=>{o.type==="alert"&&p()},style:{background:"transparent",backdropFilter:"none",WebkitBackdropFilter:"none"},children:l.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),style:o.type==="confirm"?{position:"fixed",left:"50%",transform:"translateX(-50%)",top:"6vh",background:"#fff",color:"#111",maxWidth:520,padding:"14px 18px",zIndex:1e3}:{background:"#fff",color:"#111",maxWidth:520,margin:"0 auto",marginTop:"6vh",padding:"18px 22px"},children:[l.jsx("h2",{className:"modal-title",style:{color:"#111"},children:o.type==="alert"?"Notice":"Confirmation"}),l.jsx("div",{className:"modal-form",style:{color:"#111"},children:l.jsx("p",{style:{whiteSpace:"pre-wrap"},children:o.message})}),l.jsx("div",{className:"modal-actions",children:o.type==="confirm"?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"modal-btn cancel",onClick:()=>x(!1),children:"Cancel"}),l.jsx("button",{className:"modal-btn create",onClick:()=>x(!0),children:"OK"})]}):l.jsx("button",{className:"modal-btn create",onClick:()=>p(),children:"OK"})})]})})]})}Wg.createRoot(document.getElementById("root")).render(l.jsx(ia.StrictMode,{children:l.jsx(R0,{children:l.jsx(Dv,{children:l.jsx(_0,{})})})}));
